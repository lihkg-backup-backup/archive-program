{"tid":324158,"cid":26,"subCid":0,"title":"有冇CUDA 或者Parallel Computing 高手?","createTime":"2017-07-16T08:16:00.000Z","updateTime":"2017-07-24T08:58:34.000Z","uid":66833,"like":1,"dislike":0,"uniUserReply":0,"replies":[{"pid":"3d199968f3de8d4a571ce53aefcafeeb70d0e086","tid":324158,"uid":66833,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-16T08:16:00.000Z","msg":"要解決一個at least 5D 既summation, size 大約係 400*200*200*9*4<br />\n每個dimension 都有各自既function of all variables, 想請教下點用Cuda 可以加快計算速度? 或者有研究開既巴絲都可以留名討論下。<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" />"},{"pid":"7e63c6422954a7c2afa8993b776389d4ba275e20","tid":324158,"uid":60249,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2017-07-16T11:08:52.000Z","msg":"此回覆已被刪除"},{"pid":"081cd3c5b520c9410a1784a71388dd1c6c4a127b","tid":324158,"uid":66833,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-16T14:04:08.000Z","msg":"<blockquote><blockquote>要解決一個at least 5D 既summation, size 大約係 400*200*200*9*4<br />\n每個dimension 都有各自既function of all variables, 想請教下點用Cuda 可以加快計算速度? 或者有研究開既巴絲都可以留名討論下。<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /></blockquote><br />\n<br />\n呢度應該得垃圾......</blockquote><br />\n<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"db37dd353cf31677991ec08aac2b09f1eb1e8049","tid":324158,"uid":35965,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-17T01:11:59.000Z","msg":"5D reduce to 1D??"},{"pid":"782d2a4e6c71df24b849185287d002989d7da0dc","tid":324158,"uid":12599,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-17T01:15:17.000Z","msg":"<blockquote>要解決一個at least 5D 既summation, size 大約係 400*200*200*9*4<br />\n每個dimension 都有各自既function of all variables, 想請教下點用Cuda 可以加快計算速度? 或者有研究開既巴絲都可以留名討論下。<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /></blockquote><br />\n<a href=\"https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F26717724%2Fhow-to-do-matrix-addition-with-cuda-c&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=51ca8677\" target=\"_blank\">https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c</a><br />\n<br />\n自己extend去5D<br />\n<br />\n如果windows python就可以用numba call cuda<br />\n<a href=\"https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F21444148%2Fnumba-matrix-vector-multiplication&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=ae155e6a\" target=\"_blank\">https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication</a><br />\n<br />\n如果windows python 3.6就用pytorch, Linux /macos python 2.7 就ok ( anaconda會易裝d)"},{"pid":"c5e070fb714cb5b1d9489cd7ce777fe711fc26bf","tid":324158,"uid":66833,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-17T07:21:46.000Z","msg":"<blockquote><blockquote>要解決一個at least 5D 既summation, size 大約係 400*200*200*9*4<br />\n每個dimension 都有各自既function of all variables, 想請教下點用Cuda 可以加快計算速度? 或者有研究開既巴絲都可以留名討論下。<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /></blockquote><br />\n<a href=\"https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F26717724%2Fhow-to-do-matrix-addition-with-cuda-c&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=51ca8677\" target=\"_blank\">https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c</a><br />\n<br />\n自己extend去5D<br />\n<br />\n如果windows python就可以用numba call cuda<br />\n<a href=\"https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F21444148%2Fnumba-matrix-vector-multiplication&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=ae155e6a\" target=\"_blank\">https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication</a><br />\n<br />\n如果windows python 3.6就用pytorch, Linux /macos python 2.7 就ok ( anaconda會易裝d)</blockquote><br />\n大大介唔介意交換telegram 再交流下<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <br />\n5D 只係基本, 實際應該唔止5D 咁少. <br />\n另外而家個program 我都係先用python 寫好哂, 但當我試過pycuda 試極都唔work 之後而家諗緊係C 再寫多次. <br />\n如果係python work 我會直接用python"},{"pid":"ec23888dc12cdd38006559bf7d45b2b594274c45","tid":324158,"uid":66833,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-17T07:25:19.000Z","msg":"<blockquote><blockquote><blockquote>要解決一個at least 5D 既summation, size 大約係 400*200*200*9*4<br />\n每個dimension 都有各自既function of all variables, 想請教下點用Cuda 可以加快計算速度? 或者有研究開既巴絲都可以留名討論下。<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /></blockquote><br />\n<a href=\"https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F26717724%2Fhow-to-do-matrix-addition-with-cuda-c&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=51ca8677\" target=\"_blank\">https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c</a><br />\n<br />\n自己extend去5D<br />\n<br />\n如果windows python就可以用numba call cuda<br />\n<a href=\"https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F21444148%2Fnumba-matrix-vector-multiplication&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=ae155e6a\" target=\"_blank\">https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication</a><br />\n<br />\n如果windows python 3.6就用pytorch, Linux /macos python 2.7 就ok ( anaconda會易裝d)</blockquote><br />\n大大介唔介意交換telegram 再交流下<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <br />\n5D 只係基本, 實際應該唔止5D 咁少. <br />\n<span style=\"color: red;\">另外而家個program 我都係先用python 寫好哂</span>, 但當我試過pycuda 試極都唔work 之後而家諗緊係C 再寫多次. <br />\n如果係python work 我會直接用python</blockquote><br />\n講得清楚少少, 寫好哂既係serial computing, 比CPU run 係可以run 到答案但應該要run 三幾星期先有. parallel computing 既版本係未開始寫."},{"pid":"05446f58cc30fa6171f145db20632d0ae151fc0e","tid":324158,"uid":66833,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-17T09:19:19.000Z","msg":"<blockquote><blockquote>要解決一個at least 5D 既summation, size 大約係 400*200*200*9*4<br />\n每個dimension 都有各自既function of all variables, 想請教下點用Cuda 可以加快計算速度? 或者有研究開既巴絲都可以留名討論下。<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /></blockquote><br />\n<a href=\"https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F26717724%2Fhow-to-do-matrix-addition-with-cuda-c&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=51ca8677\" target=\"_blank\">https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c</a><br />\n<br />\n<span style=\"color: red;\">自己extend去5D</span><br />\n<br />\n如果windows python就可以用numba call cuda<br />\n<a href=\"https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F21444148%2Fnumba-matrix-vector-multiplication&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=ae155e6a\" target=\"_blank\">https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication</a><br />\n<br />\n如果windows python 3.6就用pytorch, Linux /macos python 2.7 就ok ( anaconda會易裝d)</blockquote><br />\n<br />\n我當初講個summation 講得1999, 睇完條link發覺唔太相似<br />\n我比D例子, <br />\nsummation involving 2 variables: <br />\nsum = 0<br />\nfor (int x = MIN_X; x &lt; MAX_X; ++x){<br />\nfor (int y = MIN_Y; y &lt; MAX_Y; ++y){<br />\nsum += x + y*2<br />\n}<br />\n}<br />\n<br />\nsummation involving 3 variables:<br />\nfor (int a = MIN_A; a &lt; MAX_A; ++a){<br />\nfor (int b = MIN_B; b &lt; MAX_B; ++b){<br />\nc = h(a, b) // h can be very complicated<br />\nfor (int d = MIN_D; d &lt; MAX_D; ++d){<br />\nif (...):<br />\nsum += f(c, d) + ...<br />\nelse:<br />\nsum+= ...<br />\n}<br />\n}<br />\n}<br />\n<br />\n我係要solve 一個summation involving at least 5 variables, 有某D variable 既range 只係得幾個, 而其他就係幾百<br />\n<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" />"},{"pid":"4bb9f43b937422f3acee54b25e512b0ae2286fbd","tid":324158,"uid":35965,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-17T11:24:06.000Z","msg":"<blockquote><blockquote><blockquote>要解決一個at least 5D 既summation, size 大約係 400*200*200*9*4<br />\n每個dimension 都有各自既function of all variables, 想請教下點用Cuda 可以加快計算速度? 或者有研究開既巴絲都可以留名討論下。<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /></blockquote><br />\n<a href=\"https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F26717724%2Fhow-to-do-matrix-addition-with-cuda-c&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=51ca8677\" target=\"_blank\">https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c</a><br />\n<br />\n<span style=\"color: red;\">自己extend去5D</span><br />\n<br />\n如果windows python就可以用numba call cuda<br />\n<a href=\"https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F21444148%2Fnumba-matrix-vector-multiplication&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=ae155e6a\" target=\"_blank\">https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication</a><br />\n<br />\n如果windows python 3.6就用pytorch, Linux /macos python 2.7 就ok ( anaconda會易裝d)</blockquote><br />\n<br />\n我當初講個summation 講得1999, 睇完條link發覺唔太相似<br />\n我比D例子, <br />\nsummation involving 2 variables: <br />\nsum = 0<br />\nfor (int x = MIN_X; x &lt; MAX_X; ++x){<br />\nfor (int y = MIN_Y; y &lt; MAX_Y; ++y){<br />\nsum += x + y*2<br />\n}<br />\n}<br />\n<br />\nsummation involving 3 variables:<br />\nfor (int a = MIN_A; a &lt; MAX_A; ++a){<br />\nfor (int b = MIN_B; b &lt; MAX_B; ++b){<br />\nc = h(a, b) // h can be very complicated<br />\nfor (int d = MIN_D; d &lt; MAX_D; ++d){<br />\nif (...):<br />\nsum += f(c, d) + ...<br />\nelse:<br />\nsum+= ...<br />\n}<br />\n}<br />\n}<br />\n<br />\n我係要solve 一個summation involving at least 5 variables, 有某D variable 既range 只係得幾個, 而其他就係幾百<br />\n<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /></blockquote><br />\n請先看看 Nvidia 的 Matrix Multiply Example  <br />\n1.你的 variables dimensions length 遠大於CUDA shared memory size. <br />\n2. 你的 func 可否 parallel?"},{"pid":"29e4e0faae99816800486f8da268054586203884","tid":324158,"uid":88588,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-17T12:29:42.000Z","msg":"summation既意思係咪即係最後出一粒數 ?<br />\n係既話其實可以試下用mapreduce既 concept做...<br />\n<br />\nbtw 5D matrix聽落唔實際,<br />\n會唔會轉做 sparse matrix搵non- empty point先再做?"},{"pid":"066578396e305c30d3153e18d6dfd1065d010f18","tid":324158,"uid":66833,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-17T15:00:09.000Z","msg":"好感動，高手在連登<br />\n我可以講多少少我個問題，因為之前既description 我係simplified 左<br />\n係簡化過程中我好似自己都搞錯左d 野， mislead 左各巴絲唔好意思<br />\nGiven a 3D matrix V1[K][J][I], I have to find the values for each single cell in another 3D matrix V2 with the same structure as V1. The ranges of I J K are from 100 - 500 each, it depends on my analysis needs. <br />\nRead the idea below and you will understand why I said it is 5D, there are two more variable q1 and q2: <br />\nfor (k){<br />\nfor (j){<br />\nfor (i){<br />\nV2[k][j][i] = 0 // just to initialise the value to be 0 <br />\nfor (q1){<br />\nfor (q2){<br />\nV2[k][j][i] += V1[k][f(q1,q2)][g(q1,q2)]*h(q1,q2)<br />\n// only K is fixed<br />\n// which cell in V1 I need for calculating V2 depends on q1 q2, functions f and g.<br />\n// functions f g and h are complicated <br />\n// if the result of f and g are not on the grid point of V1, I need to do further computation to estimate the value I need. (Very common to have non integer result) <br />\n}<br />\n}<br />\n}<br />\n}<br />\n}<br />\n<br />\nIs variable dimension length &gt; CUDA shared memory size? <br />\n&gt;&gt; Actually I know nothing about shared memory size... is my V1 too large? <br />\nCan function be parallel? <br />\n&gt;&gt; as f, g, and h are purely functions of q1 and q2 so I think it can. <br />\n<br />\n我諗果個matrix sample 係似，若果要將佢變到fit 我用既，係咪仲有一段距離？求巴絲指教！"},{"pid":"cc78672305835c26ec55ed21081eb31c9fef7acf","tid":324158,"uid":48277,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-17T15:01:00.000Z","msg":"功課自己做啦"},{"pid":"3ae79aa1298c8fc7507c6421246080abd98e1331","tid":324158,"uid":66833,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-17T15:09:53.000Z","msg":"<blockquote>功課自己做啦</blockquote><br />\n呢個唔係功課<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"34d7f1116bda7bc5ac4267395e0270f406fbd10f","tid":324158,"uid":28279,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-17T15:32:08.000Z","msg":"<blockquote><blockquote>功課自己做啦</blockquote><br />\n呢個唔係功課<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /></blockquote><br />\n<img src=\"/assets/faces/normal/oh.gif\" class=\"hkgmoji\" /> 咩科功課要用cuda?"},{"pid":"f3b699d0cf6042e404ef3be634178638b0993557","tid":324158,"uid":66833,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-17T23:45:57.000Z","msg":"<blockquote><blockquote><blockquote>功課自己做啦</blockquote><br />\n呢個唔係功課<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /></blockquote><br />\n<img src=\"/assets/faces/normal/oh.gif\" class=\"hkgmoji\" /> 咩科功課要用cuda?</blockquote><br />\n係功課就唔會咁複雜<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"41fb870550d8a69a21f367a104c6fd67853a1969","tid":324158,"uid":35965,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-18T01:22:57.000Z","msg":"用 function 去 gen  index of matrix 你預唔會好快  你不如用第二個方法寫個個 program"},{"pid":"c7ab0aa1d9585a78350b2778634da2e0ecf9813c","tid":324158,"uid":66833,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-18T01:32:20.000Z","msg":"<blockquote>用 function 去 gen  index of matrix 你預唔會好快  你不如用第二個方法寫個個 program</blockquote><br />\n咁應該點? <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" />"},{"pid":"19cc30a6281a56c3d6e12178ff2a96e18d5fcc84","tid":324158,"uid":66833,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-18T02:20:20.000Z","msg":"<blockquote><blockquote><blockquote><blockquote>要解決一個at least 5D 既summation, size 大約係 400*200*200*9*4<br />\n每個dimension 都有各自既function of all variables, 想請教下點用Cuda 可以加快計算速度? 或者有研究開既巴絲都可以留名討論下。<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /></blockquote><br />\n<a href=\"https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F26717724%2Fhow-to-do-matrix-addition-with-cuda-c&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=51ca8677\" target=\"_blank\">https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c</a><br />\n<br />\n<span style=\"color: red;\">自己extend去5D</span><br />\n<br />\n如果windows python就可以用numba call cuda<br />\n<a href=\"https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F21444148%2Fnumba-matrix-vector-multiplication&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=ae155e6a\" target=\"_blank\">https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication</a><br />\n<br />\n如果windows python 3.6就用pytorch, Linux /macos python 2.7 就ok ( anaconda會易裝d)</blockquote><br />\n<br />\n我當初講個summation 講得1999, 睇完條link發覺唔太相似<br />\n我比D例子, <br />\nsummation involving 2 variables: <br />\nsum = 0<br />\nfor (int x = MIN_X; x &lt; MAX_X; ++x){<br />\nfor (int y = MIN_Y; y &lt; MAX_Y; ++y){<br />\nsum += x + y*2<br />\n}<br />\n}<br />\n<br />\nsummation involving 3 variables:<br />\nfor (int a = MIN_A; a &lt; MAX_A; ++a){<br />\nfor (int b = MIN_B; b &lt; MAX_B; ++b){<br />\nc = h(a, b) // h can be very complicated<br />\nfor (int d = MIN_D; d &lt; MAX_D; ++d){<br />\nif (...):<br />\nsum += f(c, d) + ...<br />\nelse:<br />\nsum+= ...<br />\n}<br />\n}<br />\n}<br />\n<br />\n我係要solve 一個summation involving at least 5 variables, 有某D variable 既range 只係得幾個, 而其他就係幾百<br />\n<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /></blockquote><br />\n請先看看 Nvidia 的 Matrix Multiply Example  <br />\n<span style=\"color: red;\">1.你的 variables dimensions length 遠大於CUDA shared memory size. </span><br />\n2. 你的 func 可否 parallel?</blockquote><br />\n我用上面你提供既example 自己改下array size 都會遇到呢個情況, 其實條數係點計? such that 我自己可以estimate 下我點樣set D array size, 或者甚至estimate 到我要計我需要計既野時候需要幾多memory ?"},{"pid":"acf6ed7a47639f1d0845712ebbb21b6aa7d7b699","tid":324158,"uid":35965,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-18T02:52:54.000Z","msg":"<blockquote><blockquote><blockquote><blockquote><blockquote>要解決一個at least 5D 既summation, size 大約係 400*200*200*9*4<br />\n每個dimension 都有各自既function of all variables, 想請教下點用Cuda 可以加快計算速度? 或者有研究開既巴絲都可以留名討論下。<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /></blockquote><br />\n<a href=\"https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F26717724%2Fhow-to-do-matrix-addition-with-cuda-c&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=51ca8677\" target=\"_blank\">https://stackoverflow.com/questions/26717724/how-to-do-matrix-addition-with-cuda-c</a><br />\n<br />\n<span style=\"color: red;\">自己extend去5D</span><br />\n<br />\n如果windows python就可以用numba call cuda<br />\n<a href=\"https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F21444148%2Fnumba-matrix-vector-multiplication&d=aXcLiUvFnzfo6nRO7BKCjjM0pwszV1jUpWwTgNsMWwc%3D&h=ae155e6a\" target=\"_blank\">https://stackoverflow.com/questions/21444148/numba-matrix-vector-multiplication</a><br />\n<br />\n如果windows python 3.6就用pytorch, Linux /macos python 2.7 就ok ( anaconda會易裝d)</blockquote><br />\n<br />\n我當初講個summation 講得1999, 睇完條link發覺唔太相似<br />\n我比D例子, <br />\nsummation involving 2 variables: <br />\nsum = 0<br />\nfor (int x = MIN_X; x &lt; MAX_X; ++x){<br />\nfor (int y = MIN_Y; y &lt; MAX_Y; ++y){<br />\nsum += x + y*2<br />\n}<br />\n}<br />\n<br />\nsummation involving 3 variables:<br />\nfor (int a = MIN_A; a &lt; MAX_A; ++a){<br />\nfor (int b = MIN_B; b &lt; MAX_B; ++b){<br />\nc = h(a, b) // h can be very complicated<br />\nfor (int d = MIN_D; d &lt; MAX_D; ++d){<br />\nif (...):<br />\nsum += f(c, d) + ...<br />\nelse:<br />\nsum+= ...<br />\n}<br />\n}<br />\n}<br />\n<br />\n我係要solve 一個summation involving at least 5 variables, 有某D variable 既range 只係得幾個, 而其他就係幾百<br />\n<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /></blockquote><br />\n請先看看 Nvidia 的 Matrix Multiply Example  <br />\n<span style=\"color: red;\">1.你的 variables dimensions length 遠大於CUDA shared memory size. </span><br />\n2. 你的 func 可否 parallel?</blockquote><br />\n我用上面你提供既example 自己改下array size 都會遇到呢個情況, 其實條數係點計? such that 我自己可以estimate 下我點樣set D array size, 或者甚至estimate 到我要計我需要計既野時候需要幾多memory ?</blockquote><br />\n可以先用 nsight profiler睇下先"},{"pid":"cac7aef8c8dcdc4b1576b1fa93629087517c0172","tid":324158,"uid":88588,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-18T11:43:18.000Z","msg":"假設你q1 q2 finite length int裝得晒啦.<br />\n<br />\n咁其實f(q1,q2) 同 g(.) h(.) 都可以 reuse.<br />\n咁做咩要將個 complexity搞到咁大呢...."},{"pid":"fb9f9d79d705dc91a2e4afe02246e6a6f5196ebf","tid":324158,"uid":66833,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-18T13:48:36.000Z","msg":"<blockquote>假設你q1 q2 finite length int裝得晒啦.<br />\n<br />\n咁其實f(q1,q2) 同 g(.) h(.) 都可以 reuse.<br />\n咁做咩要將個 complexity搞到咁大呢....</blockquote><br />\n有無得詳細d?<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> 應該點改個algorithm ?"},{"pid":"6f262333fde0c6496d320f5f503db863bb83d615","tid":324158,"uid":66833,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-18T13:52:07.000Z","msg":"另外尋求debug 用既idea <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> 我已經改左個parallel programming ge 初形出黎，但有bug, 又無得print 唔知應該點解決<img src=\"/assets/faces/normal/clown.gif\" class=\"hkgmoji\" />"},{"pid":"a78147a4a84f943b6aeae1067f283a93600e321c","tid":324158,"uid":88588,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-19T10:32:36.000Z","msg":"<blockquote><blockquote>假設你q1 q2 finite length int裝得晒啦.<br />\n<br />\n咁其實f(q1,q2) 同 g(.) h(.) 都可以 reuse.<br />\n咁做咩要將個 complexity搞到咁大呢....</blockquote><br />\n有無得詳細d?<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> 應該點改個algorithm ?</blockquote><br />\n咪拆左個f/g/h 出黎, loop左q1q2 build左個 table先,<br />\n然後再處理 V2[k[j][i]"},{"pid":"3e021388acea0b34880c7f2fb67198b162fa59e7","tid":324158,"uid":66833,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-07-19T14:19:28.000Z","msg":"<blockquote><blockquote><blockquote>假設你q1 q2 finite length int裝得晒啦.<br />\n<br />\n咁其實f(q1,q2) 同 g(.) h(.) 都可以 reuse.<br />\n咁做咩要將個 complexity搞到咁大呢....</blockquote><br />\n有無得詳細d?<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> 應該點改個algorithm ?</blockquote><br />\n咪拆左個f/g/h 出黎, loop左q1q2 build左個 table先,<br />\n然後再處理 V2[k[j][i]</blockquote><br />\nWhat if f/g also depends on i j ? <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" />"},{"pid":"77b71ba94fab2a559229fece8070d49c795fc1d1","tid":324158,"uid":66833,"like":0,"dislike":1,"score":-1,"citedBy":0,"replyTime":"2017-07-19T15:11:35.000Z","msg":"<blockquote><blockquote><blockquote><blockquote>假設你q1 q2 finite length int裝得晒啦.<br />\n<br />\n咁其實f(q1,q2) 同 g(.) h(.) 都可以 reuse.<br />\n咁做咩要將個 complexity搞到咁大呢....</blockquote><br />\n有無得詳細d?<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> 應該點改個algorithm ?</blockquote><br />\n咪拆左個f/g/h 出黎, loop左q1q2 build左個 table先,<br />\n然後再處理 V2[k[j][i]</blockquote><br />\nWhat if f/g also depends on i j ? <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /></blockquote><br />\n其實上面講果個問題我基本上已經搞掂<br />\n但有個再複雜少少既等緊我<img src=\"/assets/faces/normal/frown.gif\" class=\"hkgmoji\" />"}]}