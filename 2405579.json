{"tid":2405579,"cid":5,"subCid":12,"title":"黑鏡觀察：別讓「安心出行」成習慣 寧願登記唔好用App","createTime":"2021-02-12T13:01:19.000Z","updateTime":"2021-02-20T11:17:10.000Z","uid":48083,"like":206,"dislike":3,"uniUserReply":75,"replies":[{"pid":"d060372cdfeb97d95dbfaabfd43eafb96c49dcdc","tid":2405579,"uid":48083,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T13:01:20.000Z","msg":"<img src=\"https://na.cx/i/ZVZUe2L.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FZVZUe2L.png&h=e2ee76a5&s={SIZE}\" /><img src=\"https://na.cx/i/wzKhcPs.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FwzKhcPs.png&h=e691b314&s={SIZE}\" /><img src=\"https://na.cx/i/ZWvL59t.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FZWvL59t.png&h=9a91934a&s={SIZE}\" /><img src=\"https://na.cx/i/9Oj1Euu.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2F9Oj1Euu.png&h=bac88693&s={SIZE}\" /><br />\n<br />\n<a href=\"https://mewe.com/p/blackmirrortech\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fmewe.com%2Fp%2Fblackmirrortech&d=j8A0%2F5fiWOW2Etl1DmJ%2F%2FKP8PJJZD286lWcuKEclkJo%3D&h=5edaadf2\" target=\"_blank\">https://mewe.com/p/blackmirrortech</a>"},{"pid":"b7ad915e5bad24416b6eb8d82ed20503c03860f6","tid":2405579,"uid":48083,"like":44,"dislike":0,"score":44,"citedBy":0,"replyTime":"2021-02-12T13:03:32.000Z","msg":"<img src=\"https://na.cx/i/qo6CXhk.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2Fqo6CXhk.png&h=02875479&s={SIZE}\" /><img src=\"https://na.cx/i/2ygCXhm.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2F2ygCXhm.png&h=4a0ce0b0&s={SIZE}\" /><img src=\"https://na.cx/i/CrsFU33.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FCrsFU33.png&h=e1b9c20e&s={SIZE}\" /><img src=\"https://na.cx/i/KU8YGJ4.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FKU8YGJ4.png&h=158c9f24&s={SIZE}\" /><br />\n<br />\n<a href=\"https://mewe.com/p/blackmirrortech\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fmewe.com%2Fp%2Fblackmirrortech&d=j8A0%2F5fiWOW2Etl1DmJ%2F%2FKP8PJJZD286lWcuKEclkJo%3D&h=5edaadf2\" target=\"_blank\">https://mewe.com/p/blackmirrortech</a>"},{"pid":"fd36fa71be5d3741e960314663fd546abd9a7a10","tid":2405579,"uid":51271,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T13:03:35.000Z","msg":"pish this"},{"pid":"f07b5e206333c5f8bee79c4e7fdbdd6edc327313","tid":2405579,"uid":48083,"like":7,"dislike":0,"score":7,"citedBy":0,"replyTime":"2021-02-12T13:05:03.000Z","msg":"超詳細技術文：<br />\n<br />\n「安心出行」能否安心使用？<br />\n（一）<br />\n<a href=\"http://blog.headuck.com/2020/11/17/%e3%80%8c%e5%ae%89%e5%bf%83%e5%87%ba%e8%a1%8c%e3%80%8d%e8%83%bd%e5%90%a6%e5%ae%89%e5%bf%83%e4%bd%bf%e7%94%a8%ef%bc%9f%ef%bc%88%e4%b8%80%ef%bc%89/\" data-sr-url=\"https://r.lihkg.com/link?u=http%3A%2F%2Fblog.headuck.com%2F2020%2F11%2F17%2F%25e3%2580%258c%25e5%25ae%2589%25e5%25bf%2583%25e5%2587%25ba%25e8%25a1%258c%25e3%2580%258d%25e8%2583%25bd%25e5%2590%25a6%25e5%25ae%2589%25e5%25bf%2583%25e4%25bd%25bf%25e7%2594%25a8%25ef%25bc%259f%25ef%25bc%2588%25e4%25b8%2580%25ef%25bc%2589%2F&d=j8A0%2F5fiWOW2Etl1DmJ%2F%2FKP8PJJZD286lWcuKEclkJo%3D&h=40e0b4bc\" target=\"_blank\">http://blog.headuck.com/2020/11/17/%e3%80%8c%e5%ae%89%e5%bf%83%e5%87%ba%e8%a1%8c%e3%80%8d%e8%83%bd%e5%90%a6%e5%ae%89%e5%bf%83%e4%bd%bf%e7%94%a8%ef%bc%9f%ef%bc%88%e4%b8%80%ef%bc%89/</a><br />\n<br />\n（二）<br />\n<a href=\"http://blog.headuck.com/2020/11/19/%e3%80%8c%e5%ae%89%e5%bf%83%e5%87%ba%e8%a1%8c%e3%80%8d%e8%83%bd%e5%90%a6%e5%ae%89%e5%bf%83%e4%bd%bf%e7%94%a8%ef%bc%9f%ef%bc%88%e4%ba%8c%ef%bc%89/\" data-sr-url=\"https://r.lihkg.com/link?u=http%3A%2F%2Fblog.headuck.com%2F2020%2F11%2F19%2F%25e3%2580%258c%25e5%25ae%2589%25e5%25bf%2583%25e5%2587%25ba%25e8%25a1%258c%25e3%2580%258d%25e8%2583%25bd%25e5%2590%25a6%25e5%25ae%2589%25e5%25bf%2583%25e4%25bd%25bf%25e7%2594%25a8%25ef%25bc%259f%25ef%25bc%2588%25e4%25ba%258c%25ef%25bc%2589%2F&d=j8A0%2F5fiWOW2Etl1DmJ%2F%2FKP8PJJZD286lWcuKEclkJo%3D&h=1b32f16a\" target=\"_blank\">http://blog.headuck.com/2020/11/19/%e3%80%8c%e5%ae%89%e5%bf%83%e5%87%ba%e8%a1%8c%e3%80%8d%e8%83%bd%e5%90%a6%e5%ae%89%e5%bf%83%e4%bd%bf%e7%94%a8%ef%bc%9f%ef%bc%88%e4%ba%8c%ef%bc%89/</a><br />\n<br />\n（三）<br />\n<a href=\"http://blog.headuck.com/2020/11/28/%e3%80%8c%e5%ae%89%e5%bf%83%e5%87%ba%e8%a1%8c%e3%80%8d%e8%83%bd%e5%90%a6%e5%ae%89%e5%bf%83%e4%bd%bf%e7%94%a8%ef%bc%9f%ef%bc%88%e4%b8%89%ef%bc%89/\" data-sr-url=\"https://r.lihkg.com/link?u=http%3A%2F%2Fblog.headuck.com%2F2020%2F11%2F28%2F%25e3%2580%258c%25e5%25ae%2589%25e5%25bf%2583%25e5%2587%25ba%25e8%25a1%258c%25e3%2580%258d%25e8%2583%25bd%25e5%2590%25a6%25e5%25ae%2589%25e5%25bf%2583%25e4%25bd%25bf%25e7%2594%25a8%25ef%25bc%259f%25ef%25bc%2588%25e4%25b8%2589%25ef%25bc%2589%2F&d=j8A0%2F5fiWOW2Etl1DmJ%2F%2FKP8PJJZD286lWcuKEclkJo%3D&h=24abd985\" target=\"_blank\">http://blog.headuck.com/2020/11/28/%e3%80%8c%e5%ae%89%e5%bf%83%e5%87%ba%e8%a1%8c%e3%80%8d%e8%83%bd%e5%90%a6%e5%ae%89%e5%bf%83%e4%bd%bf%e7%94%a8%ef%bc%9f%ef%bc%88%e4%b8%89%ef%bc%89/</a>"},{"pid":"b3a3d9d6a9ea21ed8c59d609f90b97ba23b02c4f","tid":2405579,"uid":331739,"like":42,"dislike":0,"score":42,"citedBy":2,"replyTime":"2021-02-12T13:06:49.000Z","msg":"一向無店員睇住 我都唔會探熱<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\non99咁大家做下樣"},{"pid":"9ca0a811759a4e6cdedcf2fb0c7527c1baea6a79","tid":2405579,"uid":126226,"like":0,"dislike":0,"score":0,"quote":{"pid":"b3a3d9d6a9ea21ed8c59d609f90b97ba23b02c4f","tid":2405579,"uid":331739,"like":42,"dislike":0,"score":42,"citedBy":2,"replyTime":"2021-02-12T13:06:49.000Z","msg":"一向無店員睇住 我都唔會探熱<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\non99咁大家做下樣"},"citedBy":0,"replyTime":"2021-02-12T13:07:36.000Z","msg":"<img src=\"/assets/faces/normal/flowerface.gif\" class=\"hkgmoji\" />"},{"pid":"6cefe2afe2a8b63800c5c86c190654898931b3a8","tid":2405579,"uid":45255,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T13:08:17.000Z","msg":"講多兩講，記都冇得登<br />\n真係冇得登<img src=\"/assets/faces/normal/dead.gif\" class=\"hkgmoji\" />"},{"pid":"93cbb652f93d193f56f4f7de56073e1fd03d1395","tid":2405579,"uid":107686,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T13:08:39.000Z","msg":"正解"},{"pid":"5827b53dd75dbdd08f681d66021ba0c8d93d48de","tid":2405579,"uid":48083,"like":10,"dislike":0,"score":10,"citedBy":2,"replyTime":"2021-02-12T13:12:50.000Z","msg":"所謂加密<br />\n<br />\n程式的「加密」方法 (generateCheckInRecord)，是先將以下資料併為一字串（暫稱 dataString）：<br />\n<br />\n隨機 8 位字串<br />\n8 位 venueId<br />\n8 位 groupId (若沒有，用 00000000 (NO_GROUP) 代替)<br />\n13 位 inTs (轉為字串)<br />\n13 位 outTs<br />\nmeta (長度不限)，即包括上述 venueName 內的地方資料<br />\n再用以下方法產生 16-byte Key (128 bit)：<br />\n<br />\n將 inTs 除以 60000 成為分鐘單位，僅保留整數部份 (keyInterval)<br />\n將 keyInterval 轉為字串，使用 HKDF (HMAC-based Extract-and-Expand Key Derivation Function)（見 futoin-hkdf 程式庫）產生 Key，當中指定使用 SHA-256 為 HMAC function，及特定的 info 参數（可在程式內找到），沒有使用 salt 参數。<br />\naesKey = CryptoJS.enc.Hex.parse(<br />\n        hkdf(String(keyInterval), 16 /* 16 bytes */, {<br />\n          salt: null,<br />\n          info: ...,  /* info 参數 */<br />\n          hash: &quot;SHA-256&quot;<br />\n        }).toString('hex'));<br />\n然後利用 CryptoJS.AES 以 key 加密資料字串（當中 Initialization vector (IV) 可在程式內找到），再轉為 base64 encoding。<br />\n<br />\nkeyData = CryptoJS.AES.encrypt(dataString, aesKey, {<br />\n    iv: ... /* HKCT_IV */<br />\n}).ciphertext.toString(CryptoJS.enc.Base64)<br />\n之後，將 keyInterval 及加密的 keyData ，連同 upload flag (false，表示未上載) ，作為出行記錄數據，一併存到資料庫中的 LocationHistory table。<br />\n<br />\n以上就是政府不斷強調的加密儲存，例如創科局局長最近（11 月 18 日）在特區人大立法會會議指出，<br />\n<br />\n感染風險通知流動應用程式「安心出行」已通過獨立第三方的保安風險評估及審計和個人私隱影響評估，確保符合《個人資料（私隱）條例》規定。&hellip;. 程式採用 AES-256 加密標準保護儲存在用戶手機內的出行記錄數據。[1]<br />\n先不論局方將用 128-bit key 的 AES 加密說成 AES-256（因為這不是重點），因為只要知悉有關方法（簡單分析 JavaScript 碼使可得出），任何人若取得 LocationHistory table 中的資料，即可從紀錄中的 keyInterval 欄位，輕易透過標準的 HKDF ，取得之前加密用的 128-bit AES key ，再輕鬆用 AES-128 還原 keyData （AES 是所謂對稱密鑰演算法，加密及解密是用同一條 key）。這類保安方式，頂多稱為 security by obscurity。向公眾聲稱資料受 AES-256 加密保護，即使不是 128-bit 充 256-bit，也是極具誤導性。這類似將門鎖鎖匙藏在門前地氈底，門鎖有多堅固，也是徒然。[2]<br />\n<br />\n加密虛招何來？<br />\n<br />\n公平地說，在「安心出行」的各種限制下（不上傳資料，在用戶端背景配對確診資料，為普及及方便使用而不利用一些手機的硬件保安功能，如生物辨識，或要求每次 Check in 或配對前輸入密碼），在用戶手機內的資訊，根本難以作有效加密，因為所有解密所需的資料都在程式當中（當然從陰謀論者角度，在此機制下，政府本身亦可輕易解密）。若手機失竊，有關資料只能和很多其他私隱資料一樣，靠手機本身的保安設定保護。同樣道理，QR Code 的 hash 編碼，不論用幾多 bit ，在這情況下亦難以保證 QR Code 的真確性。<br />\n<br />\n不過，政府制訂招標要求時，往往無視上述限制，既要方便又要保安，寫入了無意義的加密要求。開發商也許明知沒有用，也要照花資源應付這種表面性的要求，只需提高標價，袋袋平安，。而這種門鎖藏在地氈底的保安虛招，竟又可通過政府創科局，以至花公帑外聘的「獨立第三方的保安風險評估及審計」，成果亦可供局長吹噓，各取所需，皆大歡喜。<br />\n<br />\n反正 False Security is Worse than No Security 這類老生常談，在講求 PR 的環境下是不太適用的。"},{"pid":"97c0c485cd45a36fc38602261f580c2abe8165ea","tid":2405579,"uid":48083,"like":2,"dislike":0,"score":2,"citedBy":0,"replyTime":"2021-02-12T13:15:55.000Z","msg":"<img src=\"/assets/faces/lny/offtopic.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lny/offtopic.gif\" class=\"hkgmoji\" /><br />\n<br />\n富融銀行咪即係騰訊銀行，扮乜？<br />\n<a href=\"https://lih.kg/2405600\" data-auto-link target=\"_blank\">https://lih.kg/2405600</a><br />\n- 分享自 LIHKG 討論區"},{"pid":"d71c41407d34766e5793bb12ed04479810c812e0","tid":2405579,"uid":114781,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T13:16:36.000Z","msg":"推<img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" />"},{"pid":"c79e20a5f6a24833200f104c6f0a0f7b1ced7f64","tid":2405579,"uid":162270,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T13:16:43.000Z","msg":"p"},{"pid":"bb71a81ddea16f6de3d6348337336974caa3dec7","tid":2405579,"uid":240004,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T13:17:56.000Z","msg":"<img src=\"/assets/faces/pig/hehe.gif\" class=\"hkgmoji\" />我真係唔識呢啲嘢"},{"pid":"6bec448fae09af8a5385588a915ae4e6cf019ee1","tid":2405579,"uid":48083,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T13:18:25.000Z","msg":"<a href=\"https://youtu.be/Uv_tD2xRRgw\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fyoutu.be%2FUv_tD2xRRgw&d=j8A0%2F5fiWOW2Etl1DmJ%2F%2FKP8PJJZD286lWcuKEclkJo%3D&h=1b06d069\" target=\"_blank\">https://youtu.be/Uv_tD2xRRgw</a><br />\n<br />\n<a href=\"https://youtu.be/4s6d0oRdEZM\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fyoutu.be%2F4s6d0oRdEZM&d=j8A0%2F5fiWOW2Etl1DmJ%2F%2FKP8PJJZD286lWcuKEclkJo%3D&h=f16b406c\" target=\"_blank\">https://youtu.be/4s6d0oRdEZM</a>"},{"pid":"67fc9e61d238983414740a7afca84f4d2cd8810b","tid":2405579,"uid":58160,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T13:18:56.000Z","msg":"啱啊 唔要成為習慣"},{"pid":"c1433c7e39a7aeb1d686d01e45d8a6e3ae4b542e","tid":2405579,"uid":35874,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T13:21:39.000Z","msg":"Agger<img src=\"/assets/faces/lny/angry.gif\" class=\"hkgmoji\" />"},{"pid":"4b226e2366190adc1fe94db6fca71f6a6599b074","tid":2405579,"uid":48083,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2021-02-12T13:22:34.000Z","msg":"留英文名＋公司電話會比安心出行安全<br />\n<a href=\"https://lih.kg/2405611\" data-auto-link target=\"_blank\">https://lih.kg/2405611</a><br />\n- 分享自 LIHKG 討論區"},{"pid":"0f169ec6bbb398563fea92f488ccb9f50c406b6f","tid":2405579,"uid":83582,"like":17,"dislike":0,"score":17,"citedBy":3,"replyTime":"2021-02-12T13:24:52.000Z","msg":"唔排除有食市為配合政府, 或減省成本, 迫人Scan QR Code, 唔提供手寫選項, 記得滙報上黎"},{"pid":"a0c8f33362ac55d03f3915cec771ff13cec5702a","tid":2405579,"uid":48083,"like":0,"dislike":0,"score":0,"quote":{"pid":"0f169ec6bbb398563fea92f488ccb9f50c406b6f","tid":2405579,"uid":83582,"like":17,"dislike":0,"score":17,"citedBy":3,"replyTime":"2021-02-12T13:24:52.000Z","msg":"唔排除有食市為配合政府, 或減省成本, 迫人Scan QR Code, 唔提供手寫選項, 記得滙報上黎"},"citedBy":0,"replyTime":"2021-02-12T13:25:32.000Z","msg":"<img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" />"},{"pid":"a18784bc712500ed1f605a5a04a4265872b4646f","tid":2405579,"uid":188,"like":3,"dislike":0,"score":3,"citedBy":2,"replyTime":"2021-02-12T13:27:02.000Z","msg":"有大量陳大文23382338登記"},{"pid":"8a041f789a040e3070520fcd0905fb24723b882a","tid":2405579,"uid":9193,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T13:41:54.000Z","msg":"<img src=\"/assets/faces/big/good.gif\" class=\"hkgmoji\" />"},{"pid":"cf33b507e786a42553b56b07ccddc33876294550","tid":2405579,"uid":305767,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2021-02-12T13:45:18.000Z","msg":"<img src=\"/assets/faces/normal/kill.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/kill.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/kill.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/kill.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/kill.gif\" class=\"hkgmoji\" />"},{"pid":"f1e1b19d212403b695c963376d5a8d9c2dc4e197","tid":2405579,"uid":122672,"like":1,"dislike":0,"score":1,"citedBy":1,"replyTime":"2021-02-12T13:46:37.000Z","msg":"就算要排隊登記，都唔好跪，求下你地<img src=\"/assets/faces/dog/cry.gif\" class=\"hkgmoji\" />香港人<img src=\"/assets/faces/cow/linguistic.gif\" class=\"hkgmoji\" />"},{"pid":"b25d5959bcb0dc56f6c0bdf48fdd8678074d10ed","tid":2405579,"uid":173207,"like":0,"dislike":0,"score":0,"quote":{"pid":"a18784bc712500ed1f605a5a04a4265872b4646f","tid":2405579,"uid":188,"like":3,"dislike":0,"score":3,"citedBy":2,"replyTime":"2021-02-12T13:27:02.000Z","msg":"有大量陳大文23382338登記"},"citedBy":0,"replyTime":"2021-02-12T13:47:09.000Z","msg":"<img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" />"},{"pid":"098fc6bc346f4f7482ce1d7ec0300bf9b41c07f5","tid":2405579,"uid":122672,"like":15,"dislike":0,"score":15,"quote":{"pid":"b3a3d9d6a9ea21ed8c59d609f90b97ba23b02c4f","tid":2405579,"uid":331739,"like":42,"dislike":0,"score":42,"citedBy":2,"replyTime":"2021-02-12T13:06:49.000Z","msg":"一向無店員睇住 我都唔會探熱<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\non99咁大家做下樣"},"citedBy":2,"replyTime":"2021-02-12T13:49:12.000Z","msg":"D 低級商場行奴隸制要隊個額頭埋去，on 撚鳩"},{"pid":"7171e6572a2bcc8edc591606afd578a54a2ff19e","tid":2405579,"uid":226955,"like":7,"dislike":0,"score":7,"citedBy":0,"replyTime":"2021-02-12T13:57:08.000Z","msg":"<strong><span class=\"xx-large\"><span class=\"gold\">［請廣傳］</span> <br />\n資料<span class=\"red\">安心</span>被盜竊<br />\n　　<span class=\"red\">出行</span>靠佢心都怯</span></strong><br />\n<br />\n<img src=\"https://na.cx/i/61E1oXn.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2F61E1oXn.png&h=ccfbdd48&s={SIZE}\" /><br />\n<br />\n<span class=\"xx-large\"><span class=\"gold\"><strong>今日割五城，明日割十城，然後得一夕安寢。起視四境，而秦兵又至矣。</strong></span></span>"},{"pid":"e77de09da3176a8f0ac6bbeeceecd21f9d78e1af","tid":2405579,"uid":90735,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T13:59:40.000Z","msg":"<img src=\"/assets/faces/normal/smile.gif\" class=\"hkgmoji\" />"},{"pid":"15b3371127e6eacec3254d9d2951a46019e7e59c","tid":2405579,"uid":337119,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T14:01:04.000Z","msg":"<img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" />"},{"pid":"97001fef44d7217d63305dcab82609ec5348548b","tid":2405579,"uid":1191,"like":1,"dislike":0,"score":1,"quote":{"pid":"098fc6bc346f4f7482ce1d7ec0300bf9b41c07f5","tid":2405579,"uid":122672,"like":15,"dislike":0,"score":15,"quote":{"pid":"b3a3d9d6a9ea21ed8c59d609f90b97ba23b02c4f","tid":2405579,"uid":331739,"like":42,"dislike":0,"score":42,"citedBy":2,"replyTime":"2021-02-12T13:06:49.000Z","msg":"一向無店員睇住 我都唔會探熱<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\non99咁大家做下樣"},"citedBy":2,"replyTime":"2021-02-12T13:49:12.000Z","msg":"D 低級商場行奴隸制要隊個額頭埋去，on 撚鳩"},"citedBy":1,"replyTime":"2021-02-12T14:03:41.000Z","msg":"個d探熱唔準到一個點...咩野放過去都係36.幾度"},{"pid":"78dfa7c3b59daac2cd693b5f96a4efcf3c7689f6","tid":2405579,"uid":266654,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2021-02-12T14:07:40.000Z","msg":"佢要實名安心出行都無計<br />\n而家港共根本唔需要「籍口」，佢想做，就做得到"},{"pid":"7cd8b3d9c3e50a110995ced1f0d45b3f9ca3a7da","tid":2405579,"uid":266503,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T14:12:22.000Z","msg":"準備iphone 4 8g手機"},{"pid":"99e3f6cdd76e75c34728a00774ef8b6fe4e657a2","tid":2405579,"uid":374427,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T14:15:55.000Z","msg":"<img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" />"},{"pid":"de7e1d5c79da53863469fe4c9490e2ca4383ca48","tid":2405579,"uid":48083,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T14:50:21.000Z","msg":"<img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" />"},{"pid":"3b408abc62f7350bf9d8bbc72bc2a8b748d30895","tid":2405579,"uid":30688,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T14:56:58.000Z","msg":"push"},{"pid":"3b348e82bbc49c6f899627cd61be588c8b197699","tid":2405579,"uid":298757,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T14:59:10.000Z","msg":"push<img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" />"},{"pid":"e0a97d573f53c4716dae13d51fc6bdbf51c504a5","tid":2405579,"uid":39628,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T15:03:13.000Z","msg":"<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"54abb86b16859a3af3134ce59d7724f027f98264","tid":2405579,"uid":91721,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T15:05:10.000Z","msg":"up"},{"pid":"ea7dc22e1bca88745d68bed0fa52039ebc3ebf13","tid":2405579,"uid":16087,"like":0,"dislike":0,"score":0,"quote":{"pid":"f1e1b19d212403b695c963376d5a8d9c2dc4e197","tid":2405579,"uid":122672,"like":1,"dislike":0,"score":1,"citedBy":1,"replyTime":"2021-02-12T13:46:37.000Z","msg":"就算要排隊登記，都唔好跪，求下你地<img src=\"/assets/faces/dog/cry.gif\" class=\"hkgmoji\" />香港人<img src=\"/assets/faces/cow/linguistic.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2021-02-12T15:05:27.000Z","msg":"熟個D佢叫到咪登下<br />\n唔熟既食店就不了"},{"pid":"54b0b4fe94a93ea4f75ed301434a8e0d9bcaba9f","tid":2405579,"uid":184261,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T15:57:19.000Z","msg":"Push"},{"pid":"b2d4d61355b8eb4728c60132088b6b8f5a54562f","tid":2405579,"uid":34705,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T15:58:56.000Z","msg":"同意，幫手推一下"},{"pid":"1ef0cbccc5166f98dcc07e021a2f87cf9ce2150c","tid":2405579,"uid":127575,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T16:00:01.000Z","msg":"<img src=\"/assets/faces/lny/angry.gif\" class=\"hkgmoji\" />"},{"pid":"2ee58524363207a25a8d89d0e9110fb924f4e268","tid":2405579,"uid":25558,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T16:01:35.000Z","msg":"<img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" />"},{"pid":"e55abd71dd66d54efcb5602fe9244fe5e6dced21","tid":2405579,"uid":24335,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T16:02:42.000Z","msg":"推"},{"pid":"3ed5ead4ee1e8293f7001b92217cacd7ef7c48ee","tid":2405579,"uid":128991,"like":12,"dislike":0,"score":12,"quote":{"pid":"0f169ec6bbb398563fea92f488ccb9f50c406b6f","tid":2405579,"uid":83582,"like":17,"dislike":0,"score":17,"citedBy":3,"replyTime":"2021-02-12T13:24:52.000Z","msg":"唔排除有食市為配合政府, 或減省成本, 迫人Scan QR Code, 唔提供手寫選項, 記得滙報上黎"},"citedBy":0,"replyTime":"2021-02-12T16:06:55.000Z","msg":"冇手寫嘅一概唔幫襯，黃店都係咁話"},{"pid":"7bec8300c91e946cb597c5f7832e50dae59a84c6","tid":2405579,"uid":7259,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T16:11:33.000Z","msg":"<img src=\"/assets/faces/fs/kill.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/fs/kill.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/fs/kill.gif\" class=\"hkgmoji\" />"},{"pid":"55257101878bc1ea58bae73f92d08518c6f5f03d","tid":2405579,"uid":48083,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T16:40:24.000Z","msg":"<img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" />"},{"pid":"ce589fcc5638b363464224f73afb01d5761e47b0","tid":2405579,"uid":7259,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T16:48:37.000Z","msg":"<img src=\"/assets/faces/fs/kill.gif\" class=\"hkgmoji\" />"},{"pid":"c0a90d46014a6289834db699fd2d4c2d1fa73a42","tid":2405579,"uid":89683,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2021-02-12T17:49:39.000Z","msg":"簽名唔係一樣變習慣？<br />\n<br />\n你去飲都係記名啦<br />\n習慣過後，紙筆咪一樣追蹤你個人行蹤"},{"pid":"32f0ab0fb4f261575d8f9f81ecfb597ab5faaa3e","tid":2405579,"uid":331551,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T17:56:34.000Z","msg":"<img src=\"/assets/faces/pig/argue.gif\" class=\"hkgmoji\" />"},{"pid":"aae514038b2279692270c6e5cc0b350bf3e2d568","tid":2405579,"uid":54800,"like":1,"dislike":0,"score":1,"quote":{"pid":"5827b53dd75dbdd08f681d66021ba0c8d93d48de","tid":2405579,"uid":48083,"like":10,"dislike":0,"score":10,"citedBy":2,"replyTime":"2021-02-12T13:12:50.000Z","msg":"所謂加密<br />\n<br />\n程式的「加密」方法 (generateCheckInRecord)，是先將以下資料併為一字串（暫稱 dataString）：<br />\n<br />\n隨機 8 位字串<br />\n8 位 venueId<br />\n8 位 groupId (若沒有，用 00000000 (NO_GROUP) 代替)<br />\n13 位 inTs (轉為字串)<br />\n13 位 outTs<br />\nmeta (長度不限)，即包括上述 venueName 內的地方資料<br />\n再用以下方法產生 16-byte Key (128 bit)：<br />\n<br />\n將 inTs 除以 60000 成為分鐘單位，僅保留整數部份 (keyInterval)<br />\n將 keyInterval 轉為字串，使用 HKDF (HMAC-based Extract-and-Expand Key Derivation Function)（見 futoin-hkdf 程式庫）產生 Key，當中指定使用 SHA-256 為 HMAC function，及特定的 info 参數（可在程式內找到），沒有使用 salt 参數。<br />\naesKey = CryptoJS.enc.Hex.parse(<br />\n        hkdf(String(keyInterval), 16 /* 16 bytes */, {<br />\n          salt: null,<br />\n          info: ...,  /* info 参數 */<br />\n          hash: &quot;SHA-256&quot;<br />\n        }).toString('hex'));<br />\n然後利用 CryptoJS.AES 以 key 加密資料字串（當中 Initialization vector (IV) 可在程式內找到），再轉為 base64 encoding。<br />\n<br />\nkeyData = CryptoJS.AES.encrypt(dataString, aesKey, {<br />\n    iv: ... /* HKCT_IV */<br />\n}).ciphertext.toString(CryptoJS.enc.Base64)<br />\n之後，將 keyInterval 及加密的 keyData ，連同 upload flag (false，表示未上載) ，作為出行記錄數據，一併存到資料庫中的 LocationHistory table。<br />\n<br />\n以上就是政府不斷強調的加密儲存，例如創科局局長最近（11 月 18 日）在特區人大立法會會議指出，<br />\n<br />\n感染風險通知流動應用程式「安心出行」已通過獨立第三方的保安風險評估及審計和個人私隱影響評估，確保符合《個人資料（私隱）條例》規定。&hellip;. 程式採用 AES-256 加密標準保護儲存在用戶手機內的出行記錄數據。[1]<br />\n先不論局方將用 128-bit key 的 AES 加密說成 AES-256（因為這不是重點），因為只要知悉有關方法（簡單分析 JavaScript 碼使可得出），任何人若取得 LocationHistory table 中的資料，即可從紀錄中的 keyInterval 欄位，輕易透過標準的 HKDF ，取得之前加密用的 128-bit AES key ，再輕鬆用 AES-128 還原 keyData （AES 是所謂對稱密鑰演算法，加密及解密是用同一條 key）。這類保安方式，頂多稱為 security by obscurity。向公眾聲稱資料受 AES-256 加密保護，即使不是 128-bit 充 256-bit，也是極具誤導性。這類似將門鎖鎖匙藏在門前地氈底，門鎖有多堅固，也是徒然。[2]<br />\n<br />\n加密虛招何來？<br />\n<br />\n公平地說，在「安心出行」的各種限制下（不上傳資料，在用戶端背景配對確診資料，為普及及方便使用而不利用一些手機的硬件保安功能，如生物辨識，或要求每次 Check in 或配對前輸入密碼），在用戶手機內的資訊，根本難以作有效加密，因為所有解密所需的資料都在程式當中（當然從陰謀論者角度，在此機制下，政府本身亦可輕易解密）。若手機失竊，有關資料只能和很多其他私隱資料一樣，靠手機本身的保安設定保護。同樣道理，QR Code 的 hash 編碼，不論用幾多 bit ，在這情況下亦難以保證 QR Code 的真確性。<br />\n<br />\n不過，政府制訂招標要求時，往往無視上述限制，既要方便又要保安，寫入了無意義的加密要求。開發商也許明知沒有用，也要照花資源應付這種表面性的要求，只需提高標價，袋袋平安，。而這種門鎖藏在地氈底的保安虛招，竟又可通過政府創科局，以至花公帑外聘的「獨立第三方的保安風險評估及審計」，成果亦可供局長吹噓，各取所需，皆大歡喜。<br />\n<br />\n反正 False Security is Worse than No Security 這類老生常談，在講求 PR 的環境下是不太適用的。"},"citedBy":0,"replyTime":"2021-02-12T18:08:09.000Z","msg":"咁同用個Txt file mark 低D Password 有咩分別??<img src=\"/assets/faces/dog/scare.gif\" class=\"hkgmoji\" />"},{"pid":"b3b4b66cb97a4699358a39f3c5e607bd061a58c6","tid":2405579,"uid":132986,"like":1,"dislike":0,"score":1,"quote":{"pid":"098fc6bc346f4f7482ce1d7ec0300bf9b41c07f5","tid":2405579,"uid":122672,"like":15,"dislike":0,"score":15,"quote":{"pid":"b3a3d9d6a9ea21ed8c59d609f90b97ba23b02c4f","tid":2405579,"uid":331739,"like":42,"dislike":0,"score":42,"citedBy":2,"replyTime":"2021-02-12T13:06:49.000Z","msg":"一向無店員睇住 我都唔會探熱<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\non99咁大家做下樣"},"citedBy":2,"replyTime":"2021-02-12T13:49:12.000Z","msg":"D 低級商場行奴隸制要隊個額頭埋去，on 撚鳩"},"citedBy":1,"replyTime":"2021-02-12T18:18:43.000Z","msg":"旺角信和<img src=\"/assets/faces/normal/fuck.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/fuck.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/fuck.gif\" class=\"hkgmoji\" />"},{"pid":"4bdd96053f1c76f109ab5392b0a5e4d5de5b4ed5","tid":2405579,"uid":48083,"like":9,"dislike":0,"score":9,"quote":{"pid":"c0a90d46014a6289834db699fd2d4c2d1fa73a42","tid":2405579,"uid":89683,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2021-02-12T17:49:39.000Z","msg":"簽名唔係一樣變習慣？<br />\n<br />\n你去飲都係記名啦<br />\n習慣過後，紙筆咪一樣追蹤你個人行蹤"},"citedBy":0,"replyTime":"2021-02-12T18:25:27.000Z","msg":"31日就銷毁<br />\n冇電子紀錄就差好遠"},{"pid":"9233de66746014fb46ad46d0811350edf3e9a04f","tid":2405579,"uid":173326,"like":2,"dislike":0,"score":2,"citedBy":1,"replyTime":"2021-02-12T18:37:10.000Z","msg":"裝app係習慣，登記就唔係習慣？<br />\n<br />\n利申：到時嗌外賣"},{"pid":"8a1b0e6a6cc39b594f2d5c62348a37b12e48668d","tid":2405579,"uid":58335,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T18:49:16.000Z","msg":"<img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" />"},{"pid":"9610b36f40ee93701823531d335f55ca60247bdd","tid":2405579,"uid":265102,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T18:51:12.000Z","msg":"推"},{"pid":"532e21512d4f6ed0413dba72d1c7faac216658b2","tid":2405579,"uid":113951,"like":11,"dislike":0,"score":11,"quote":{"pid":"9233de66746014fb46ad46d0811350edf3e9a04f","tid":2405579,"uid":173326,"like":2,"dislike":0,"score":2,"citedBy":1,"replyTime":"2021-02-12T18:37:10.000Z","msg":"裝app係習慣，登記就唔係習慣？<br />\n<br />\n利申：到時嗌外賣"},"citedBy":1,"replyTime":"2021-02-12T19:22:28.000Z","msg":"我都有諗過<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\n咁退一萬步講<br />\n就算萬一真係登記都變左習慣<br />\n手寫資料唔可以直接放上網大量分析<br />\n人手處理起上黎成本又高<br />\n又唔可以進化做健康碼<br />\n兩害取其輕<br />\n登記都係好過鬼機/太空卡<img src=\"/assets/faces/pig/knife.gif\" class=\"hkgmoji\" /><br />\n<br />\n更何況咁麻煩既做法<br />\n應該相對難變做習慣<img src=\"/assets/faces/dog/no.gif\" class=\"hkgmoji\" /><br />\n<br />\n始終人要出街<br />\n唔係個個都肯繼續食外賣<img src=\"/assets/faces/normal/frown.gif\" class=\"hkgmoji\" />"},{"pid":"88b69ca76e3d3cc5c2247f6d7053d2255cc3789d","tid":2405579,"uid":1089,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T19:30:22.000Z","msg":"<img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" />"},{"pid":"43e805de92a9445d99f67644f2ef25695c2f5b15","tid":2405579,"uid":45345,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-12T19:36:28.000Z","msg":"輕輕一推"},{"pid":"c209db1ff7b33b57356b1e46b3fe67830b4a09ef","tid":2405579,"uid":165200,"like":2,"dislike":0,"score":2,"quote":{"pid":"a18784bc712500ed1f605a5a04a4265872b4646f","tid":2405579,"uid":188,"like":3,"dislike":0,"score":3,"citedBy":2,"replyTime":"2021-02-12T13:27:02.000Z","msg":"有大量陳大文23382338登記"},"citedBy":0,"replyTime":"2021-02-12T20:11:06.000Z","msg":"去老豆搵仔揀個靚冧把 <img src=\"/assets/faces/lm2lny/jable.gif\" class=\"hkgmoji\" />"},{"pid":"c2971b2cb9442cf68849d19e2bd24c56af8bb179","tid":2405579,"uid":57677,"like":0,"dislike":1,"score":-1,"quote":{"pid":"5827b53dd75dbdd08f681d66021ba0c8d93d48de","tid":2405579,"uid":48083,"like":10,"dislike":0,"score":10,"citedBy":2,"replyTime":"2021-02-12T13:12:50.000Z","msg":"所謂加密<br />\n<br />\n程式的「加密」方法 (generateCheckInRecord)，是先將以下資料併為一字串（暫稱 dataString）：<br />\n<br />\n隨機 8 位字串<br />\n8 位 venueId<br />\n8 位 groupId (若沒有，用 00000000 (NO_GROUP) 代替)<br />\n13 位 inTs (轉為字串)<br />\n13 位 outTs<br />\nmeta (長度不限)，即包括上述 venueName 內的地方資料<br />\n再用以下方法產生 16-byte Key (128 bit)：<br />\n<br />\n將 inTs 除以 60000 成為分鐘單位，僅保留整數部份 (keyInterval)<br />\n將 keyInterval 轉為字串，使用 HKDF (HMAC-based Extract-and-Expand Key Derivation Function)（見 futoin-hkdf 程式庫）產生 Key，當中指定使用 SHA-256 為 HMAC function，及特定的 info 参數（可在程式內找到），沒有使用 salt 参數。<br />\naesKey = CryptoJS.enc.Hex.parse(<br />\n        hkdf(String(keyInterval), 16 /* 16 bytes */, {<br />\n          salt: null,<br />\n          info: ...,  /* info 参數 */<br />\n          hash: &quot;SHA-256&quot;<br />\n        }).toString('hex'));<br />\n然後利用 CryptoJS.AES 以 key 加密資料字串（當中 Initialization vector (IV) 可在程式內找到），再轉為 base64 encoding。<br />\n<br />\nkeyData = CryptoJS.AES.encrypt(dataString, aesKey, {<br />\n    iv: ... /* HKCT_IV */<br />\n}).ciphertext.toString(CryptoJS.enc.Base64)<br />\n之後，將 keyInterval 及加密的 keyData ，連同 upload flag (false，表示未上載) ，作為出行記錄數據，一併存到資料庫中的 LocationHistory table。<br />\n<br />\n以上就是政府不斷強調的加密儲存，例如創科局局長最近（11 月 18 日）在特區人大立法會會議指出，<br />\n<br />\n感染風險通知流動應用程式「安心出行」已通過獨立第三方的保安風險評估及審計和個人私隱影響評估，確保符合《個人資料（私隱）條例》規定。&hellip;. 程式採用 AES-256 加密標準保護儲存在用戶手機內的出行記錄數據。[1]<br />\n先不論局方將用 128-bit key 的 AES 加密說成 AES-256（因為這不是重點），因為只要知悉有關方法（簡單分析 JavaScript 碼使可得出），任何人若取得 LocationHistory table 中的資料，即可從紀錄中的 keyInterval 欄位，輕易透過標準的 HKDF ，取得之前加密用的 128-bit AES key ，再輕鬆用 AES-128 還原 keyData （AES 是所謂對稱密鑰演算法，加密及解密是用同一條 key）。這類保安方式，頂多稱為 security by obscurity。向公眾聲稱資料受 AES-256 加密保護，即使不是 128-bit 充 256-bit，也是極具誤導性。這類似將門鎖鎖匙藏在門前地氈底，門鎖有多堅固，也是徒然。[2]<br />\n<br />\n加密虛招何來？<br />\n<br />\n公平地說，在「安心出行」的各種限制下（不上傳資料，在用戶端背景配對確診資料，為普及及方便使用而不利用一些手機的硬件保安功能，如生物辨識，或要求每次 Check in 或配對前輸入密碼），在用戶手機內的資訊，根本難以作有效加密，因為所有解密所需的資料都在程式當中（當然從陰謀論者角度，在此機制下，政府本身亦可輕易解密）。若手機失竊，有關資料只能和很多其他私隱資料一樣，靠手機本身的保安設定保護。同樣道理，QR Code 的 hash 編碼，不論用幾多 bit ，在這情況下亦難以保證 QR Code 的真確性。<br />\n<br />\n不過，政府制訂招標要求時，往往無視上述限制，既要方便又要保安，寫入了無意義的加密要求。開發商也許明知沒有用，也要照花資源應付這種表面性的要求，只需提高標價，袋袋平安，。而這種門鎖藏在地氈底的保安虛招，竟又可通過政府創科局，以至花公帑外聘的「獨立第三方的保安風險評估及審計」，成果亦可供局長吹噓，各取所需，皆大歡喜。<br />\n<br />\n反正 False Security is Worse than No Security 這類老生常談，在講求 PR 的環境下是不太適用的。"},"citedBy":0,"replyTime":"2021-02-13T01:39:52.000Z","msg":"高質素嘅又要推下<br />\n<br />\n取代下不學無術嘅cctoy"},{"pid":"c4bf9ffe744fed755095e66e606d3dd92d6c4d42","tid":2405579,"uid":48083,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T03:13:10.000Z","msg":"<img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" />"},{"pid":"cbc5dba233f165e45d7398e7ce8b39527416446b","tid":2405579,"uid":136375,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T03:19:45.000Z","msg":"<img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" />"},{"pid":"750449191a0b9c408c1521a4bb1d9398e94b5cd0","tid":2405579,"uid":258706,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T03:23:26.000Z","msg":"push"},{"pid":"736166aee4dc50987e79e620573c4178464d1a86","tid":2405579,"uid":48083,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T03:37:58.000Z","msg":"<img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" />"},{"pid":"9dff6ecfddf10381ecf17c3c8edd0c3ed79a262e","tid":2405579,"uid":244809,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T03:39:01.000Z","msg":"我一向支持黃店準備紙筆碎紙機"},{"pid":"594382eabaee2e5c6b7bf1f7764f99e2377d7369","tid":2405579,"uid":85751,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T03:42:55.000Z","msg":"<img src=\"/assets/faces/normal/shocking.gif\" class=\"hkgmoji\" />"},{"pid":"b6a6e4f64faf94bada40ca405ee1d83e2ab87c21","tid":2405579,"uid":256059,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2021-02-13T03:57:06.000Z","msg":"習慣左接受左呢種模式，佢就會加野落去，用係防武肺以外用途"},{"pid":"de2e173434958be70ec2db92310c4f377cc4ddef","tid":2405579,"uid":56261,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T06:23:51.000Z","msg":"結果財政預算案宣佈全民派華為手機一部<img src=\"/assets/faces/dog/smile.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/dog/smile.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/dog/smile.gif\" class=\"hkgmoji\" />"},{"pid":"431bf2937a8cdd46178233d754339bd914eaa025","tid":2405579,"uid":48083,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T06:25:05.000Z","msg":"<img src=\"/assets/faces/normal/frown.gif\" class=\"hkgmoji\" />"},{"pid":"b245973918680a318dba3dce1449d3fa61cb0cae","tid":2405579,"uid":48083,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T07:23:40.000Z","msg":"<img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" />"},{"pid":"85bed84d23566d92efedfbc7a52327e9e547b5e7","tid":2405579,"uid":134071,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T07:24:42.000Z","msg":"<img src=\"/assets/faces/mouse/gun.gif\" class=\"hkgmoji\" />"},{"pid":"4a609d41cc06f5e83d70c81ecda5f5abcff862c4","tid":2405579,"uid":134071,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T07:24:52.000Z","msg":"<img src=\"/assets/faces/mouse/gun.gif\" class=\"hkgmoji\" />"},{"pid":"1ee644100f500411df5eecfdf626d6c8c225724b","tid":2405579,"uid":227801,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T07:26:22.000Z","msg":"鄭松泰身先士卒斗用了<img src=\"/assets/faces/mouse/pray.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/champagne.gif\" class=\"hkgmoji\" />"},{"pid":"8bf3b0090a0f66e5ee559fbfc9681ede023f7b97","tid":2405579,"uid":347528,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T07:26:23.000Z","msg":"放棄抗爭已成習慣<img src=\"/assets/faces/big/hehe.gif\" class=\"hkgmoji\" />"},{"pid":"9a1ab35389f3b7883c6403bd9524fe06d12790cf","tid":2405579,"uid":48083,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T13:56:59.000Z","msg":"<img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" />"},{"pid":"dfa7a42daaf250b9ae9aea48d574d6ab81924d8f","tid":2405579,"uid":54622,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T14:13:46.000Z","msg":"lm<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"2c0bccdee1f1a2909c4a8ca209fef1dd9703dff8","tid":2405579,"uid":248458,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T14:15:16.000Z","msg":"推"},{"pid":"eb9f0330e95f1fe558a898ec8492b6763ea9ad75","tid":2405579,"uid":114781,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T14:17:30.000Z","msg":"推<img src=\"/assets/faces/pig/drum.gif\" class=\"hkgmoji\" />"},{"pid":"18e3f14e86fff83f16a134c0c355ec92276a022f","tid":2405579,"uid":48083,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T14:19:49.000Z","msg":"解酒問題，我一律建議食保濟丸<br />\n<a href=\"https://lih.kg/2406760\" data-auto-link target=\"_blank\">https://lih.kg/2406760</a><br />\n- 分享自 LIHKG 討論區"},{"pid":"237e97d087f81667bf496d76e3b41069cd5f0cb4","tid":2405579,"uid":32028,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T14:21:01.000Z","msg":"用安心回家咪得囉"},{"pid":"9928314e1a268efc46cb6bf45933b83c8687e9b4","tid":2405579,"uid":51752,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T15:04:10.000Z","msg":"<img src=\"/assets/faces/lny/kill.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lny/kill.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lny/kill.gif\" class=\"hkgmoji\" />"},{"pid":"a0d5c133f30917e95d1044786589f5d7af78fbb2","tid":2405579,"uid":134071,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-13T15:12:00.000Z","msg":"<img src=\"/assets/faces/mouse/gun.gif\" class=\"hkgmoji\" />"},{"pid":"7e59deabba71771bf4bbec3a5c14f21f392807f3","tid":2405579,"uid":296931,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-14T03:50:23.000Z","msg":"【認真正視聽】近期假安心app同Clubhouse安唔安裝大論戰嘅盲點<br />\n<a href=\"https://lih.kg/2403850\" data-auto-link target=\"_blank\">https://lih.kg/2403850</a><br />\n- 分享自 LIHKG 討論區"},{"pid":"052b555098bae11f2747ae5b6de1d1037a7939c9","tid":2405579,"uid":120123,"like":0,"dislike":0,"score":0,"quote":{"pid":"0f169ec6bbb398563fea92f488ccb9f50c406b6f","tid":2405579,"uid":83582,"like":17,"dislike":0,"score":17,"citedBy":3,"replyTime":"2021-02-12T13:24:52.000Z","msg":"唔排除有食市為配合政府, 或減省成本, 迫人Scan QR Code, 唔提供手寫選項, 記得滙報上黎"},"citedBy":0,"replyTime":"2021-02-14T03:51:32.000Z","msg":"一定有，因為咁樣的話，佢地免去左比人捉到資料唔準確的風險。<br />\n講真，呢d垃圾我就唔會去食。我認同一定要放上網屌。"},{"pid":"4cd02c761af371b4d43776d55164f08d3dc2862e","tid":2405579,"uid":120123,"like":1,"dislike":0,"score":1,"quote":{"pid":"532e21512d4f6ed0413dba72d1c7faac216658b2","tid":2405579,"uid":113951,"like":11,"dislike":0,"score":11,"quote":{"pid":"9233de66746014fb46ad46d0811350edf3e9a04f","tid":2405579,"uid":173326,"like":2,"dislike":0,"score":2,"citedBy":1,"replyTime":"2021-02-12T18:37:10.000Z","msg":"裝app係習慣，登記就唔係習慣？<br />\n<br />\n利申：到時嗌外賣"},"citedBy":1,"replyTime":"2021-02-12T19:22:28.000Z","msg":"我都有諗過<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\n咁退一萬步講<br />\n就算萬一真係登記都變左習慣<br />\n手寫資料唔可以直接放上網大量分析<br />\n人手處理起上黎成本又高<br />\n又唔可以進化做健康碼<br />\n兩害取其輕<br />\n登記都係好過鬼機/太空卡<img src=\"/assets/faces/pig/knife.gif\" class=\"hkgmoji\" /><br />\n<br />\n更何況咁麻煩既做法<br />\n應該相對難變做習慣<img src=\"/assets/faces/dog/no.gif\" class=\"hkgmoji\" /><br />\n<br />\n始終人要出街<br />\n唔係個個都肯繼續食外賣<img src=\"/assets/faces/normal/frown.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2021-02-14T03:53:23.000Z","msg":"其實我覺得係。<br />\n真正的反抗應該係，完全唔scan code, 唔登記。直接入去座低食<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />。<br />\n但拉硬，有幾多個會咁做。<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"73456f4b5b09ce90ba972b3899aa65b18f8f7e74","tid":2405579,"uid":120123,"like":0,"dislike":0,"score":0,"quote":{"pid":"97001fef44d7217d63305dcab82609ec5348548b","tid":2405579,"uid":1191,"like":1,"dislike":0,"score":1,"quote":{"pid":"098fc6bc346f4f7482ce1d7ec0300bf9b41c07f5","tid":2405579,"uid":122672,"like":15,"dislike":0,"score":15,"quote":{"pid":"b3a3d9d6a9ea21ed8c59d609f90b97ba23b02c4f","tid":2405579,"uid":331739,"like":42,"dislike":0,"score":42,"citedBy":2,"replyTime":"2021-02-12T13:06:49.000Z","msg":"一向無店員睇住 我都唔會探熱<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\non99咁大家做下樣"},"citedBy":2,"replyTime":"2021-02-12T13:49:12.000Z","msg":"D 低級商場行奴隸制要隊個額頭埋去，on 撚鳩"},"citedBy":1,"replyTime":"2021-02-12T14:03:41.000Z","msg":"個d探熱唔準到一個點...咩野放過去都係36.幾度"},"citedBy":0,"replyTime":"2021-02-14T03:54:22.000Z","msg":"如果果d準，駛鬼用探熱針咩診所"},{"pid":"a12acbff9ceb14edb95d30861892aece67c64617","tid":2405579,"uid":8410,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-14T03:55:22.000Z","msg":"應該好快大型食店會唔做登記， 迫人裝apps 掃code 入"},{"pid":"ff9ede94e312f4c4f4b1e123b4e1d3b93a7406ba","tid":2405579,"uid":53027,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-14T03:55:55.000Z","msg":"721"},{"pid":"1c8bfde81219d13e1d76ce6715cd3751e931ddd1","tid":2405579,"uid":25558,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-14T03:55:57.000Z","msg":"<img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" />"},{"pid":"cd80ca5bdf4851963eebabfa904ffd7ef3badbdd","tid":2405579,"uid":130287,"like":0,"dislike":0,"score":0,"quote":{"pid":"4cd02c761af371b4d43776d55164f08d3dc2862e","tid":2405579,"uid":120123,"like":1,"dislike":0,"score":1,"quote":{"pid":"532e21512d4f6ed0413dba72d1c7faac216658b2","tid":2405579,"uid":113951,"like":11,"dislike":0,"score":11,"quote":{"pid":"9233de66746014fb46ad46d0811350edf3e9a04f","tid":2405579,"uid":173326,"like":2,"dislike":0,"score":2,"citedBy":1,"replyTime":"2021-02-12T18:37:10.000Z","msg":"裝app係習慣，登記就唔係習慣？<br />\n<br />\n利申：到時嗌外賣"},"citedBy":1,"replyTime":"2021-02-12T19:22:28.000Z","msg":"我都有諗過<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\n咁退一萬步講<br />\n就算萬一真係登記都變左習慣<br />\n手寫資料唔可以直接放上網大量分析<br />\n人手處理起上黎成本又高<br />\n又唔可以進化做健康碼<br />\n兩害取其輕<br />\n登記都係好過鬼機/太空卡<img src=\"/assets/faces/pig/knife.gif\" class=\"hkgmoji\" /><br />\n<br />\n更何況咁麻煩既做法<br />\n應該相對難變做習慣<img src=\"/assets/faces/dog/no.gif\" class=\"hkgmoji\" /><br />\n<br />\n始終人要出街<br />\n唔係個個都肯繼續食外賣<img src=\"/assets/faces/normal/frown.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2021-02-14T03:53:23.000Z","msg":"其實我覺得係。<br />\n真正的反抗應該係，完全唔scan code, 唔登記。直接入去座低食<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />。<br />\n但拉硬，有幾多個會咁做。<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2021-02-14T03:59:20.000Z","msg":"0"},{"pid":"766b9763cb0d114ceb6d8059c3891e4735ae0737","tid":2405579,"uid":48083,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-14T11:12:27.000Z","msg":"<img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" />"},{"pid":"35c94f37c7715bf71b78594475ce82122c3692b0","tid":2405579,"uid":114781,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-14T11:14:42.000Z","msg":"唔好耍小聰明<br />\n係要企硬唔撚裝<img src=\"/assets/faces/lny/angry.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lny/angry.gif\" class=\"hkgmoji\" />"},{"pid":"1b9456a7d8235284938191a5a592115a7fd07ff0","tid":2405579,"uid":47659,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-14T11:17:59.000Z","msg":"推!"},{"pid":"4a6143cff334c3dcf9b5d6669b9dbfea2dc12300","tid":2405579,"uid":126797,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-14T11:22:25.000Z","msg":"<img src=\"/assets/faces/pig/dance3.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/dance3.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/dance3.gif\" class=\"hkgmoji\" />"},{"pid":"62e3ca6a788c8f8e1107724ad12d6ec4f401ea2f","tid":2405579,"uid":48083,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-16T12:12:05.000Z","msg":"<img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" />"},{"pid":"f363d289d2ab2131cbd551672ec946b16ffd4ca7","tid":2405579,"uid":38737,"like":0,"dislike":0,"score":0,"quote":{"pid":"b3b4b66cb97a4699358a39f3c5e607bd061a58c6","tid":2405579,"uid":132986,"like":1,"dislike":0,"score":1,"quote":{"pid":"098fc6bc346f4f7482ce1d7ec0300bf9b41c07f5","tid":2405579,"uid":122672,"like":15,"dislike":0,"score":15,"quote":{"pid":"b3a3d9d6a9ea21ed8c59d609f90b97ba23b02c4f","tid":2405579,"uid":331739,"like":42,"dislike":0,"score":42,"citedBy":2,"replyTime":"2021-02-12T13:06:49.000Z","msg":"一向無店員睇住 我都唔會探熱<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\non99咁大家做下樣"},"citedBy":2,"replyTime":"2021-02-12T13:49:12.000Z","msg":"D 低級商場行奴隸制要隊個額頭埋去，on 撚鳩"},"citedBy":1,"replyTime":"2021-02-12T18:18:43.000Z","msg":"旺角信和<img src=\"/assets/faces/normal/fuck.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/fuck.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/fuck.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2021-02-16T12:14:39.000Z","msg":"垃圾保安狗<img src=\"/assets/faces/big/fuck.gif\" class=\"hkgmoji\" />"},{"pid":"87583843c0a267f75832e349ada47c1580f1b0a9","tid":2405579,"uid":203019,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-16T13:39:56.000Z","msg":"<img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" />"},{"pid":"c832cc969669348704c06b5f66cfccde0a76d6b5","tid":2405579,"uid":7259,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-17T03:01:14.000Z","msg":"<img src=\"/assets/faces/fs/kill.gif\" class=\"hkgmoji\" />"},{"pid":"31f4a20319634e8b1141bcd81c7bbedc9c38a9a3","tid":2405579,"uid":283240,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-17T03:57:08.000Z","msg":"唔滿意咪上街堵路？"},{"pid":"49de41d758068bac4b4cf1a2d27a2bc9ae8fef5b","tid":2405579,"uid":291465,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-02-17T03:57:46.000Z","msg":"<img src=\"/assets/faces/lny/angry.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lny/angry.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lny/angry.gif\" class=\"hkgmoji\" />"}],"pinned":{"pid":"5827b53dd75dbdd08f681d66021ba0c8d93d48de","tid":2405579,"uid":48083,"like":10,"dislike":0,"score":10,"citedBy":2,"replyTime":"2021-02-12T13:12:50.000Z","msg":"所謂加密<br />\n<br />\n程式的「加密」方法 (generateCheckInRecord)，是先將以下資料併為一字串（暫稱 dataString）：<br />\n<br />\n隨機 8 位字串<br />\n8 位 venueId<br />\n8 位 groupId (若沒有，用 00000000 (NO_GROUP) 代替)<br />\n13 位 inTs (轉為字串)<br />\n13 位 outTs<br />\nmeta (長度不限)，即包括上述 venueName 內的地方資料<br />\n再用以下方法產生 16-byte Key (128 bit)：<br />\n<br />\n將 inTs 除以 60000 成為分鐘單位，僅保留整數部份 (keyInterval)<br />\n將 keyInterval 轉為字串，使用 HKDF (HMAC-based Extract-and-Expand Key Derivation Function)（見 futoin-hkdf 程式庫）產生 Key，當中指定使用 SHA-256 為 HMAC function，及特定的 info 参數（可在程式內找到），沒有使用 salt 参數。<br />\naesKey = CryptoJS.enc.Hex.parse(<br />\n        hkdf(String(keyInterval), 16 /* 16 bytes */, {<br />\n          salt: null,<br />\n          info: ...,  /* info 参數 */<br />\n          hash: &quot;SHA-256&quot;<br />\n        }).toString('hex'));<br />\n然後利用 CryptoJS.AES 以 key 加密資料字串（當中 Initialization vector (IV) 可在程式內找到），再轉為 base64 encoding。<br />\n<br />\nkeyData = CryptoJS.AES.encrypt(dataString, aesKey, {<br />\n    iv: ... /* HKCT_IV */<br />\n}).ciphertext.toString(CryptoJS.enc.Base64)<br />\n之後，將 keyInterval 及加密的 keyData ，連同 upload flag (false，表示未上載) ，作為出行記錄數據，一併存到資料庫中的 LocationHistory table。<br />\n<br />\n以上就是政府不斷強調的加密儲存，例如創科局局長最近（11 月 18 日）在特區人大立法會會議指出，<br />\n<br />\n感染風險通知流動應用程式「安心出行」已通過獨立第三方的保安風險評估及審計和個人私隱影響評估，確保符合《個人資料（私隱）條例》規定。&hellip;. 程式採用 AES-256 加密標準保護儲存在用戶手機內的出行記錄數據。[1]<br />\n先不論局方將用 128-bit key 的 AES 加密說成 AES-256（因為這不是重點），因為只要知悉有關方法（簡單分析 JavaScript 碼使可得出），任何人若取得 LocationHistory table 中的資料，即可從紀錄中的 keyInterval 欄位，輕易透過標準的 HKDF ，取得之前加密用的 128-bit AES key ，再輕鬆用 AES-128 還原 keyData （AES 是所謂對稱密鑰演算法，加密及解密是用同一條 key）。這類保安方式，頂多稱為 security by obscurity。向公眾聲稱資料受 AES-256 加密保護，即使不是 128-bit 充 256-bit，也是極具誤導性。這類似將門鎖鎖匙藏在門前地氈底，門鎖有多堅固，也是徒然。[2]<br />\n<br />\n加密虛招何來？<br />\n<br />\n公平地說，在「安心出行」的各種限制下（不上傳資料，在用戶端背景配對確診資料，為普及及方便使用而不利用一些手機的硬件保安功能，如生物辨識，或要求每次 Check in 或配對前輸入密碼），在用戶手機內的資訊，根本難以作有效加密，因為所有解密所需的資料都在程式當中（當然從陰謀論者角度，在此機制下，政府本身亦可輕易解密）。若手機失竊，有關資料只能和很多其他私隱資料一樣，靠手機本身的保安設定保護。同樣道理，QR Code 的 hash 編碼，不論用幾多 bit ，在這情況下亦難以保證 QR Code 的真確性。<br />\n<br />\n不過，政府制訂招標要求時，往往無視上述限制，既要方便又要保安，寫入了無意義的加密要求。開發商也許明知沒有用，也要照花資源應付這種表面性的要求，只需提高標價，袋袋平安，。而這種門鎖藏在地氈底的保安虛招，竟又可通過政府創科局，以至花公帑外聘的「獨立第三方的保安風險評估及審計」，成果亦可供局長吹噓，各取所需，皆大歡喜。<br />\n<br />\n反正 False Security is Worse than No Security 這類老生常談，在講求 PR 的環境下是不太適用的。"}}