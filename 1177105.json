{"tid":1177105,"cid":26,"subCid":0,"title":"魯大師係點解計cpu同display card既溫度？","createTime":"2019-05-29T15:13:16.000Z","updateTime":"2019-05-29T23:40:56.000Z","uid":98317,"like":1,"dislike":10,"uniUserReply":8,"replies":[{"pid":"c3ebad73f7aded050c00b79bacc0a1b77bd1a1fa","tid":1177105,"uid":98317,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2019-05-29T15:13:16.000Z","msg":"網上搵唔到相關資料，想知源理，點解唔用sensor就拎到hardware溫度？Linux 我知點搞，但係windows 我搵穩晒win32 本handbook 都冇相關api"},{"pid":"1356753189270aad43d7211b29377aca65f313a7","tid":1177105,"uid":98317,"like":0,"dislike":2,"score":-2,"citedBy":0,"replyTime":"2019-05-29T15:27:11.000Z","msg":"Google左好耐，搵唔到相關資料，大多數solutions 都係裝舊sensor 落部機到detect, 於是開始研究魯大師溫度監控部分，係driver到發現有幾行  code 可以直接read CPU同display card溫度，經過測試兩部intel 機指向同一個port, amd就第二個port,<br />\n個port應該同CPU 型號有關，唔同CPU 型號對應不同既port，但呢個port既來源仲未追溯到，搞唔明呢種讀溫度方法既原理。<br />\n<br />\n//write 0x29 to port <br />\n__outbyte(0x0a35, 0x29);<br />\n//read temp from port <br />\ndwCpuTemp = __inbyte(0x0a36);"},{"pid":"a386f26148f39f38077e617b691027946e4c9a6f","tid":1177105,"uid":189937,"like":2,"dislike":4,"score":-2,"citedBy":1,"replyTime":"2019-05-29T15:28:22.000Z","msg":"<pre><code data-type=\"\">   int i, n;\n   time_t t;\n   \n   n = 5;\n   \n   srand((unsigned) time(&amp;t));\n\n   for( i = 0 ; i &lt; n ; i++ ) {\n      printf(&quot;%d\\n&quot;, rand() % 50);\n   }</code></pre>"},{"pid":"8ed0d41d0eb184871cebef5faa5bb09c03dcee34","tid":1177105,"uid":98317,"like":2,"dislike":0,"score":2,"quote":{"pid":"a386f26148f39f38077e617b691027946e4c9a6f","tid":1177105,"uid":189937,"like":2,"dislike":4,"score":-2,"citedBy":1,"replyTime":"2019-05-29T15:28:22.000Z","msg":"<pre><code data-type=\"\">   int i, n;\n   time_t t;\n   \n   n = 5;\n   \n   srand((unsigned) time(&amp;t));\n\n   for( i = 0 ; i &lt; n ; i++ ) {\n      printf(&quot;%d\\n&quot;, rand() % 50);\n   }</code></pre>"},"citedBy":0,"replyTime":"2019-05-29T15:29:33.000Z","msg":"<img src=\"/assets/faces/normal/clown.gif\" class=\"hkgmoji\" />唔好玩，認真"},{"pid":"2cea502ccdd6165d7376c76f1dff63a4fc7f3e93","tid":1177105,"uid":237997,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-05-29T15:30:44.000Z","msg":"咩原理？咪就係原本硬件到有個sensor 仲想知到幾深入"},{"pid":"4bd12e9ed3f1c5500c20ac0b8070815d81a0864a","tid":1177105,"uid":98317,"like":1,"dislike":1,"score":0,"quote":{"pid":"2cea502ccdd6165d7376c76f1dff63a4fc7f3e93","tid":1177105,"uid":237997,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-05-29T15:30:44.000Z","msg":"咩原理？咪就係原本硬件到有個sensor 仲想知到幾深入"},"citedBy":0,"replyTime":"2019-05-29T15:32:18.000Z","msg":"Windows 可以點call built in sensor?"},{"pid":"8cb85db863b1c7859f666a99d0b07cdaa1b2e137","tid":1177105,"uid":39013,"like":4,"dislike":1,"score":3,"citedBy":1,"replyTime":"2019-05-29T15:33:13.000Z","msg":"本身cpu同display card的core有sensor咪detect到囉<br />\nd軟件只係攞返個reading渣麻<img src=\"/assets/faces/dog/haha.gif\" class=\"hkgmoji\" />"},{"pid":"2c473a697e462fd8d6e579ebb62bc816835ce019","tid":1177105,"uid":48234,"like":1,"dislike":1,"score":0,"citedBy":0,"replyTime":"2019-05-29T15:33:44.000Z","msg":"<img src=\"http://eros.vjmedia.com.hk/wp-content/uploads/2016/09/dfa.jpeg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=http%3A%2F%2Feros.vjmedia.com.hk%2Fwp-content%2Fuploads%2F2016%2F09%2Fdfa.jpeg&h=29cc409d&s={SIZE}\" />"},{"pid":"214d24b5bb536f14322f8146b4946032dea6b454","tid":1177105,"uid":98317,"like":0,"dislike":2,"score":-2,"quote":{"pid":"8cb85db863b1c7859f666a99d0b07cdaa1b2e137","tid":1177105,"uid":39013,"like":4,"dislike":1,"score":3,"citedBy":1,"replyTime":"2019-05-29T15:33:13.000Z","msg":"本身cpu同display card的core有sensor咪detect到囉<br />\nd軟件只係攞返個reading渣麻<img src=\"/assets/faces/dog/haha.gif\" class=\"hkgmoji\" />"},"citedBy":2,"replyTime":"2019-05-29T15:38:43.000Z","msg":"咁應該都係manufacturer dependent, 但魯大師乜9 hardware 都read到<img src=\"/assets/faces/normal/wonder2.gif\" class=\"hkgmoji\" />"},{"pid":"3961b997923039d083e53e1b5b741c110d0be059","tid":1177105,"uid":39013,"like":1,"dislike":0,"score":1,"quote":{"pid":"214d24b5bb536f14322f8146b4946032dea6b454","tid":1177105,"uid":98317,"like":0,"dislike":2,"score":-2,"quote":{"pid":"8cb85db863b1c7859f666a99d0b07cdaa1b2e137","tid":1177105,"uid":39013,"like":4,"dislike":1,"score":3,"citedBy":1,"replyTime":"2019-05-29T15:33:13.000Z","msg":"本身cpu同display card的core有sensor咪detect到囉<br />\nd軟件只係攞返個reading渣麻<img src=\"/assets/faces/dog/haha.gif\" class=\"hkgmoji\" />"},"citedBy":2,"replyTime":"2019-05-29T15:38:43.000Z","msg":"咁應該都係manufacturer dependent, 但魯大師乜9 hardware 都read到<img src=\"/assets/faces/normal/wonder2.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2019-05-29T15:41:02.000Z","msg":"冇sensor的咪detect唔到<br />\n好簡單 你搵下大陸大師有冇dram 溫度<br />\n另外你試下HWmonitor<br />\n一樣reading到<img src=\"/assets/faces/pig/hehe.gif\" class=\"hkgmoji\" />"},{"pid":"1dffec660ec928348fdd753733dc30548d91365d","tid":1177105,"uid":9769,"like":4,"dislike":0,"score":4,"citedBy":0,"replyTime":"2019-05-29T17:55:03.000Z","msg":"The temperature and the fan is controled by the embedded controller. <br />\n<br />\nYou have 2 choices, either you can write a kernel driver or you can use a library to access the embedded controller.<br />\n<br />\nIt's because Windows protect the ec from being accessed with normal user rights. A good (and working) library is winring0 (WinRing0_1_3_1b). A useful program to check the ec and everything else in Windows is the RW tool."},{"pid":"3afea6480e5583ec1992b5f876cc0145ae6ad44b","tid":1177105,"uid":61084,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-05-29T18:32:11.000Z","msg":"WMI?<br />\n再唔係睇下open hardware monitor<br />\nor 諗諗有冇方法讀到bios(?)<br />\n或者試下py psutil"},{"pid":"c3b08fe06f8f2d3bc09201337c21b36b3e4d5be2","tid":1177105,"uid":67527,"like":0,"dislike":0,"score":0,"quote":{"pid":"214d24b5bb536f14322f8146b4946032dea6b454","tid":1177105,"uid":98317,"like":0,"dislike":2,"score":-2,"quote":{"pid":"8cb85db863b1c7859f666a99d0b07cdaa1b2e137","tid":1177105,"uid":39013,"like":4,"dislike":1,"score":3,"citedBy":1,"replyTime":"2019-05-29T15:33:13.000Z","msg":"本身cpu同display card的core有sensor咪detect到囉<br />\nd軟件只係攞返個reading渣麻<img src=\"/assets/faces/dog/haha.gif\" class=\"hkgmoji\" />"},"citedBy":2,"replyTime":"2019-05-29T15:38:43.000Z","msg":"咁應該都係manufacturer dependent, 但魯大師乜9 hardware 都read到<img src=\"/assets/faces/normal/wonder2.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2019-05-29T19:34:48.000Z","msg":"Then you just need to integrate every single manufacturer in the world."},{"pid":"a2bdae955f035d95c9419f9e5f7ca52e6aec23b1","tid":1177105,"uid":98317,"like":0,"dislike":0,"score":0,"quote":{"pid":"3afea6480e5583ec1992b5f876cc0145ae6ad44b","tid":1177105,"uid":61084,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-05-29T18:32:11.000Z","msg":"WMI?<br />\n再唔係睇下open hardware monitor<br />\nor 諗諗有冇方法讀到bios(?)<br />\n或者試下py psutil"},"citedBy":0,"replyTime":"2019-05-29T23:40:56.000Z","msg":"WMi用唔到， 要vendor's driver expose出嚟至得"}]}