{"tid":2366778,"cid":26,"subCid":0,"title":"【LIHKG User Script】留言標記功能","createTime":"2021-01-14T21:11:20.000Z","updateTime":"2021-01-19T03:53:57.000Z","uid":256957,"like":14,"dislike":0,"uniUserReply":10,"replies":[{"pid":"ac2c111cd33571642b3402229e63d965ab9f16eb","tid":2366778,"uid":256957,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-01-14T21:11:20.000Z","msg":"<span class=\"red\"><span class=\"xx-large\">點用</span></span><br />\n1. 去想記低嘅留言 見到粒星撳落去<br />\n<img src=\"https://cdn.discordapp.com/attachments/799374445571211274/799375450245431366/unknown.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fcdn.discordapp.com%2Fattachments%2F799374445571211274%2F799375450245431366%2Funknown.png&h=9829c063&s={SIZE}\" /><br />\n2. 打原因<br />\n<img src=\"https://cdn.discordapp.com/attachments/799374445571211274/799375648208060496/unknown.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fcdn.discordapp.com%2Fattachments%2F799374445571211274%2F799375648208060496%2Funknown.png&h=b58cdedf&s={SIZE}\" /><br />\n3. 完成<br />\n<img src=\"https://cdn.discordapp.com/attachments/799374445571211274/799375685427789865/unknown.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fcdn.discordapp.com%2Fattachments%2F799374445571211274%2F799375685427789865%2Funknown.png&h=64d21bc9&s={SIZE}\" /><br />\n<span class=\"red\"><span class=\"x-large\">點樣睇番記低過嘅留言</span></span><br />\n1. 拉條sidebar出嚟 見到左邊粒星撳落去<br />\n<img src=\"https://cdn.discordapp.com/attachments/799374445571211274/799375830194192402/unknown.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fcdn.discordapp.com%2Fattachments%2F799374445571211274%2F799375830194192402%2Funknown.png&h=3bdf35cd&s={SIZE}\" /><br />\n2. 完 (撳落啲留言到會自動redirect去嗰個留言位置)<br />\n<img src=\"https://cdn.discordapp.com/attachments/799374445571211274/799375866538360832/unknown.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fcdn.discordapp.com%2Fattachments%2F799374445571211274%2F799375866538360832%2Funknown.png&h=5fca8791&s={SIZE}\" /><br />\n<span class=\"red\"><span class=\"x-large\">點樣搵番記低過嘅留言</span></span><br />\n0. 重覆&quot;點樣睇番記低過嘅留言&quot;個步<br />\n1. 揀你想點搵嘅方法<br />\n<img src=\"https://cdn.discordapp.com/attachments/799374445571211274/799376129118306304/unknown.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fcdn.discordapp.com%2Fattachments%2F799374445571211274%2F799376129118306304%2Funknown.png&h=59662ec2&s={SIZE}\" /><br />\n2. 打字, 完<br />\n<img src=\"https://cdn.discordapp.com/attachments/799374445571211274/799376243664355348/unknown.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fcdn.discordapp.com%2Fattachments%2F799374445571211274%2F799376243664355348%2Funknown.png&h=97f4d332&s={SIZE}\" /><br />\n<span class=\"red\"><span class=\"x-large\">點樣知某個會員以前比自己記低過嘅留言</span></span><br />\n如果手頭上得個會員名/會員號碼 而唔係見到條友嘅留言<br />\n就用跟番&quot;點樣搵番記低過嘅留言&quot;嗰到用番會員名/會員號碼去搵<br />\n1. 撳個會員名<br />\n<img src=\"https://cdn.discordapp.com/attachments/799374445571211274/799376691242860574/unknown.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fcdn.discordapp.com%2Fattachments%2F799374445571211274%2F799376691242860574%2Funknown.png&h=3d19ebc5&s={SIZE}\" /><br />\n2. 撳&quot;鞭屍&quot; 會幫你用會員號碼去搵<br />\n<img src=\"https://cdn.discordapp.com/attachments/799374445571211274/799376748327338054/unknown.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fcdn.discordapp.com%2Fattachments%2F799374445571211274%2F799376748327338054%2Funknown.png&h=29d2b97a&s={SIZE}\" /><br />\n<span class=\"red\"><span class=\"xx-large\">點裝</span></span><br />\n1. 先安裝Tampermonkey <span class=\"x-small\"><a href=\"https://www.tampermonkey.net/\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.tampermonkey.net%2F&d=qXcR1A%2FTALq%2FhnoNE0cJVQDpGYGFnKQRHckm7FIFNPY%3D&h=1f672045\" data-auto-link target=\"_blank\">https://www.tampermonkey.net/</a></span><br />\n2. 然後開呢條link <span class=\"x-small\"><a href=\"https://gist.github.com/DepressedAntill/d3337e113afa08274bb7cb8c34c71d6f\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgist.github.com%2FDepressedAntill%2Fd3337e113afa08274bb7cb8c34c71d6f&d=qXcR1A%2FTALq%2FhnoNE0cJVQDpGYGFnKQRHckm7FIFNPY%3D&h=9273df76\" data-auto-link target=\"_blank\">https://gist.github.com/DepressedAntill/d3337e113afa08274bb7cb8c34c71d6f</a></span><br />\n3. 撳右邊個&quot;raw&quot;<br />\n4. 會跳出安裝頁面<br />\n5. 撳&quot;install&quot;<br />\n6. refresh任何LIHKG post<br />\n7. 完成<br />\n<span class=\"red\"><span class=\"xx-large\">同會員髀加蕉#23094開發嘅會員標籤功能有咩唔同:</span></span><br />\n主要係focus喺搵番留言個到<br />\n1. 即使之前你記低過個位user講過嘅留言 你係唔會即時睇到<br />\n- 係要撳少少掣先睇到 所以係唔會做到髀加蕉個隻咁方便<br />\n2. 你可以即時搵番記低過啲咩留言<br />\n3. 可以準確咁幫你去番記低咗嘅留言位置<br />\n4. 唔可以憑空幫會員加標籤 點都要有個留言先做到<br />\n5. 只可以幫一個留言加一個記認原因 唔似髀加蕉個隻做到一個會員有幾個標籤<br />\n6. 如果個(留言/會員)係(摺埋/封鎖)咗 你係唔會見到有記認原因 要展開番先睇到<br />\n- 唔似髀加蕉個隻直接加標籤喺隔籬<br />\n <br />\n今個post同啲code嘅參考: <a href=\"https://lihkg.com/thread/1880412\" data-auto-link target=\"_blank\">https://lihkg.com/thread/1880412</a>"},{"pid":"8a26df54b5953cfa80e6abde186d5930bac3dd41","tid":2366778,"uid":366509,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-01-14T22:19:55.000Z","msg":"<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /><br />\n我就嚟儲齊晒連登出現過嘅user script"},{"pid":"5db638267855ae78741131ce34c59af5063aa9f8","tid":2366778,"uid":256957,"like":1,"dislike":0,"score":1,"citedBy":1,"replyTime":"2021-01-15T01:41:28.000Z","msg":"依加先發現無implement cache <img src=\"/assets/faces/fs/sosad.gif\" class=\"hkgmoji\" /><br />\n每get一次data就要由storage拎條json string出嚟parse一次<br />\n長遠用落可能會有performance問題<br />\n訓醒改 <img src=\"/assets/faces/fs/agree.gif\" class=\"hkgmoji\" />"},{"pid":"87affbe912012985f3f687762b469b5601785115","tid":2366778,"uid":1886,"like":0,"dislike":5,"score":-5,"citedBy":0,"replyTime":"2021-01-15T02:27:00.000Z","msg":"<code>Windows Cortana 留名系統啟動，</code><br />\n<code>請勿負評干擾運作。</code>"},{"pid":"336dbb67a17135cbab8b176745f76909a064f746","tid":2366778,"uid":23094,"like":1,"dislike":0,"score":1,"citedBy":3,"replyTime":"2021-01-15T02:50:55.000Z","msg":"支持<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /><br />\n<br />\nBTW page其實有機會唔止2位數字<br />\n<pre><code data-type=\"\">const THREAD_PAGE_RESPONSE_URL_REGEX = /https:\\/\\/lihkg.com\\/thread\\/(\\d+)\\/page\\/\\d{1,2}.*/</code></pre>"},{"pid":"6786d9d8c6743f6958d54c9a638a820e4737a9f5","tid":2366778,"uid":89064,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-01-15T09:09:38.000Z","msg":"成千行CODE, 樓主好波<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />裝左<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"60d7213ab7395c6cdf78bf369926417d43136c3f","tid":2366778,"uid":254681,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-01-15T10:02:27.000Z","msg":"留名學野<img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" />"},{"pid":"f2a4366e2ce3148b5e4a09faa367b1fd7c29d103","tid":2366778,"uid":167992,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-01-15T11:51:34.000Z","msg":"lm"},{"pid":"43b804dee1546a25bed3dca8d6230e035a97888b","tid":2366778,"uid":1886,"like":0,"dislike":0,"score":0,"quote":{"pid":"5db638267855ae78741131ce34c59af5063aa9f8","tid":2366778,"uid":256957,"like":1,"dislike":0,"score":1,"citedBy":1,"replyTime":"2021-01-15T01:41:28.000Z","msg":"依加先發現無implement cache <img src=\"/assets/faces/fs/sosad.gif\" class=\"hkgmoji\" /><br />\n每get一次data就要由storage拎條json string出嚟parse一次<br />\n長遠用落可能會有performance問題<br />\n訓醒改 <img src=\"/assets/faces/fs/agree.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2021-01-15T13:09:18.000Z","msg":"點解無咗匯出 / 匯入？"},{"pid":"c21e6b7dde68acd1a0f1fdd1ab194447a56839b1","tid":2366778,"uid":1886,"like":0,"dislike":0,"score":0,"quote":{"pid":"43b804dee1546a25bed3dca8d6230e035a97888b","tid":2366778,"uid":1886,"like":0,"dislike":0,"score":0,"quote":{"pid":"5db638267855ae78741131ce34c59af5063aa9f8","tid":2366778,"uid":256957,"like":1,"dislike":0,"score":1,"citedBy":1,"replyTime":"2021-01-15T01:41:28.000Z","msg":"依加先發現無implement cache <img src=\"/assets/faces/fs/sosad.gif\" class=\"hkgmoji\" /><br />\n每get一次data就要由storage拎條json string出嚟parse一次<br />\n長遠用落可能會有performance問題<br />\n訓醒改 <img src=\"/assets/faces/fs/agree.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2021-01-15T13:09:18.000Z","msg":"點解無咗匯出 / 匯入？"},"citedBy":0,"replyTime":"2021-01-15T13:10:05.000Z","msg":"無嘢搵到了"},{"pid":"64ac8b7b96cc2496317e36319e0800f5b250bcf4","tid":2366778,"uid":1886,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-01-15T13:22:34.000Z","msg":"無頭緒可以好似髀加蕉原本個標籤功能咁將佢整合落自己個 on9 list 到 <img src=\"/assets/faces/normal/frown.gif\" class=\"hkgmoji\" /><br />\n<br />\n個 json 可變化性太大<br />\n好難搞"},{"pid":"2164b44b329556a30812c616f8e7fe36c18951af","tid":2366778,"uid":1130,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-01-15T13:23:30.000Z","msg":"推"},{"pid":"8e12dcc3736e43ec674dc5de2fb80e9eb272d6ad","tid":2366778,"uid":1886,"like":0,"dislike":0,"score":0,"quote":{"pid":"336dbb67a17135cbab8b176745f76909a064f746","tid":2366778,"uid":23094,"like":1,"dislike":0,"score":1,"citedBy":3,"replyTime":"2021-01-15T02:50:55.000Z","msg":"支持<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /><br />\n<br />\nBTW page其實有機會唔止2位數字<br />\n<pre><code data-type=\"\">const THREAD_PAGE_RESPONSE_URL_REGEX = /https:\\/\\/lihkg.com\\/thread\\/(\\d+)\\/page\\/\\d{1,2}.*/</code></pre>"},"citedBy":1,"replyTime":"2021-01-15T13:37:27.000Z","msg":"知唔知佢 json 第一項英數混合水蛇春咁長段字係點嚟"},{"pid":"8acb5420504d93144be2700e28a308b9cb9ecebe","tid":2366778,"uid":1886,"like":0,"dislike":0,"score":0,"quote":{"pid":"336dbb67a17135cbab8b176745f76909a064f746","tid":2366778,"uid":23094,"like":1,"dislike":0,"score":1,"citedBy":3,"replyTime":"2021-01-15T02:50:55.000Z","msg":"支持<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /><br />\n<br />\nBTW page其實有機會唔止2位數字<br />\n<pre><code data-type=\"\">const THREAD_PAGE_RESPONSE_URL_REGEX = /https:\\/\\/lihkg.com\\/thread\\/(\\d+)\\/page\\/\\d{1,2}.*/</code></pre>"},"citedBy":0,"replyTime":"2021-01-15T13:46:40.000Z","msg":"可唔可以喺你個 show user info 裡面加個可以攞 post id 嘅功能 <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" />"},{"pid":"70d5c3f62f42e9122db2598ee3aecb269a76ecf7","tid":2366778,"uid":256957,"like":0,"dislike":0,"score":0,"quote":{"pid":"8e12dcc3736e43ec674dc5de2fb80e9eb272d6ad","tid":2366778,"uid":1886,"like":0,"dislike":0,"score":0,"quote":{"pid":"336dbb67a17135cbab8b176745f76909a064f746","tid":2366778,"uid":23094,"like":1,"dislike":0,"score":1,"citedBy":3,"replyTime":"2021-01-15T02:50:55.000Z","msg":"支持<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /><br />\n<br />\nBTW page其實有機會唔止2位數字<br />\n<pre><code data-type=\"\">const THREAD_PAGE_RESPONSE_URL_REGEX = /https:\\/\\/lihkg.com\\/thread\\/(\\d+)\\/page\\/\\d{1,2}.*/</code></pre>"},"citedBy":1,"replyTime":"2021-01-15T13:37:27.000Z","msg":"知唔知佢 json 第一項英數混合水蛇春咁長段字係點嚟"},"citedBy":0,"replyTime":"2021-01-15T14:29:11.000Z","msg":"係每個留言嘅unique id<br />\n原意係為咗可以parse完就以O(1)拎出嚟"},{"pid":"9dbe0f265021843dae33406e7d3362a02d53d76c","tid":2366778,"uid":256957,"like":0,"dislike":0,"score":0,"quote":{"pid":"336dbb67a17135cbab8b176745f76909a064f746","tid":2366778,"uid":23094,"like":1,"dislike":0,"score":1,"citedBy":3,"replyTime":"2021-01-15T02:50:55.000Z","msg":"支持<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /><br />\n<br />\nBTW page其實有機會唔止2位數字<br />\n<pre><code data-type=\"\">const THREAD_PAGE_RESPONSE_URL_REGEX = /https:\\/\\/lihkg.com\\/thread\\/(\\d+)\\/page\\/\\d{1,2}.*/</code></pre>"},"citedBy":0,"replyTime":"2021-01-15T14:31:07.000Z","msg":"唔該晒ching <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /><br />\n最後諗下我靜係需要thread_id 所以我將<code>(\\d+)</code>呢個group後面嘅string改做.*算 <img src=\"/assets/faces/lm2/haha.gif\" class=\"hkgmoji\" />"},{"pid":"a872bc0ef2f95c8c7302fb720456bed92a1699fb","tid":2366778,"uid":283951,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-01-15T15:55:30.000Z","msg":"推<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"4f526c9bcf48038e1411bb677e0910178c3616d3","tid":2366778,"uid":256957,"like":2,"dislike":0,"score":2,"citedBy":0,"replyTime":"2021-01-15T22:04:46.000Z","msg":"版本: v1.1 <img src=\"/assets/faces/pig/read.gif\" class=\"hkgmoji\" /><br />\n<br />\nchanges:<br />\n 1. 落cache<br />\n - 原因： 改善performance<br />\n - 依加係set個陣先會stringify<br />\n 2. 轉番用local storage<br />\n - 原因: sync tabs之間data要event listener睇住, gm storage做唔到<br />\n - 之前手殘唔知寫錯咩用唔到local storage <img src=\"/assets/faces/normal/clown.gif\" class=\"hkgmoji\" /><br />\n - 所以v1.0先用gm storage<br />\n - 依加轉番了<br />\n - 放心 呢個breaking change唔會整走你之前嘅record<br />\n - v1.1一開始會check gm storage有無value 有就將gm values轉晒落ls<br />\n 3. 可以一次匯入多個json<br />\n - 原因: 當有人好有分類咁export咗唔同category嘅json出嚟<br />\n - 其他人有得batch import會方便好多<br />\ntodo list:<br />\n 1. hack入redux store (改善performance<br />\n 2. 可以selectively export (specified thread/user"},{"pid":"2b260551d8fb8082ee06188fad3edfde426246dd","tid":2366778,"uid":387307,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-01-19T03:53:57.000Z","msg":"留名"}],"pinned":{"pid":"4f526c9bcf48038e1411bb677e0910178c3616d3","tid":2366778,"uid":256957,"like":2,"dislike":0,"score":2,"citedBy":0,"replyTime":"2021-01-15T22:04:46.000Z","msg":"版本: v1.1 <img src=\"/assets/faces/pig/read.gif\" class=\"hkgmoji\" /><br />\n<br />\nchanges:<br />\n 1. 落cache<br />\n - 原因： 改善performance<br />\n - 依加係set個陣先會stringify<br />\n 2. 轉番用local storage<br />\n - 原因: sync tabs之間data要event listener睇住, gm storage做唔到<br />\n - 之前手殘唔知寫錯咩用唔到local storage <img src=\"/assets/faces/normal/clown.gif\" class=\"hkgmoji\" /><br />\n - 所以v1.0先用gm storage<br />\n - 依加轉番了<br />\n - 放心 呢個breaking change唔會整走你之前嘅record<br />\n - v1.1一開始會check gm storage有無value 有就將gm values轉晒落ls<br />\n 3. 可以一次匯入多個json<br />\n - 原因: 當有人好有分類咁export咗唔同category嘅json出嚟<br />\n - 其他人有得batch import會方便好多<br />\ntodo list:<br />\n 1. hack入redux store (改善performance<br />\n 2. 可以selectively export (specified thread/user"}}