{"tid":351749,"cid":26,"subCid":0,"title":"urllib亂碼問題","createTime":"2017-08-08T10:14:50.000Z","updateTime":"2017-08-09T08:34:15.000Z","uid":97107,"like":2,"dislike":0,"uniUserReply":0,"replies":[{"pid":"8792c0b3ed75f8a38eb1bfc069605d20fe7f4d9d","tid":351749,"uid":97107,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-08-08T10:14:50.000Z","msg":"話說我想用python寫一個web scraper<br />\ncode:<br />\n<br />\nimport urllib<br />\n<br />\nurl = &quot;<a href=\"http://vip.win007.com/AsianOdds_n.aspx?id=1396887&amp;l=1&quot;\" data-sr-url=\"https://r.lihkg.com/link?u=http%3A%2F%2Fvip.win007.com%2FAsianOdds_n.aspx%3Fid%3D1396887%26l%3D1%22&d=HV1dzBfdtOGeWDRNYTgTm9Wu%2BWjcEfCiPsVdizSUn%2FE%3D&h=ad73dc7e\" data-auto-link target=\"_blank\">http://vip.win007.com/AsianOdds_n.aspx?id=1396887&amp;l=1&quot;</a><br />\ntext = urllib.urlopen(url).read()<br />\n<br />\nprint text<br />\n<br />\n出到嚟啲中文字會亂晒碼<br />\n已經試過加.decode(&quot;gb2312&quot;)<br />\n但係都係唔得<img src=\"/assets/faces/normal/frown.gif\" class=\"hkgmoji\" /> <br />\n有冇巴打可以指導下<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" />"},{"pid":"fd7a3c42be50531447525efdb16f98156d6f5386","tid":351749,"uid":4520,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-08-08T10:39:45.000Z","msg":"唔識幫推"},{"pid":"3316ec847daad761d3733127322127176db1e439","tid":351749,"uid":73026,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-08-08T11:19:46.000Z","msg":"試下quote()"},{"pid":"97894cadf9201feb9f9d59e25a30bc2247ff2de2","tid":351749,"uid":42119,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-08-08T13:30:33.000Z","msg":"<img src=\"/assets/faces/normal/clown.gif\" class=\"hkgmoji\" />"},{"pid":"33970e680139804f9aa59b4dcfd2090c302bcf4c","tid":351749,"uid":29218,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-08-08T14:34:03.000Z","msg":"Python2/3?"},{"pid":"d9a08d9bfafd5047e464d55debaed5d5f74fc428","tid":351749,"uid":97107,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-08-09T06:01:20.000Z","msg":"<blockquote>Python2/3?</blockquote><br />\npython 3<img src=\"/assets/faces/fs/smile.gif\" class=\"hkgmoji\" />"},{"pid":"d69ea5e743e55ddcafb4625d27500fded373d7fb","tid":351749,"uid":29218,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-08-09T07:29:44.000Z","msg":"<blockquote><blockquote>Python2/3?</blockquote><br />\npython 3<img src=\"/assets/faces/fs/smile.gif\" class=\"hkgmoji\" /></blockquote><br />\n你用咩run<br />\nPython 3 default 係unicode<br />\n唔使再encode decode<br />\n可能係你run喺terminal run唔support<br />\n你試下用pycharm/print 喺text file 睇下"},{"pid":"e24d78e57552a0ae200901aece5549f3097a1540","tid":351749,"uid":29218,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-08-09T07:30:22.000Z","msg":"<blockquote><blockquote><blockquote>Python2/3?</blockquote><br />\npython 3<img src=\"/assets/faces/fs/smile.gif\" class=\"hkgmoji\" /></blockquote><br />\n你用咩run<br />\nPython 3 default 係unicode<br />\n唔使再encode decode<br />\n可能係你喺terminal run唔support<br />\n你試下用pycharm/print 喺text file 睇下</blockquote>"},{"pid":"f37ff77ce2cde5f9d5cd7ed654a1103f2e4fd509","tid":351749,"uid":117017,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-08-09T07:34:11.000Z","msg":"試下import urllib2 用第二d element"},{"pid":"a646ac4cda751fb22ba0497d2eda7d2c974ce81e","tid":351749,"uid":50598,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-08-09T07:38:56.000Z","msg":"搭單一問<br />\nurllib2有無方法load快D<br />\n<br />\nimport urllib2<br />\nfrom bs4 import BeautifulSoup as bs<br />\nrows = bs(urllib2.urlopen(url.format(num,num)).read(),'lxml').findAll('span')<br />\n<br />\nload完成個動作要成2~3秒, 有無方法加快？"},{"pid":"0474e11b9c954f3548b67a1f79b6212864dd8d44","tid":351749,"uid":67527,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-08-09T08:34:15.000Z","msg":"<blockquote>搭單一問<br />\nurllib2有無方法load快D<br />\n<br />\nimport urllib2<br />\nfrom bs4 import BeautifulSoup as bs<br />\nrows = bs(urllib2.urlopen(url.format(num,num)).read(),'lxml').findAll('span')<br />\n<br />\nload完成個動作要成2~3秒, 有無方法加快？</blockquote><br />\n應該係bs慢，多過urllib2慢"}]}