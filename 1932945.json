{"tid":1932945,"cid":22,"subCid":0,"title":"【AMD 笑了】Intel CPU 發現「LVI」新漏洞 Xeon 都變 Atom ?? 修復後性能大跌 77%?!","createTime":"2020-03-19T04:14:55.000Z","updateTime":"2020-03-19T10:47:30.000Z","uid":28114,"like":5,"dislike":0,"uniUserReply":9,"replies":[{"pid":"a0ff4d4e51c1fb8420962404a7a09ca485c56648","tid":1932945,"uid":28114,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-03-19T04:14:55.000Z","msg":"在 3 月份 Intel、AMD 的處理器才先後被爆出在 CSME 聚合式安全與管理引擎及 L1D Way Predictor 一級數據緩存路預測器存在安全漏洞，而在日前研究人員又再發現 Intel 處理器存在一個名為 LVI ( Load Value Injection ) 的漏洞攻擊，Intel 表示受影響的處理器只有關閉 Hyper-Threading 才能規避此漏洞，當然官方亦有提供了修復漏洞的更新，可惜的是，經實測後修復更新或將導致處理器性能大跌 77%!!<br />\n <br />\n目前所有名為 Transient-Execution 暫態執行的漏洞都源於 Speculative Execution 推測執行，後者是 CPU 試圖調用未來指令前猜測優化機制，其中在 2018 年發現的「Meltdown」及「Spectre」就是第一批被披露的 Transient-Execution 漏洞，隨後 ZombieLoad、RIDL、Fallout 及 Foreshadow 等攻擊開始橫行，其中 Foreshadow 也會對 Intel 的 SGX ( Software Guard Extensions ) 軟件保護擴展指令集不利。<br />\n<br />\n<img src=\"https://file1.hkepc.net/2020/03/source/1821161272733782471.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Ffile1.hkepc.net%2F2020%2F03%2Fsource%2F1821161272733782471.jpg&h=9e54fa81&s={SIZE}\" /><br />\n<br />\n<img src=\"https://file1.hkepc.net/2020/03/source/18212055552073380769.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Ffile1.hkepc.net%2F2020%2F03%2Fsource%2F18212055552073380769.jpg&h=c6b3ad2c&s={SIZE}\" /><br />\n<br />\nSGX 在 2015 年隨著第六代 Intel Core 處理器推出，存在於 Intel 的 Core 及 Xeon 處理器並支援各種硬體，SGX 是 CPU 指令集的架構擴展，用來保護資料不被洩露或修改，是讓應用程式能夠分區和分配記憶體區域，加密內容（如密碼、使用者資料）及限制對它們的存取。這是種非對稱保護，也就是說，作業系統或使用者應用程式不能存取安全區（enclave，Intel 稱為指定位址空間）資料，但安全區（enclave）可以存取外部虛擬空間。<br />\n <br />\n由於 SGX 使用堅固式加密和硬件級的隔離方式，可以確保數據及程式代碼的機密性與防篡改能力，Intel 設計 SGX 是為了讓應用程式及程式代碼即使在操作系統、虛擬機管理程序或 BIOS 固件遭劫持的情況下，仍能確安全全。<br />\n<br />\n<span style=\"color: red;\">最新發現的 LVI 安全漏洞將影響 Intel Sandy Bridge 二代 Core 以來的絕大部分產品，只有 Cascade Lake 二代 Intel Xeon Scalable Processors 、Coffee Lake 九代 Core、Comet Lake 十代 Core 部份免疫，至於完全免疫的處理器就只有仍未推出第十一代 Ice Lake 的 Core 系列 。</span><br />\n <br />\n據了解，LVI 漏洞攻擊會竊取儲存在 Intel 處理器 SGX 安全區的機密，當存在安全弱點的系統執行儲存在惡意網站的 JavaScript 或藏在惡意 App 裡的程式代碼，攻擊者便可藉此發動 Side-Channel Attack 側通道攻擊，讓原本禁止任意訪問的緩存內容被看光光，而 LVI 還能從有漏洞 CPU 的其他區域竊取機密。"},{"pid":"8f748f3b7430d2b01f2e1233118c2cab56b470e6","tid":1932945,"uid":77717,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-03-19T04:16:02.000Z","msg":"amd<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"1af589f008f6b8451134492f8a271d8cd8101f04","tid":1932945,"uid":28114,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2020-03-19T04:16:08.000Z","msg":"研究人員指出，新的 LVI 漏洞比以前的攻擊更難緩解，因為幾乎可對記憶體任何訪問造成影響，有別於先前所有「Meltdown」類型的攻擊，LVI 漏洞無法在現有處理器徹底緩解，因此需要代價高昂的軟件修補，也就是修補有可能降低 Intel SGX 安全區運算性能達 2~19 倍，因此在通過程式或軟件修補的緩解將會對系統性能造成極大衝擊。<br />\n<br />\n要理解究竟修復更新對 Intel 處理器的性能造成多大的影響，外媒 Phoronix 就特別就使用了一顆 Kaby Lake 架構的 Intel Xeon E3-1275 v6 處理器，在 Linux 環境下先後進行包括未安裝修復更新、分支預測前載入 LFENCE、RET 指令前載入 LFENCE、載入後執行 LFENCE 及同時載入 LFENCE/RET/分支預測等的測試。<br />\n <br />\nPhoronix 得出的測試結果，在分支預測和 RET 指令前載入 LFENCE 影響相對較少，性能損失少於 10%，不過，<span style=\"color: red;\">在每個加載指令或所有三個彙編程式選項之後載入 LFENCE 的確會削弱處理器的性能，性能最多跌了 77%，損失非常慘重。</span><br />\n<br />\n幸運的是，LVI 安全漏洞對消費用家影響不算大，因為主流 PC 的處理器甚少會使用 SGX 保護機制，反而企業級的處理器則比較頻繁使用 SGX 及虛擬化，因此使用 Intel 企業級處理器的用戶就要多加小心。<br />\n <br />\n從理論上看，攻擊者的確是可以使用 JavaScript 提取 LVI 安全漏洞再發起攻擊，不過任務非常複雜，不過 Bitdefender 指出 LVI 可能會成為未來其他安全漏洞的踏腳石，因此軟件修補即使對系統性能造成極大的影響，但仍建議企業級用戶必需應用緩解措施確保安全。<br />\n <br />\n<a href=\"https://www.hkepc.com/19146/AMD_笑了Intel_CPU_發現LVI新漏洞_Xeon_都變_Atom__修復後性能大跌_77%25\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.hkepc.com%2F19146%2FAMD_%E7%AC%91%E4%BA%86Intel_CPU_%E7%99%BC%E7%8F%BELVI%E6%96%B0%E6%BC%8F%E6%B4%9E_Xeon_%E9%83%BD%E8%AE%8A_Atom__%E4%BF%AE%E5%BE%A9%E5%BE%8C%E6%80%A7%E8%83%BD%E5%A4%A7%E8%B7%8C_77%2525&d=AthmRk%2BBSDjaWf6zT95BzNXOzSaib9VKtZEsb4jNOpA%3D&h=f212621c\" target=\"_blank\">https://www.hkepc.com/19146/AMD_笑了Intel_CPU_發現LVI新漏洞_Xeon_都變_Atom__修復後性能大跌_77%25</a>"},{"pid":"9d43eee8a10919943262df5eb3cd8da847ee9118","tid":1932945,"uid":311955,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-03-19T04:19:47.000Z","msg":"amd同牙膏係咪互放醜聞嚟競爭<img src=\"/assets/faces/normal/wonder.gif\" class=\"hkgmoji\" />"},{"pid":"7a3fe4698fd3ce3416606dfc543d81fa55b8c51a","tid":1932945,"uid":81723,"like":0,"dislike":0,"score":0,"quote":{"pid":"9d43eee8a10919943262df5eb3cd8da847ee9118","tid":1932945,"uid":311955,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-03-19T04:19:47.000Z","msg":"amd同牙膏係咪互放醜聞嚟競爭<img src=\"/assets/faces/normal/wonder.gif\" class=\"hkgmoji\" />"},"citedBy":2,"replyTime":"2020-03-19T04:21:33.000Z","msg":"你話呢<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /><br />\nAmd都一樣有bug<br />\n更新完可能仲差左<br />\n睇下5700堆人<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"2c8c7da7275419da3baeb5926128cea1483548b3","tid":1932945,"uid":1886,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-03-19T05:00:17.000Z","msg":"次次都話會效能大跌<br />\n實際對一般用家根本無咩影響"},{"pid":"e4bdeb81c12df58eb4040e6d9df83b81296d8884","tid":1932945,"uid":1886,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-03-19T05:00:35.000Z","msg":"[AMD Yes!] 2011-2019年所有處理器被發現安全漏洞，AMD：不會發佈更新！<br />\n<a href=\"https://lih.kg/1917103\" data-auto-link target=\"_blank\">https://lih.kg/1917103</a><br />\n- 分享自 LIHKG 討論區"},{"pid":"50adc5aae7bfcd0957b2e5bd04fc9ca57663b748","tid":1932945,"uid":77143,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2020-03-19T05:01:14.000Z","msg":"amd yes"},{"pid":"e60ced09ba8036979dbb75c61a1cc1b44b8578a8","tid":1932945,"uid":35347,"like":0,"dislike":0,"score":0,"quote":{"pid":"7a3fe4698fd3ce3416606dfc543d81fa55b8c51a","tid":1932945,"uid":81723,"like":0,"dislike":0,"score":0,"quote":{"pid":"9d43eee8a10919943262df5eb3cd8da847ee9118","tid":1932945,"uid":311955,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-03-19T04:19:47.000Z","msg":"amd同牙膏係咪互放醜聞嚟競爭<img src=\"/assets/faces/normal/wonder.gif\" class=\"hkgmoji\" />"},"citedBy":2,"replyTime":"2020-03-19T04:21:33.000Z","msg":"你話呢<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /><br />\nAmd都一樣有bug<br />\n更新完可能仲差左<br />\n睇下5700堆人<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2020-03-19T05:02:00.000Z","msg":"差咗咩<br />\n唔覺嘅<img src=\"/assets/faces/normal/wonder.gif\" class=\"hkgmoji\" />"},{"pid":"7e567d20a177266bb7ecb72392308dfc4f6b8d78","tid":1932945,"uid":52068,"like":0,"dislike":0,"score":0,"quote":{"pid":"7a3fe4698fd3ce3416606dfc543d81fa55b8c51a","tid":1932945,"uid":81723,"like":0,"dislike":0,"score":0,"quote":{"pid":"9d43eee8a10919943262df5eb3cd8da847ee9118","tid":1932945,"uid":311955,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-03-19T04:19:47.000Z","msg":"amd同牙膏係咪互放醜聞嚟競爭<img src=\"/assets/faces/normal/wonder.gif\" class=\"hkgmoji\" />"},"citedBy":2,"replyTime":"2020-03-19T04:21:33.000Z","msg":"你話呢<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /><br />\nAmd都一樣有bug<br />\n更新完可能仲差左<br />\n睇下5700堆人<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2020-03-19T05:05:10.000Z","msg":"乜事？<br />\n用緊5700，冇更新過，冇事"},{"pid":"2b21862d006b3c2459ecece02a2216f00b941834","tid":1932945,"uid":63,"like":0,"dislike":0,"score":0,"quote":{"pid":"e4bdeb81c12df58eb4040e6d9df83b81296d8884","tid":1932945,"uid":1886,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-03-19T05:00:35.000Z","msg":"[AMD Yes!] 2011-2019年所有處理器被發現安全漏洞，AMD：不會發佈更新！<br />\n<a href=\"https://lih.kg/1917103\" data-auto-link target=\"_blank\">https://lih.kg/1917103</a><br />\n- 分享自 LIHKG 討論區"},"citedBy":0,"replyTime":"2020-03-19T10:47:30.000Z","msg":"amd 偷到既都只係加密過既數據<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"}]}