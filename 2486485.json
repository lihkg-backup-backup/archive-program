{"tid":2486485,"cid":18,"subCid":0,"title":"arduino新手自學一問：uno有冇得multi task? (內有少J圖)","createTime":"2021-04-13T02:19:23.000Z","updateTime":"2021-04-14T13:49:24.000Z","uid":48379,"like":14,"dislike":2,"uniUserReply":20,"replies":[{"pid":"11ad66825df81f5a666b2e29997c6c9588c36416","tid":2486485,"uid":48379,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-04-13T02:19:23.000Z","msg":"我而家有兩組簡單code, 獨立run個陣就work, 但唔識combin一齊用<br />\n<br />\ncode 1:  有粒IR sonser control motor on off<br />\nvoid setup() {            <br />\n  pinMode(2,OUTPUT);<br />\n  pinMode(3,INPUT);<br />\n  Serial.begin(9600);<br />\n    if (digitalRead(3)== HIGH)<br />\n  { digitalWrite(2,HIGH);<br />\n    delay(100);<br />\n  }<br />\n  else <br />\n  { digitalWrite(2,LOW);<br />\n    delay(100);<br />\n}<br />\n}<br />\nvoid loop() {<br />\n  digitalWrite(2, HIGH);   // turn the motor on.<br />\n  delay(60000);      // wait for miliseconds<br />\n  digitalWrite(2, LOW);  // turn the motor off.<br />\n  delay(120000);  <br />\n}<br />\n<br />\ncode 2: 純粹個motor每2分鐘轉1分鐘<br />\nvoid setup() {            <br />\n  pinMode(2,OUTPUT);<br />\n}<br />\nvoid loop() {<br />\n  digitalWrite(2, HIGH);  <br />\n  delay(60000);     <br />\n  digitalWrite(2, LOW); <br />\n  delay(120000);  <br />\n}<br />\n<br />\n=================================<br />\n我想combine兩條code做用一條，個motor每5分鐘轉1分鐘，唔轉個陣如果粒IR sensor sens到野嘅話，個motor都會轉，sens唔到野先會停返，然後去返每5分鐘轉1分鐘個情況，求高手指點<br />\n<img src=\"/assets/faces/pig/wail.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/wail.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/wail.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/wail.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/wail.gif\" class=\"hkgmoji\" /><br />\n<br />\n<br />\n<img src=\"https://ipfs.infura.io/ipfs/QmUHoEErh5FV1Wopvq9oe5pWsgfRa7C8g98RgLyDskzdac?filename=YyiB0m6.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FYyiB0m6.jpg&h=5c20beef&s={SIZE}\" /><br />\n<img src=\"https://ipfs.infura.io/ipfs/QmNPU41nww4ZQvBFf1w85wty6oyfAgHyJSrgvNRK3PC2fT?filename=g242btM.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2Fg242btM.jpg&h=7667a75b&s={SIZE}\" /><br />\n<img src=\"https://ipfs.infura.io/ipfs/QmatnmyrFMQVuyq6kEZJTQawPeZXBDpLJSPh7Xg9hTjiiF?filename=Ymk1r16.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FYmk1r16.jpg&h=ad4cbd31&s={SIZE}\" /><br />\n<img src=\"https://ipfs.infura.io/ipfs/QmVKuT3VaGkJRohPo8GTaQaFuPeKwpWHkMJxcCtQyXUeRH?filename=N2woFm6.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FN2woFm6.jpg&h=566d0fa6&s={SIZE}\" /><br />\n<img src=\"https://ipfs.infura.io/ipfs/QmQBWKBUJdgXcV21JJHeQxf9aEjh1e9Qvt8P72VNCRW9kR?filename=oYYKpOM.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FoYYKpOM.jpg&h=10a9d2da&s={SIZE}\" /><br />\n<img src=\"https://ipfs.infura.io/ipfs/QmNWkLuSQ9NWdWQYgmrQ6PeyymYSJtenGYfVWMKC4jsY7N?filename=8Qcvkm6.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2F8Qcvkm6.jpg&h=97ffe568&s={SIZE}\" /><br />\n<img src=\"https://ipfs.infura.io/ipfs/QmergJpU8RmVe6gsxJQkxFRSZputFBLdGCuDYsRtcNgWpC?filename=u7V49fr.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2Fu7V49fr.jpg&h=5f6782c4&s={SIZE}\" /><br />\n<img src=\"https://ipfs.infura.io/ipfs/QmSxDoYxgVWvscCKEoLakYsmF5Us74BLq8gjDdRiyv9uX6?filename=P5cvkm6.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FP5cvkm6.jpg&h=e631c4bf&s={SIZE}\" /><br />\n<img src=\"https://ipfs.infura.io/ipfs/Qmep7mmkjNZvk6z9wEjAj2ZxaYPEWjfZVSpTwYXr8aYnvu?filename=cdZmr16.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FcdZmr16.jpg&h=ae101c7e&s={SIZE}\" /><br />\n<img src=\"https://ipfs.infura.io/ipfs/QmWJrrNx9Gbpx6po5d74gmaCEJi6mT8peYZ64V7pVzwYGA?filename=Hui6C8M.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FHui6C8M.jpg&h=a75d4c1b&s={SIZE}\" />"},{"pid":"6a4890d358c4fc4234cb023ab60ce80255f8735e","tid":2486485,"uid":165749,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-04-13T02:22:35.000Z","msg":"白滑"},{"pid":"ca9d4219511f3a0e80ea6c11a257c317fb12eb05","tid":2486485,"uid":54800,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-04-13T02:25:18.000Z","msg":"<img src=\"/assets/faces/normal/tongue.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/tongue.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/tongue.gif\" class=\"hkgmoji\" />"},{"pid":"8ceeb01db4a3c2ccf52da1a15337f80ecdbcb5c1","tid":2486485,"uid":159916,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-04-13T02:29:48.000Z","msg":"<img src=\"/assets/faces/lomoji/10.png\" class=\"hkgmoji\" />"},{"pid":"4ba161edacb2baac79cd086adc257a6d6f664a0c","tid":2486485,"uid":371606,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-04-13T02:35:05.000Z","msg":"<img src=\"/assets/faces/lm2/lick.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/lick.gif\" class=\"hkgmoji\" />"},{"pid":"0dd726c19a03f0797021e08c17c168fb1d82503b","tid":2486485,"uid":138868,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-04-13T02:39:02.000Z","msg":"Google<br />\nPolling同pipelining嘅分別<br />\n你依家係做緊polling<br />\n你可以試下用interrupt或者thread<br />\n利申見到有J圖先回"},{"pid":"1e41eecf1cb3dc219d122a54bbceafc5b9f960ad","tid":2486485,"uid":80827,"like":2,"dislike":0,"score":2,"citedBy":1,"replyTime":"2021-04-13T02:41:07.000Z","msg":"將你code 2 <br />\ndelay(120000);<br />\n改做每1秒check sensor<br />\ncheck夠300次咪解決囉"},{"pid":"ee7b95ea78a6e1f3600c662b337ff7823350c6da","tid":2486485,"uid":35418,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-04-13T02:45:33.000Z","msg":"light同motor 嘅output, input可以共用？"},{"pid":"bce204fe36ba166cc9ec777f7b463909a34ea7b5","tid":2486485,"uid":295855,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-04-13T02:47:14.000Z","msg":"delay成幾分鐘咩都錯過左啦。<br />\n緊係用if else 達成左先停/開<br />\n<br />\n咁個loop咪唔會比delay鎖住囉<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"48507006d305ef6cb57f415258adba453f3986bd","tid":2486485,"uid":35418,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2021-04-13T02:49:21.000Z","msg":"<a href=\"https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.arduino.cc%2Freference%2Fen%2Flanguage%2Ffunctions%2Fexternal-interrupts%2Fattachinterrupt%2F&d=2BCMh5porRb4XQq0U%2Bi1DMlSugA1I0CCabXjLbCjl00%3D&h=f355f6e7\" data-auto-link target=\"_blank\">https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/</a><br />\n<br />\n試下睇下呢個function, 可能啱你用"},{"pid":"55300a20c511808797bd419fcc5f3547cb9b2d57","tid":2486485,"uid":295855,"like":0,"dislike":0,"score":0,"quote":{"pid":"48507006d305ef6cb57f415258adba453f3986bd","tid":2486485,"uid":35418,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2021-04-13T02:49:21.000Z","msg":"<a href=\"https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.arduino.cc%2Freference%2Fen%2Flanguage%2Ffunctions%2Fexternal-interrupts%2Fattachinterrupt%2F&d=2BCMh5porRb4XQq0U%2Bi1DMlSugA1I0CCabXjLbCjl00%3D&h=f355f6e7\" data-auto-link target=\"_blank\">https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/</a><br />\n<br />\n試下睇下呢個function, 可能啱你用"},"citedBy":1,"replyTime":"2021-04-13T02:52:01.000Z","msg":"依個係底層控制。應該普通玩家用唔著<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/biggrin.gif\" class=\"hkgmoji\" />"},{"pid":"593a5db0195ff5171a03384c6f959661aa41f623","tid":2486485,"uid":35418,"like":0,"dislike":0,"score":0,"quote":{"pid":"55300a20c511808797bd419fcc5f3547cb9b2d57","tid":2486485,"uid":295855,"like":0,"dislike":0,"score":0,"quote":{"pid":"48507006d305ef6cb57f415258adba453f3986bd","tid":2486485,"uid":35418,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2021-04-13T02:49:21.000Z","msg":"<a href=\"https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.arduino.cc%2Freference%2Fen%2Flanguage%2Ffunctions%2Fexternal-interrupts%2Fattachinterrupt%2F&d=2BCMh5porRb4XQq0U%2Bi1DMlSugA1I0CCabXjLbCjl00%3D&h=f355f6e7\" data-auto-link target=\"_blank\">https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/</a><br />\n<br />\n試下睇下呢個function, 可能啱你用"},"citedBy":1,"replyTime":"2021-04-13T02:52:01.000Z","msg":"依個係底層控制。應該普通玩家用唔著<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/biggrin.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2021-04-13T03:00:23.000Z","msg":"咁可以寫2個loop,<br />\nloop 1負責motor on, variable a count down, reset variable b<br />\nloop2負責 motor off, variable a reset, variable b count down"},{"pid":"e5d2bf386467a0c1ca15261476e7c625f639a4e2","tid":2486485,"uid":48379,"like":0,"dislike":0,"score":0,"quote":{"pid":"1e41eecf1cb3dc219d122a54bbceafc5b9f960ad","tid":2486485,"uid":80827,"like":2,"dislike":0,"score":2,"citedBy":1,"replyTime":"2021-04-13T02:41:07.000Z","msg":"將你code 2 <br />\ndelay(120000);<br />\n改做每1秒check sensor<br />\ncheck夠300次咪解決囉"},"citedBy":0,"replyTime":"2021-04-13T03:41:56.000Z","msg":"check sensor係咪digitalread pin?<br />\n唔識改每1秒check1次，我見youtube google有好多人都係計uno既運算速度咁<img src=\"/assets/faces/pig/wail.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/wail.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/wail.gif\" class=\"hkgmoji\" />"},{"pid":"b5b09548bf99200fc5c27ed2684312e3f4160d89","tid":2486485,"uid":317906,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2021-04-13T04:56:34.000Z","msg":"key word: timer, interrupt"},{"pid":"1a1c6a20063909c375b263c3bc46246d763006f8","tid":2486485,"uid":48379,"like":0,"dislike":0,"score":0,"quote":{"pid":"b5b09548bf99200fc5c27ed2684312e3f4160d89","tid":2486485,"uid":317906,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2021-04-13T04:56:34.000Z","msg":"key word: timer, interrupt"},"citedBy":1,"replyTime":"2021-04-13T05:41:12.000Z","msg":"search timer淨係搵到一堆寫計時器, interrupt我唔係好睇得明<img src=\"/assets/faces/fs/smile.gif\" class=\"hkgmoji\" />"},{"pid":"350b207329ce183774ea055dccd5d11ae7366a97","tid":2486485,"uid":295855,"like":0,"dislike":0,"score":0,"quote":{"pid":"593a5db0195ff5171a03384c6f959661aa41f623","tid":2486485,"uid":35418,"like":0,"dislike":0,"score":0,"quote":{"pid":"55300a20c511808797bd419fcc5f3547cb9b2d57","tid":2486485,"uid":295855,"like":0,"dislike":0,"score":0,"quote":{"pid":"48507006d305ef6cb57f415258adba453f3986bd","tid":2486485,"uid":35418,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2021-04-13T02:49:21.000Z","msg":"<a href=\"https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.arduino.cc%2Freference%2Fen%2Flanguage%2Ffunctions%2Fexternal-interrupts%2Fattachinterrupt%2F&d=2BCMh5porRb4XQq0U%2Bi1DMlSugA1I0CCabXjLbCjl00%3D&h=f355f6e7\" data-auto-link target=\"_blank\">https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/</a><br />\n<br />\n試下睇下呢個function, 可能啱你用"},"citedBy":1,"replyTime":"2021-04-13T02:52:01.000Z","msg":"依個係底層控制。應該普通玩家用唔著<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/biggrin.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2021-04-13T03:00:23.000Z","msg":"咁可以寫2個loop,<br />\nloop 1負責motor on, variable a count down, reset variable b<br />\nloop2負責 motor off, variable a reset, variable b count down"},"citedBy":1,"replyTime":"2021-04-13T06:28:19.000Z","msg":"arduino loop本身只可能寫個<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\n<br />\nsetup都係。<br />\n<br />\n所以用delay要睇實際需要先好用"},{"pid":"5e2fb5f2a5f73730de59caeec3d6014057342e31","tid":2486485,"uid":295855,"like":1,"dislike":0,"score":1,"quote":{"pid":"350b207329ce183774ea055dccd5d11ae7366a97","tid":2486485,"uid":295855,"like":0,"dislike":0,"score":0,"quote":{"pid":"593a5db0195ff5171a03384c6f959661aa41f623","tid":2486485,"uid":35418,"like":0,"dislike":0,"score":0,"quote":{"pid":"55300a20c511808797bd419fcc5f3547cb9b2d57","tid":2486485,"uid":295855,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2021-04-13T02:52:01.000Z","msg":"依個係底層控制。應該普通玩家用唔著<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/biggrin.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2021-04-13T03:00:23.000Z","msg":"咁可以寫2個loop,<br />\nloop 1負責motor on, variable a count down, reset variable b<br />\nloop2負責 motor off, variable a reset, variable b count down"},"citedBy":1,"replyTime":"2021-04-13T06:28:19.000Z","msg":"arduino loop本身只可能寫個<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\n<br />\nsetup都係。<br />\n<br />\n所以用delay要睇實際需要先好用"},"citedBy":2,"replyTime":"2021-04-13T06:28:59.000Z","msg":"*loop同setup只可以寫一個"},{"pid":"fcc5b768a2cdc32e692c443b4a28d3360f318119","tid":2486485,"uid":14817,"like":0,"dislike":0,"score":0,"quote":{"pid":"5e2fb5f2a5f73730de59caeec3d6014057342e31","tid":2486485,"uid":295855,"like":1,"dislike":0,"score":1,"quote":{"pid":"350b207329ce183774ea055dccd5d11ae7366a97","tid":2486485,"uid":295855,"like":0,"dislike":0,"score":0,"quote":{"pid":"593a5db0195ff5171a03384c6f959661aa41f623","tid":2486485,"uid":35418,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2021-04-13T03:00:23.000Z","msg":"咁可以寫2個loop,<br />\nloop 1負責motor on, variable a count down, reset variable b<br />\nloop2負責 motor off, variable a reset, variable b count down"},"citedBy":1,"replyTime":"2021-04-13T06:28:19.000Z","msg":"arduino loop本身只可能寫個<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\n<br />\nsetup都係。<br />\n<br />\n所以用delay要睇實際需要先好用"},"citedBy":2,"replyTime":"2021-04-13T06:28:59.000Z","msg":"*loop同setup只可以寫一個"},"citedBy":1,"replyTime":"2021-04-13T06:33:06.000Z","msg":"正解 冇多線程一入無限loop 會冇得出返黎"},{"pid":"2fbb51c452b3a97b36f1772ad244500abe07d0b6","tid":2486485,"uid":311588,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2021-04-13T06:34:11.000Z","msg":"可唔可以轉個motor pin去其他pin定一定要用呢支pin?"},{"pid":"3d9c29e9e8bbafda54ed680881fdce89951653b6","tid":2486485,"uid":48379,"like":0,"dislike":0,"score":0,"quote":{"pid":"2fbb51c452b3a97b36f1772ad244500abe07d0b6","tid":2486485,"uid":311588,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2021-04-13T06:34:11.000Z","msg":"可唔可以轉個motor pin去其他pin定一定要用呢支pin?"},"citedBy":0,"replyTime":"2021-04-13T06:37:06.000Z","msg":"可以轉呀<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" />"},{"pid":"b99e60ed0240efbc48534d638a385b2de795926e","tid":2486485,"uid":48379,"like":0,"dislike":0,"score":0,"quote":{"pid":"fcc5b768a2cdc32e692c443b4a28d3360f318119","tid":2486485,"uid":14817,"like":0,"dislike":0,"score":0,"quote":{"pid":"5e2fb5f2a5f73730de59caeec3d6014057342e31","tid":2486485,"uid":295855,"like":1,"dislike":0,"score":1,"quote":{"pid":"350b207329ce183774ea055dccd5d11ae7366a97","tid":2486485,"uid":295855,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2021-04-13T06:28:19.000Z","msg":"arduino loop本身只可能寫個<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\n<br />\nsetup都係。<br />\n<br />\n所以用delay要睇實際需要先好用"},"citedBy":2,"replyTime":"2021-04-13T06:28:59.000Z","msg":"*loop同setup只可以寫一個"},"citedBy":1,"replyTime":"2021-04-13T06:33:06.000Z","msg":"正解 冇多線程一入無限loop 會冇得出返黎"},"citedBy":0,"replyTime":"2021-04-13T06:39:07.000Z","msg":"所以我諗緊會唔會好似#7 師兄就講check sensor check夠時間，<br />\n不過搵左好耐都搵唔到岩用既code<img src=\"/assets/faces/pig/wail.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/wail.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/pig/wail.gif\" class=\"hkgmoji\" />"},{"pid":"997ba16283408161c74c24bd84629ec5a6ba5eba","tid":2486485,"uid":362210,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-04-13T06:39:54.000Z","msg":"睇完po 想學arduino<img src=\"/assets/faces/dog/wet.gif\" class=\"hkgmoji\" />"},{"pid":"1865b40425fcdb04b343f4f7b8abdfc9b9d22a98","tid":2486485,"uid":235853,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2021-04-13T07:06:02.000Z","msg":"係咪每五分鐘入面有四分鐘motor depends on sensor, 一分鐘一定轉？<br />\n<br />\n定係sensor會reset左個五分鐘？<br />\n即係sense到野就轉一分鐘等四分鐘,等緊既時候都sense到野就重復？"},{"pid":"40913700754234a92b37ab5addd2a2aaaa7289d5","tid":2486485,"uid":14817,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2021-04-13T07:13:11.000Z","msg":"Program::<br />\nRepeatKey := !RepeatKey<br />\nGosub motorRUN<br />\nReturn<br />\n<br />\nmotorRUN:<br />\nIf RepeatKey<br />\n SetTimer, motorSpin, 300000 ; 每5分鐘 ms黎<br />\n  SetTimer, motordetect, 1000 ;<br />\nElse<br />\n SetTimer, motorSpin, Off <br />\nReturn<br />\n<br />\nmotorSpin:<br />\nLoop, 60<br />\nmotorSpin ;motor 轉緊 每次轉1秒<br />\nReturn<br />\n<br />\nmotordetect:<br />\nif (sens到野)<br />\nmotorSpin ;motor 轉緊 每次轉1秒<br />\nReturn<br />\n<br />\n雖然唔係arduino 不過你轉返arduino 應該WORK (AHK 黎<br />\n呢個單線程都跑到"},{"pid":"379d3b7d6bc8dd3f9ad0a2dc18c5c2ecb0d8943f","tid":2486485,"uid":235853,"like":0,"dislike":0,"score":0,"quote":{"pid":"1865b40425fcdb04b343f4f7b8abdfc9b9d22a98","tid":2486485,"uid":235853,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2021-04-13T07:06:02.000Z","msg":"係咪每五分鐘入面有四分鐘motor depends on sensor, 一分鐘一定轉？<br />\n<br />\n定係sensor會reset左個五分鐘？<br />\n即係sense到野就轉一分鐘等四分鐘,等緊既時候都sense到野就重復？"},"citedBy":0,"replyTime":"2021-04-13T07:20:07.000Z","msg":"First case:<br />\n<br />\n<pre><code data-type=\"\">\nunsigned long lastResetTime=0;\nunsigned long TimeForlooping=300000;//5 min\nunsigned long TimeForMotor=60000;//1min\nconst int motorPin=2;//define motor pin, active High\nconst int SensorPin=3;// define sensor pin, active High\nvoid setup() {\n    pinMode(motorPin,OUTPUT);\n    pinMode(SensorPin,INPUT);    \n}\n\nvoid loop() {\n    if(lastResetTime+TimeForlooping&lt;millis()){//if 5 min is over\n        lastResetTime=millis(); //update time counter\n        digitalWrite(motorPin, HIGH); // turn the motor on.\n    }\n    else if(lastResetTime+TimeForMotor&lt;millis()&amp;&amp;!digitalRead(SensorPin)){  //if 1 min after update time counter and sensor is low        \n        digitalWrite(motorPin, LOW); // turn the motor off.\n    } else{\n        digitalWrite(motorPin, HIGH); // turn the motor on.\n    }    \n}</code></pre>"}],"pinned":{"pid":"b8b0bd2f29f8e8c83212a2f7b7499d3ac286c754","tid":2486485,"uid":48379,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2021-04-13T10:40:06.000Z","msg":"最後我搵fd搞掂左，開心share<br />\n<br />\nunsigned long starttime = 0;<br />\nunsigned long endtime = 180000;<br />\nunsigned long ontime = 60000;<br />\n<br />\nconst int motorPin = 2;<br />\nconst int SensorPin = 3;<br />\n<br />\nvoid setup() {<br />\n  pinMode(motorPin, OUTPUT);<br />\n  pinMode(SensorPin, INPUT);<br />\n  Serial.begin(115200);<br />\n  starttime = millis();<br />\n  digitalWrite(motorPin, LOW);<br />\n}<br />\nvoid loop() {<br />\n  if (digitalRead(SensorPin) == LOW) {<br />\n    digitalWrite(motorPin, HIGH);<br />\n  }<br />\n  else {<br />\n    if (millis() - starttime &gt; 0 &amp;&amp; millis() - starttime &lt;= ontime) {<br />\n      digitalWrite(motorPin, HIGH);<br />\n    }<br />\n    else if (millis() - starttime &gt; ontime &amp;&amp; millis() - starttime &lt;= ontime + endtime) {<br />\n      digitalWrite(motorPin, LOW);<br />\n    }<br />\n    else {<br />\n      starttime = millis();<br />\n    }<br />\n  }<br />\n}"}}