{"tid":653915,"cid":26,"subCid":0,"title":"【Router筆記】asuswrt-merlin部署shadowsocks-libev","createTime":"2018-05-05T07:13:47.000Z","updateTime":"2019-04-10T08:55:13.000Z","uid":17738,"like":16,"dislike":0,"uniUserReply":13,"replies":[{"pid":"3c4bebc93dd04ee5833c597c70abde1661ccb28c","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2018-05-05T07:13:47.000Z","msg":"asuswrt-merlin係華碩router嘅增強版第三方firmware，flash咗呢個firmware之後，你嘅router就會變為一個Linux Server，功能強大，威力無窮，請到<br />\n<br />\n<a href=\"https://asuswrt.lostrealm.ca/\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fasuswrt.lostrealm.ca%2F&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=6649fc4b\" target=\"_blank\">https://asuswrt.lostrealm.ca/</a>搵到你型號嘅firmware，安裝手冊 <a href=\"https://github.com/RMerl/asuswrt-merlin/wiki\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2FRMerl%2Fasuswrt-merlin%2Fwiki&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=320db306\" target=\"_blank\">https://github.com/RMerl/asuswrt-merlin/wiki</a><br />\n<br />\nshadowsocks-libev係一個用C寫嘅shadowsocks分支，屬變形嘅socks5代理工具，支援多種加密方式，並有混淆流量偽裝插件，主要用嚟規避贏國嘅GFW<br />\n<br />\n<a href=\"https://github.com/shadowsocks/shadowsocks-libev\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Fshadowsocks%2Fshadowsocks-libev&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=4a243511\" target=\"_blank\">https://github.com/shadowsocks/shadowsocks-libev</a><br />\n<br />\n以下安裝shadowsocks-libev以Asus RT-AC68U為例<br />\n<br />\nflash咗做merlin firmware之後，login去router控制頁面，去系統管理，搵到呢2個部份照圖設定<br />\n<img src=\"https://upload.cc/i1/2018/05/05/TLQZq1.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fupload.cc%2Fi1%2F2018%2F05%2F05%2FTLQZq1.jpg&h=4b055da0&s={SIZE}\" /><br />\n<img src=\"https://upload.cc/i1/2018/05/05/uHc87a.jpg\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fupload.cc%2Fi1%2F2018%2F05%2F05%2FuHc87a.jpg&h=7b515b74&s={SIZE}\" /><br />\n<br />\n之後搵隻8GB以上USB手指，插去router嘅usb port第一個，喺Linux用ssh login去router<br />\n<br />\n$ ssh yourname@192.168.1.1<br />\n<br />\nwindows就安裝putty，可以搵個免安裝portable嘅<br />\n<br />\n<a href=\"https://portableapps.com/apps/internet/putty_portable\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fportableapps.com%2Fapps%2Finternet%2Fputty_portable&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=747ad92c\" target=\"_blank\">https://portableapps.com/apps/internet/putty_portable</a><br />\n<br />\n同樣ssh入去<br />\n<br />\n入到router命令行，輸入entware-setup.sh <br />\n詳細請睇<a href=\"https://github.com/RMerl/asuswrt-merlin/wiki/Entware]\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2FRMerl%2Fasuswrt-merlin%2Fwiki%2FEntware%5D&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=3a5d89aa\" target=\"_blank\">https://github.com/RMerl/asuswrt-merlin/wiki/Entware]</a><br />\n<br />\n等佢完成，之後要搞個DDNS，因為家用嘅寬頻通常非固定IP,需要用Domain指向當時IP連接，華碩官方嘅DDNS設置<br />\n<br />\n<a href=\"https://www.asus.com/hk/support/FAQ/1011725/\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.asus.com%2Fhk%2Fsupport%2FFAQ%2F1011725%2F&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=e212a9db\" target=\"_blank\">https://www.asus.com/hk/support/FAQ/1011725/</a><br />\n<br />\n如果唔鍾意呢啲DDNS供應商，可以參考 <a href=\"https://github.com/RMerl/asuswrt-merlin/wiki/Custom-DDNS\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2FRMerl%2Fasuswrt-merlin%2Fwiki%2FCustom-DDNS&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=75e5b20c\" target=\"_blank\">https://github.com/RMerl/asuswrt-merlin/wiki/Custom-DDNS</a>用其它嘅供應商，我係用非華碩提供嘅，因為好多喺贏國block咗<br />\n<br />\n搞掂咗DDNS之後，喺ROUTER命令列輸入<br />\n<br />\nopkg list | grep shadowsocks-libev 會output呢堆<br />\n<br />\nshadowsocks-libev-config - 3.1.3-2 - shadowsocks-libev config scripts<br />\nshadowsocks-libev-polarssl - 2.4.5-1<br />\nshadowsocks-libev-ss-local - 3.1.3-2 - shadowsocks-libev ss-local<br />\nshadowsocks-libev-ss-redir - 3.1.3-2 - shadowsocks-libev ss-redir<br />\nshadowsocks-libev-ss-rules - 3.1.3-2 - shadowsocks-libev ss-rules<br />\nshadowsocks-libev-ss-server - 3.1.3-2 - shadowsocks-libev ss-server<br />\nshadowsocks-libev-ss-tunnel - 3.1.3-2 - shadowsocks-libev ss-tunnel<br />\n<br />\n唔需要佢其他嘅嘢，只要server, 再輸入<br />\n<br />\nopkg install shadowsocks-libev-ss-server<br />\n<br />\n等安裝完成，轉去 /jffs/scripts path , 輸入<br />\n<br />\ncd /jffs/scripts/<br />\n<br />\n睇吓有冇文字編輯器，輸入 which nano，冇就 opkg install nano，之後輸入<br />\n<br />\nnano ss-init , 內容如下 <a href=\"https://pastebin.com/raw/wgsJ8uCn\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fpastebin.com%2Fraw%2FwgsJ8uCn&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=9614198b\" target=\"_blank\">https://pastebin.com/raw/wgsJ8uCn</a><br />\n<br />\n如果懶copy&amp;paste，輸入<br />\n<br />\nwget --no-check-certificate -q <a href=\"https://pastebin.com/raw/wgsJ8uCn\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fpastebin.com%2Fraw%2FwgsJ8uCn&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=9614198b\" data-auto-link target=\"_blank\">https://pastebin.com/raw/wgsJ8uCn</a> -O ss-init<br />\n<br />\n之後輸入 chmod +x ss-init , 睇吓/jffs/scripts 有冇firewall-start 呢個file，輸入 ls ，有就喺內容後面加入，冇就開新嘅，file名一定係firewall-start<br />\n<br />\niptables -I INPUT -p tcp --dport 9089 -j ACCEPT<br />\niptables -I INPUT -p udp --dport 9089 -j ACCEPT<br />\n<br />\n上面9089個port係可以改嘅，配合返ss嘅config file就得，轉頭會講,搞完記得chmod +x firewall-start<br />\n<br />\n跟住 nano services-start ，喺後面加入<br />\n<br />\n/jffs/scripts/ss-init start<br />\ncronfile=&quot;/jffs/scripts/admin&quot;<br />\ndest=&quot;/var/spool/cron/crontabs/&quot;<br />\n/bin/cp &quot;$cronfile&quot; &quot;$dest&quot;<br />\n<br />\nsave之後跟住nano services-stop ,喺 /opt/etc/init.d/rc.unslung stop 呢行前面加入<br />\n<br />\n/jffs/scripts/ss-init stop<br />\n<br />\nsave咗跟住nano admin , 裏面內容<br />\n<br />\n*/15 * * * * /jffs/scripts/isup.sh<br />\n59 23 * * * /opt/bin/opkg update &amp;&amp; /opt/bin/opkg upgrade <br />\n<br />\nsave咗nano isup.sh, 裏面內容 <a href=\"https://pastebin.com/raw/a2bAYyeT\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fpastebin.com%2Fraw%2Fa2bAYyeT&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=028c9cc8\" target=\"_blank\">https://pastebin.com/raw/a2bAYyeT</a><br />\n<br />\n#! /bin/sh<br />\nss=$(ps w | awk '$5 ~ /ss-server/{print $1}')<br />\n<br />\nif [ -n &quot;$ss&quot; ]<br />\n\tthen<br />\n\t\t:<br />\n\telse<br />\n\t\t/jffs/scripts/ss-init start<br />\nfi<br />\n<br />\nexit 0<br />\n<br />\n如果懶得打就同上面玩法一樣，下載落嚟之後 chmod +x isup.sh<br />\n<br />\n到呢度 /jffs/scripts 裏面要嘅嘢有晒，轉去 /mnt/sda1/entware/etc/<br />\n<br />\ncd /mnt/sda1/entware/etc/ 之後輸入 mkdir shadowsocks ，完成 cd shadowsocks<br />\n然後nano config.json , 裏面內容<br />\n<br />\n{<br />\n    &quot;server&quot;:&quot;0.0.0.0&quot;,<br />\n    &quot;server_port&quot;:9089,<br />\n    &quot;password&quot;:&quot;Your_password_here_need_change&quot;,<br />\n    &quot;local_port&quot;:1080,<br />\n    &quot;timeout&quot;:600,<br />\n    &quot;method&quot;:&quot;chacha20-ietf-poly1305&quot;,<br />\n    &quot;fast_open&quot;:false,<br />\n    &quot;workers&quot;:1<br />\n}<br />\n<br />\nsave咗就完成需要嘅嘢，會隨開router啟動ss server，並自動15分鐘check ss server係咪運行，死咗會自動重開，config.json裏面個server port可以改成你鍾意嘅，冇其它嘢用緊就得，當然要改返firewall-start裏面個port <br />\n<br />\n之後命令列輸入 /jffs/scripts/ss-init start ,就運行 ss server<br />\n/jffs/scripts/ss-init stop 就停服務，/jffs/scripts/ss-init status就睇運行狀態<br />\n<br />\n客戶端喺ios嘅 app store輸入shadowsocks一堆，有收錢有免費，我用緊shadowrocket,以前8蚊 <a href=\"https://itunes.apple.com/hk/app/shadowrocket/id932747118?mt=8\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fitunes.apple.com%2Fhk%2Fapp%2Fshadowrocket%2Fid932747118%3Fmt%3D8&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=7bc77edc\" target=\"_blank\">https://itunes.apple.com/hk/app/shadowrocket/id932747118?mt=8</a><br />\n或者google &quot;ios shadowsocks客戶端&quot;睇吓邊隻啱用<br />\n<br />\nandroid就用作者嘅官方client最好<br />\n<a href=\"https://play.google.com/store/apps/details?id=com.github.shadowsocks&amp;hl=zh_HK\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.github.shadowsocks%26hl%3Dzh_HK&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=cd6faab4\" target=\"_blank\">https://play.google.com/store/apps/details?id=com.github.shadowsocks&amp;hl=zh_HK</a><br />\n<br />\nclient嘅設置同config.json相同就得，server就係DDNS嘅Domain<br />\n<br />\n呢個設置主要為個人使用，或2個人用，原因router硬件好雞吓，驚唔穩定，如果多人用嘅話最好用VPS搞，每人唔同密碼唔同port，或者用NAS搞較為好啲<br />\n<br />\n呢樣嘢主要係for有需要返贏國嘅人，或去外地旅行又要通過香港IP買波買馬，又或者不明WIFI之下安全起見用代理連接網絡<br />\n<br />\n由於小弟唔係IT狗，所有嘢都係自學，有bug／錯唔奇，巴打請指出<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" />"},{"pid":"6dcc4f7cb514d729eb13ee61c2ca23769e882b9d","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-05-05T07:16:39.000Z","msg":"會喺呢個post後面講埋點喺外地用手提電話check同控制ss server，由於設定ssh只可以由LAN login，我哋需要借助openvpn<br />\n<br />\n等我整理就post上嚟"},{"pid":"8bcc734112696836cd724addbb0e255dfa939d6e","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2018-05-05T23:54:04.000Z","msg":"唔記得咗𠻹，冇reboot過router，要喺命令行打一次呢2句 <br />\n<br />\niptables -I INPUT -p tcp --dport 9089 -j ACCEPT<br />\niptables -I INPUT -p udp --dport 9089 -j ACCEPT"},{"pid":"bcd767c7dc1219db07e7039e97e091ae4f49f061","tid":653915,"uid":61545,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2018-05-06T00:50:42.000Z","msg":"<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> 樓主好勁<br />\n我之前裝完哂堆嘢唔識點config結果放棄咗"},{"pid":"04eac93b091fad0a35b4807da8aa02d3b0c06bbf","tid":653915,"uid":38820,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-05-06T01:20:26.000Z","msg":"用緊 koolshare 唔駛咁煩"},{"pid":"11a4d9bd829af2247b09ae1077ac4cc4026cb155","tid":653915,"uid":10009,"like":0,"dislike":0,"score":0,"quote":{"pid":"6dcc4f7cb514d729eb13ee61c2ca23769e882b9d","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-05-05T07:16:39.000Z","msg":"會喺呢個post後面講埋點喺外地用手提電話check同控制ss server，由於設定ssh只可以由LAN login，我哋需要借助openvpn<br />\n<br />\n等我整理就post上嚟"},"citedBy":1,"replyTime":"2018-05-06T01:36:42.000Z","msg":"想知佢個openvpn 有無得site-to-site<br />\n買咗兩隻ac 5300發現只係得client-to-site <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"f59d8fb6144fc52388184f4580c97aad23c0a532","tid":653915,"uid":34010,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-05-06T04:35:11.000Z","msg":"巴打玩乜玩到要john Linux? <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"c6bc44b8f103bc651c7876598316f307486da60e","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"04eac93b091fad0a35b4807da8aa02d3b0c06bbf","tid":653915,"uid":38820,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-05-06T01:20:26.000Z","msg":"用緊 koolshare 唔駛咁煩"},"citedBy":1,"replyTime":"2018-05-06T06:06:21.000Z","msg":"嗰個傳聞mod咗部份冇opensource嘅，唔知係咪，其實唔難"},{"pid":"7126823039f9f190c8ca71ef056c0228b5e8f37c","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"11a4d9bd829af2247b09ae1077ac4cc4026cb155","tid":653915,"uid":10009,"like":0,"dislike":0,"score":0,"quote":{"pid":"6dcc4f7cb514d729eb13ee61c2ca23769e882b9d","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-05-05T07:16:39.000Z","msg":"會喺呢個post後面講埋點喺外地用手提電話check同控制ss server，由於設定ssh只可以由LAN login，我哋需要借助openvpn<br />\n<br />\n等我整理就post上嚟"},"citedBy":1,"replyTime":"2018-05-06T01:36:42.000Z","msg":"想知佢個openvpn 有無得site-to-site<br />\n買咗兩隻ac 5300發現只係得client-to-site <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2018-05-06T06:07:01.000Z","msg":"呢樣唔知 sor <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"707a9862d7874b42d932c0bb44da2811bb600ae9","tid":653915,"uid":38820,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2018-05-06T06:08:51.000Z","msg":"<img src=\"https://img.eservice-hk.net/upload/2018/05/06/140815_036cee4c108620f397cbc905a033d1c8.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fimg.eservice-hk.net%2Fupload%2F2018%2F05%2F06%2F140815_036cee4c108620f397cbc905a033d1c8.png&h=c1a9ab79&s={SIZE}\" />"},{"pid":"d9bfde2fcde52dc81a7f2740820832f86cda6fd2","tid":653915,"uid":17738,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2018-05-06T06:46:56.000Z","msg":"由於安全起見，Router最好唔好由WAN可以login,冇用嘅service全部關閉，需要在外地設置嘅話，用openvpn連接咗再由LAN login較安全<br />\n<br />\nMerlin firmware設置openvpn相當容易，手冊<br />\n<br />\n<a href=\"https://github.com/RMerl/asuswrt-merlin/wiki/Configuring-OpenVPN-on-Merlin's-fw\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2FRMerl%2Fasuswrt-merlin%2Fwiki%2FConfiguring-OpenVPN-on-Merlin%27s-fw&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=5372ae84\" target=\"_blank\">https://github.com/RMerl/asuswrt-merlin/wiki/Configuring-OpenVPN-on-Merlin's-fw</a><br />\n<br />\n喺贏國，openvpn只要檢測到流量稍大，就會block,所以唔好用佢長期當代理用，只適合用來設置吓Router,論速度亦贏唔到ss嘅<br />\n<br />\n喺贏國遙控router嘅ss server, iOS 可以下在SSH Remote呢個app, 另外下載openvpn connect<br />\n<br />\n<img src=\"https://img.eservice-hk.net/upload/2018/05/06/143458_04beca64b72948c0cffb76872d5fafdd.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fimg.eservice-hk.net%2Fupload%2F2018%2F05%2F06%2F143458_04beca64b72948c0cffb76872d5fafdd.png&h=64202d9f&s={SIZE}\" /><br />\nOpenvpn connect<br />\n<br />\n<img src=\"https://img.eservice-hk.net/upload/2018/05/06/143528_33e107035b9a7cd5521ca33f30e1781f.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fimg.eservice-hk.net%2Fupload%2F2018%2F05%2F06%2F143528_33e107035b9a7cd5521ca33f30e1781f.png&h=f57cca84&s={SIZE}\" /><br />\nShadowrocket<br />\n<br />\n<img src=\"https://img.eservice-hk.net/upload/2018/05/06/143607_b2d87ce2e715a2443298848e13b22f6a.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fimg.eservice-hk.net%2Fupload%2F2018%2F05%2F06%2F143607_b2d87ce2e715a2443298848e13b22f6a.png&h=95f1318f&s={SIZE}\" /><br />\nSSH Remote<br />\n<br />\n其實好簡單嘅設定，如是<br />\n<img src=\"https://img.eservice-hk.net/upload/2018/05/06/143718_f047076535e7dca6c8f46992c9f70e3b.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fimg.eservice-hk.net%2Fupload%2F2018%2F05%2F06%2F143718_f047076535e7dca6c8f46992c9f70e3b.png&h=1aaeba4a&s={SIZE}\" /><br />\n<br />\n最後個setting button可以睇到server返嚟嘅訊息<br />\n做個測試，閂咗連WiFi,用openvpn接router<br />\n<br />\n<img src=\"https://img.eservice-hk.net/upload/2018/05/06/144040_c5036969b24c2b97d95e9888dec0a958.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fimg.eservice-hk.net%2Fupload%2F2018%2F05%2F06%2F144040_c5036969b24c2b97d95e9888dec0a958.png&h=3a8234d3&s={SIZE}\" /><br />\n<br />\n停server<br />\n<br />\n<img src=\"https://img.eservice-hk.net/upload/2018/05/06/144143_bac88f1e5d9063c785c92ed94bce7e8e.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fimg.eservice-hk.net%2Fupload%2F2018%2F05%2F06%2F144143_bac88f1e5d9063c785c92ed94bce7e8e.png&h=15d68db3&s={SIZE}\" /><br />\n<br />\n<img src=\"https://img.eservice-hk.net/upload/2018/05/06/144122_74de58d5e3650a058f7d42685f483462.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fimg.eservice-hk.net%2Fupload%2F2018%2F05%2F06%2F144122_74de58d5e3650a058f7d42685f483462.png&h=4fdf74d7&s={SIZE}\" /><br />\n<br />\n<img src=\"https://img.eservice-hk.net/upload/2018/05/06/144336_278b080311b371ef793b8c2673364df3.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fimg.eservice-hk.net%2Fupload%2F2018%2F05%2F06%2F144336_278b080311b371ef793b8c2673364df3.png&h=b022d549&s={SIZE}\" /><br />\n<br />\n重新起動ss server<br />\n<br />\n<img src=\"https://img.eservice-hk.net/upload/2018/05/06/144507_65978f8645055cfa32d3c2aaa1e6d705.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fimg.eservice-hk.net%2Fupload%2F2018%2F05%2F06%2F144507_65978f8645055cfa32d3c2aaa1e6d705.png&h=5f52396b&s={SIZE}\" /><br />\n<br />\n<img src=\"https://img.eservice-hk.net/upload/2018/05/06/144520_8114d60499eaa6c3be593031e64577ef.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fimg.eservice-hk.net%2Fupload%2F2018%2F05%2F06%2F144520_8114d60499eaa6c3be593031e64577ef.png&h=c9ca219b&s={SIZE}\" /><br />\n<br />\n以上小弟喺贏國境內測試過<br />\n<br />\n多謝收睇，有bug告知 <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/biggrin.gif\" class=\"hkgmoji\" />"},{"pid":"a1d644c389d01598c2bf3f8cf2eecf05d627a823","tid":653915,"uid":38820,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-05-06T06:49:56.000Z","msg":"想用 Xchacha20-ietf-poly1305 加密, 但iphone 好似仲未有client support"},{"pid":"d9a5acc85abcd28e67480807c0449b683a5dbd2b","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2018-05-06T06:49:56.000Z","msg":"Android 都有SSH remote app,以前用過，play store搵搵，方式差唔多<br />\n<br />\n或者去 <a href=\"https://f-droid.org/zh_Hant/\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Ff-droid.org%2Fzh_Hant%2F&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=eb10a65c\" target=\"_blank\">https://f-droid.org/zh_Hant/</a> 搵搵"},{"pid":"8e334a0d01f3cf029c5f2954a799836a7f841917","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"a1d644c389d01598c2bf3f8cf2eecf05d627a823","tid":653915,"uid":38820,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-05-06T06:49:56.000Z","msg":"想用 Xchacha20-ietf-poly1305 加密, 但iphone 好似仲未有client support"},"citedBy":1,"replyTime":"2018-05-06T06:52:15.000Z","msg":"shadowrocket 咪有<br />\n<br />\n<img src=\"https://img.eservice-hk.net/upload/2018/05/06/145213_ae28377ae9f1095d6c1c67970be94c70.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fimg.eservice-hk.net%2Fupload%2F2018%2F05%2F06%2F145213_ae28377ae9f1095d6c1c67970be94c70.png&h=52e7f216&s={SIZE}\" />"},{"pid":"228c125f0f5272a5328b1f42b82a3efdff2bd7c2","tid":653915,"uid":38820,"like":0,"dislike":0,"score":0,"quote":{"pid":"8e334a0d01f3cf029c5f2954a799836a7f841917","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"a1d644c389d01598c2bf3f8cf2eecf05d627a823","tid":653915,"uid":38820,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-05-06T06:49:56.000Z","msg":"想用 Xchacha20-ietf-poly1305 加密, 但iphone 好似仲未有client support"},"citedBy":1,"replyTime":"2018-05-06T06:52:15.000Z","msg":"shadowrocket 咪有<br />\n<br />\n<img src=\"https://img.eservice-hk.net/upload/2018/05/06/145213_ae28377ae9f1095d6c1c67970be94c70.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fimg.eservice-hk.net%2Fupload%2F2018%2F05%2F06%2F145213_ae28377ae9f1095d6c1c67970be94c70.png&h=52e7f216&s={SIZE}\" />"},"citedBy":0,"replyTime":"2018-05-06T06:53:13.000Z","msg":"比錢不了, 等緊 Potatso Lite update"},{"pid":"7a82cf0b010ada66974984434f6d2ef72bf3f800","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"f59d8fb6144fc52388184f4580c97aad23c0a532","tid":653915,"uid":34010,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-05-06T04:35:11.000Z","msg":"巴打玩乜玩到要john Linux? <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2018-05-06T06:53:54.000Z","msg":"一向追隨Mra同沈大師嘅我 <img src=\"/assets/faces/normal/biggrin.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/biggrin.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/biggrin.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/biggrin.gif\" class=\"hkgmoji\" />"},{"pid":"694c41cbf2c5cd42320a8400a0e6f6c484762375","tid":653915,"uid":17738,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2018-05-06T07:00:16.000Z","msg":"如果遲啲有時間，或者寫個自動安裝shell script,咁可以方便啲嘅 <img src=\"/assets/faces/normal/biggrin.gif\" class=\"hkgmoji\" /> <br />\n<br />\n不過唔保證幾時同一定work <img src=\"/assets/faces/normal/biggrin.gif\" class=\"hkgmoji\" />"},{"pid":"7af1baf32eb9318a9b9c757578a0af667255f104","tid":653915,"uid":58839,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2018-05-06T16:26:46.000Z","msg":"支持Vic巴無私分享<img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/hoho.gif\" class=\"hkgmoji\" />"},{"pid":"923844ebe2f0216337e3cee76b991c9d3cd7b054","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2018-05-06T23:33:21.000Z","msg":"關於改版merlin - Koolshare firmware，佢的確提供咗方便，不過請自己衡量安唔安全<br />\n<br />\n殘體 -&gt; <a href=\"https://www.v2ex.com/t/369415\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.v2ex.com%2Ft%2F369415&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=2eed4fa7\" target=\"_blank\">https://www.v2ex.com/t/369415</a><br />\n<br />\n贏國嘅IT狗都好多唔信佢"},{"pid":"83527e7e3c93fcaaf9b6a0d8d7c6caad73b4c536","tid":653915,"uid":49215,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2018-05-10T06:57:07.000Z","msg":"有啲複雜<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"050a8fcbf28c0b14404aa0e231b32a61cf4528fa","tid":653915,"uid":48973,"like":0,"dislike":0,"score":0,"quote":{"pid":"c6bc44b8f103bc651c7876598316f307486da60e","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"04eac93b091fad0a35b4807da8aa02d3b0c06bbf","tid":653915,"uid":38820,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-05-06T01:20:26.000Z","msg":"用緊 koolshare 唔駛咁煩"},"citedBy":1,"replyTime":"2018-05-06T06:06:21.000Z","msg":"嗰個傳聞mod咗部份冇opensource嘅，唔知係咪，其實唔難"},"citedBy":0,"replyTime":"2018-08-25T06:08:44.000Z","msg":"<a href=\"https://www.v2ex.com/t/369415\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.v2ex.com%2Ft%2F369415&d=ZrrFDRUuioFNkS1lvnVcl7r9WXPazFMcT8p8rn878U0%3D&h=2eed4fa7\" target=\"_blank\">https://www.v2ex.com/t/369415</a><br />\nclone merline改完冇open source返，贏國產品，改過咩冇人知，連贏國人都冇信心"},{"pid":"f2e85083a26eae894e6b97efebe3b15d13d0756d","tid":653915,"uid":19463,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-12-18T12:54:01.000Z","msg":"-sh: /jffs/scripts/ss-init: not found<br />\n可以點做??"},{"pid":"1dbfa0ef8c68418295cd74d669e241075cbebdd6","tid":653915,"uid":19463,"like":0,"dislike":0,"score":0,"quote":{"pid":"f2e85083a26eae894e6b97efebe3b15d13d0756d","tid":653915,"uid":19463,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-12-18T12:54:01.000Z","msg":"-sh: /jffs/scripts/ss-init: not found<br />\n可以點做??"},"citedBy":1,"replyTime":"2018-12-18T12:54:13.000Z","msg":"但係我CD左係有個SCRIPT係到"},{"pid":"6ba3d60ca06899056e30602b02988af7ba35ed9d","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"1dbfa0ef8c68418295cd74d669e241075cbebdd6","tid":653915,"uid":19463,"like":0,"dislike":0,"score":0,"quote":{"pid":"f2e85083a26eae894e6b97efebe3b15d13d0756d","tid":653915,"uid":19463,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-12-18T12:54:01.000Z","msg":"-sh: /jffs/scripts/ss-init: not found<br />\n可以點做??"},"citedBy":1,"replyTime":"2018-12-18T12:54:13.000Z","msg":"但係我CD左係有個SCRIPT係到"},"citedBy":2,"replyTime":"2018-12-18T13:26:47.000Z","msg":"有冇chmod +x ss-init?"},{"pid":"a1c7be7215f39b4b301d2ae933ef4e69ac4ae26d","tid":653915,"uid":104299,"like":0,"dislike":0,"score":0,"quote":{"pid":"6ba3d60ca06899056e30602b02988af7ba35ed9d","tid":653915,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"1dbfa0ef8c68418295cd74d669e241075cbebdd6","tid":653915,"uid":19463,"like":0,"dislike":0,"score":0,"quote":{"pid":"f2e85083a26eae894e6b97efebe3b15d13d0756d","tid":653915,"uid":19463,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2018-12-18T12:54:01.000Z","msg":"-sh: /jffs/scripts/ss-init: not found<br />\n可以點做??"},"citedBy":1,"replyTime":"2018-12-18T12:54:13.000Z","msg":"但係我CD左係有個SCRIPT係到"},"citedBy":2,"replyTime":"2018-12-18T13:26:47.000Z","msg":"有冇chmod +x ss-init?"},"citedBy":0,"replyTime":"2018-12-25T17:52:43.000Z","msg":"同樣情況求教~<img src=\"/assets/faces/normal/hoho.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/hoho.gif\" class=\"hkgmoji\" /> <br />\n<br />\ndrwxr-xr-x    2     root             0 Dec 26 01:39 .<br />\ndrwxr-xr-x   10    root             0 Dec 26 01:30 ..<br />\n-rwxrwxrwx    1    root            95 Dec 26 01:39 admin<br />\n-rwxrwxrwx    1    root            97 Dec 26 01:36 firewall-start<br />\n-rwxrwxrwx    1    root           131 Dec 26 01:39 isup.sh<br />\n-rwxrwxrwx    1    root            74 Dec 26 01:01 post-mount<br />\n-rwxrwxrwx    1    root           312 Dec 26 01:37 services-start<br />\n-rwxrwxrwx    1    root            71 Dec 26 01:38 services-stop<br />\n-rwxrwxrwx    1    root          1048 Dec 26 01:46 ss-init<br />\n<br />\n@RT-AC86U-E490:/jffs/scripts# cat ss-init<br />\n#! /bin/sh<br />\n# Control shadowsocks-libev [start|stop|status] on Asus Router powered by asuswrt-merlin<br />\n# put it at /jffs/scripts/ is must.<br />\n<br />\nss_id=$(ps w | awk '$5 ~ /ss-server/{print $1}')<br />\nARG=$1<br />\n<br />\ndo_start(){<br />\n<br />\n        SS=&quot;/usr/bin/nohup $(which ss-server)&quot;<br />\n        LOG=&quot;/mnt/usb1/entware/etc/shadowsocks/ss.log&quot;<br />\n        CONFIG=&quot;/mnt/usb1/entware/etc/shadowsocks/config.json&quot;<br />\n<br />\n        if [ -z &quot;$ss_id&quot; ]<br />\n                then<br />\n                        eval $SS -u -v -d 1.1.1.1 -d 1.0.0.1 -c &quot;$CONFIG&quot; &gt; &quot;$LOG&quot; 2&gt;&amp;1 &amp;<br />\n                        [ $? -eq 0 ] &amp;&amp; echo &quot;Now shadowsocks-libev service is up.&quot;<br />\n        fi<br />\n}<br />\n<br />\ndo_stop(){<br />\n<br />\n        if [ -n &quot;$ss_id&quot; ]<br />\n                then<br />\n                        printf &quot;Stopping Shadowsocks-libev service...&quot;<br />\n                        kill &quot;$ss_id&quot; &amp;&amp; sleep 2 &amp;&amp; printf &quot; Done.\\n&quot;<br />\n        fi<br />\n}<br />\n<br />\ndo_status(){<br />\n<br />\n        if [ -n &quot;$ss_id&quot; ]<br />\n                then<br />\n                        echo &quot;Shadowsocks-libev is running.&quot;<br />\n                        RET=0<br />\n                else<br />\n                        echo &quot;Shadowsocks-libev is not running.&quot;<br />\n                        RET=5<br />\n        fi<br />\n}<br />\n<br />\ncase &quot;$ARG&quot; in<br />\n        start)   do_start ;;<br />\n        stop)    do_stop ;;<br />\n        status)  do_status ;;<br />\n        *)       echo &quot;$(basename $0) [start|stop|status]&quot; &gt;&amp;2<br />\n                 exit 1<br />\n                 ;;<br />\nesac<br />\n<br />\nexit $RET"}]}