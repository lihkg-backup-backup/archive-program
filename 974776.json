{"tid":974776,"cid":26,"subCid":0,"title":"【Router筆記】安裝Brook及自動安裝shell script","createTime":"2019-01-09T06:48:02.000Z","updateTime":"2019-01-18T15:59:01.000Z","uid":17738,"like":10,"dislike":4,"uniUserReply":5,"replies":[{"pid":"b070d34ca023e0bba6c4c29dd541ff0c7d9ef77e","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2019-01-09T06:48:02.000Z","msg":"話說之前喺Synology DS218J NAS安裝咗brook <a href=\"https://github.com/txthinking/brook\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Ftxthinking%2Fbrook&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=8dce4f6c\" target=\"_blank\">https://github.com/txthinking/brook</a><br />\n不過喺Asus RT-AC68U router 運行就出現&quot;illegal instruction&quot; ; 安裝失敗，終於搵到原因，原来華碩router雖然係ARMv7 CPU，不過用唔到brook_linux_arm7, 要用brook_linux_arm5先掂，之前post<br />\n<br />\n<a href=\"https://lihkg.com/thread/942658/page/1\" target=\"_blank\">https://lihkg.com/thread/942658/page/1</a><br />\n<br />\n今日再試成功喺router作為service運行，可以使用，手動安裝過程如下<br />\n<br />\n1. 編輯 /jffs/scripts/firewall-start  ,行尾加入,<br />\n<pre><code data-type=\"\">iptables -I INPUT -p tcp --dport 改成選擇嘅port -j ACCEPT\niptables -I INPUT -p udp --dport 改成選擇嘅port -j ACCEPT\nip6tables -I INPUT -p tcp --dport 改成選擇嘅port -j ACCEPT\nip6tables -I INPUT -p udp --dport 改成選擇嘅port -j ACCEPT</code></pre><br />\n改成選擇嘅port要相同<br />\n<br />\n如果冇firewall-start呢個file，就 nano /jffs/scripts/firewall-start ,內容如是<br />\n<pre><code data-type=\"\">#! /bin/sh\niptables -I INPUT -p tcp --dport 改成選擇嘅port -j ACCEPT\niptables -I INPUT -p udp --dport 改成選擇嘅port -j ACCEPT\nip6tables -I INPUT -p tcp --dport 改成選擇嘅port -j ACCEPT\nip6tables -I INPUT -p udp --dport 改成選擇嘅port -j ACCEPT</code></pre><br />\n並改為可執行<br />\n<pre><code data-type=\"\">chmod 755 /jffs/scripts/firewall-start</code></pre><br />\n<br />\n2. 喺/jffs/scripts/ 目錄下，增加一個名為brook-init嘅file，內容如是<br />\n<br />\n<pre><code data-type=\"\">#! /bin/sh\n\nARG=$1\nRET=0\nport=&quot;24508&quot;  #改成選擇嘅port, 同firewall-start嘅相同\npassword=&quot;YourPasswordHere&quot;  #change to yours\n\n\ndo_start(){\n        /usr/bin/nohup /opt/bin/brook server -l &quot;:${port}&quot; -p &quot;$password&quot; 2&gt;&gt; /dev/null &gt;&gt; /dev/null &amp;\n        if [ $? -eq 0 ] ; then\n                echo &quot;Brook server is up.&quot;\n        else\n                echo &quot;Fail to starting brook server.&quot; &gt;&amp;2\n        fi\n}\n\ndo_stop(){\n        kill $(ps w | awk '$5 ~ /brook/{print $1}') 2&gt; /dev/null\n}\n\n\ncase &quot;$ARG&quot; in\n        start)  do_start ;;\n        stop)   do_stop ;;\n        *)      echo &quot;Usage: $(basename $0) [start|stop]&quot; &gt;&amp;2\n                exit 1 ;;\nesac\n\nexit $RET\n</code></pre><br />\n3. 編輯/jffs/scripts/services-start ，行尾加入<br />\n<br />\n<pre><code data-type=\"\">/jffs/scripts/brook-init start</code></pre><br />\n4. 編輯/jffs/scripts/services-stop ，行尾加入<br />\n<br />\n<pre><code data-type=\"\">/jffs/scripts/brook-init stop</code></pre><br />\n5. 轉去 /opt/bin 呢個目錄, 下載brook_linux_arm5，並改為可執行<br />\n<pre><code data-type=\"\">cd /opt/bin\nwget --no-check-certificate -qO brook https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_arm5\n\nchmod 755 brook</code></pre><br />\n<br />\n6. 將brook-init改為可執行<br />\n<br />\n<pre><code data-type=\"\">chmod 755 /jffs/scripts/brook-init</code></pre><br />\n<br />\n7. 運行brook <br />\n<pre><code data-type=\"\">/jffs/scripts/firewall-start &amp;&amp; sleep 1 &amp;&amp; /jffs/scripts/brook-init start</code></pre><br />\n見到Brook server is up ，就成功運行brook server, 以後會隨router開機啟動<br />\n<br />\n8. 要停止brook server ,執行<br />\n<br />\n<pre><code data-type=\"\">/jffs/scripts/brook-init stop</code></pre><br />\niOS客戶端喺hk app store search &quot;brook vpn&quot;<br />\n<a href=\"https://itunes.apple.com/hk/app/brook-a-cross-platform-proxy/id1216002642?mt=8\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fitunes.apple.com%2Fhk%2Fapp%2Fbrook-a-cross-platform-proxy%2Fid1216002642%3Fmt%3D8&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=2da6a5b8\" target=\"_blank\">https://itunes.apple.com/hk/app/brook-a-cross-platform-proxy/id1216002642?mt=8</a><br />\n<br />\nAndroid客戶端直接官網下載安裝<br />\n<br />\n<a href=\"https://github.com/txthinking/brook/releases/download/v20181212/Brook.apk\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Ftxthinking%2Fbrook%2Freleases%2Fdownload%2Fv20181212%2FBrook.apk&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=596b3593\" target=\"_blank\">https://github.com/txthinking/brook/releases/download/v20181212/Brook.apk</a><br />\n其他OS自行去官網睇<br />\n<br />\n填入 IP/Domain:Server_port 同 密碼就得<br />\n<br />\npost未完, 手動安裝係咁多"},{"pid":"b935af85b779f36f946768ca8e6e7511b2c1db59","tid":974776,"uid":17738,"like":2,"dislike":0,"score":2,"citedBy":0,"replyTime":"2019-01-09T07:01:58.000Z","msg":"由於lihkg有字數限制，咁要多個post<br />\n<br />\n手動覺得麻煩，我寫咗個自動安裝script, 內容如是<br />\n<pre><code data-type=\"\">#! /bin/sh\n# $PROG: shell script for installing brook server on asus router.\n# $REQUIRE: Asuswrt-merlin installed and entware-ng is installed on /mnt/sda1\n# assume router's DDNS service is active\n# Tested on asus RT-AC68U powered by asuswrt-merlin version 384.8_2\n# No guarantee &amp; responsibility to the author. Use at your own risk.\n\nmyip=$(wget -qO- ifconfig.co)\np=&quot;24$(head -n 30 /dev/urandom | tr -dc &quot;0123456789&quot; | head -c3)&quot;\npw=&quot;$(openssl rand -base64 32 | tr -d '+/0oO' | cut -c3-12)&quot;\n\n\nurl=&quot;https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_arm5&quot;\n\nif cd /opt/bin/ ; then\n        wget --no-check-certificate -qO brook &quot;$url&quot;\n        chmod 755 brook\nelse\n        echo &quot;Cannot change path to /opt/bin/.&quot; &gt;&amp;2\n        echo &quot;Exit install progress...&quot; &gt;&amp;2\n        exit 1\nfi\n\ncd /jffs/scripts/ || {\n        echo &quot;Cannot change path to /jffs/scripts/.&quot; &gt;&amp;2 ;\n        echo &quot;Exit install progress...&quot; &gt;&amp;2 ;\n        exit 1\n}\n\n\ncat &gt;brook-init&lt;&lt;EOF\n#! /bin/sh\n\nARG=\\$1\nRET=0\nport=&quot;$(echo $p)&quot;\npassword=&quot;$(echo $pw)&quot;\n\n\ndo_start(){\n        /usr/bin/nohup /opt/bin/brook server -l &quot;:\\${port}&quot; -p &quot;\\$password&quot; 2&gt;&gt; /dev/null &gt;&gt; /dev/null &amp;\n        if [ \\$? -eq 0 ] ; then\n                echo &quot;Brook server is up.&quot;\n        else\n                echo &quot;Fail to starting brook server.&quot; &gt;&amp;2\n        fi\n}\n\ndo_stop(){\n        kill \\$(ps w | awk '\\$5 ~ /brook/{print \\$1}') 2&gt; /dev/null\n}\n\n\ncase &quot;\\$ARG&quot; in\n        start)  do_start ;;\n        stop)   do_stop ;;\n        *)      echo &quot;Usage: \\$(basename \\$0) [start|stop]&quot; &gt;&amp;2\n                exit 1 ;;\nesac\n\nexit \\$RET\n\nEOF\n\nif [ -f &quot;firewall-start&quot; ] ; then\n        echo &quot;iptables -I INPUT -p tcp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\n        echo &quot;iptables -I INPUT -p udp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\n        echo &quot;ip6tables -I INPUT -p tcp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\n        echo &quot;ip6tables -I INPUT -p udp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\nelse\n        echo &quot;#! /bin/sh&quot; &gt; firewall-start\n        echo &quot;iptables -I INPUT -p tcp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\n        echo &quot;iptables -I INPUT -p udp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\n        echo &quot;ip6tables -I INPUT -p tcp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\n        echo &quot;ip6tables -I INPUT -p udp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\nfi\n\n\nif [ -e brook-init ] ; then\n        chmod 755 brook-init\n        echo &quot;/jffs/scripts/brook-init start&quot; &gt;&gt; services-start\n        echo &quot;/jffs/scripts/brook-init stop&quot; &gt;&gt; services-stop\nelse\n        echo &quot;Cannot create brook-init system start/stop script.&quot; &gt;&amp;2\n        echo &quot;Exit install progress...&quot; &gt;&amp;2\n        exit 1\nfi\n\n./firewall-start ; sleep 1\n\n./brook-init start ; RET=$? ; sleep 1\n\nif [ $RET -eq 0 ] ; then\n        echo &quot;Setup is completed.&quot;\n        echo &quot;Your IP:  $myip&quot;\n        echo &quot;Server port:      $p&quot;\n        echo &quot;Password: $pw&quot;\nelse\n        echo &quot;Install brook server failed.&quot; &gt;&amp;2\n        exit 1\nfi\n\nexit 0\n</code></pre><br />\n<br />\nssh login 去router, 將上面嘅code copy&amp;paste， save之後改為可執行,當叫做 install-brook<br />\n<br />\n<pre><code data-type=\"\">chmod +x install-brook</code></pre><br />\n然後執行<br />\n<pre><code data-type=\"\">./install-brook</code></pre><br />\n失敗或成功都有訊息提示<br />\n<br />\n如果copy&amp;paste都覺得煩，copy下列命令執行<br />\n<pre><code data-type=\"\">wget --no-check-certificate -qO install-brook 'https://pastebin.com/raw/jvT0jFeK' &amp;&amp; dos2unix install-brook &amp;&amp; chmod +x install-brook &amp;&amp; ./install-brook</code></pre><br />\n以上手動或用shell script安裝都需要用ssh login router, 命令行執行，噚日上咗深圳試咗brook，冇問題嘅，相當穩定，差唔多冇點用shadowsocks<br />\n<br />\n同安裝shadowsocks-libev一樣,假設你已經用asuswrt-merlin同安裝咗entware-ng喺sda1"},{"pid":"e1650def7acf658c8a8415fa8017c4c2e691838f","tid":974776,"uid":17738,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2019-01-09T07:10:23.000Z","msg":"呢個設置係預個人到2－3人使用，如果係多用戶，最好開多幾個唔同password<br />\n<br />\n參考官網有教"},{"pid":"49e4f3d3a4efecafaba1927a1bc9ec5dd9ece73f","tid":974776,"uid":17738,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2019-01-09T07:21:39.000Z","msg":"因為懶關係，個brook-init 冇寫 status選項，要想知brook係咪run緊，命令列輸入<br />\n<br />\n<pre><code data-type=\"\">ps w | grep brook | grep -v grep</code></pre><br />\n就得 <img src=\"/assets/faces/normal/hoho.gif\" class=\"hkgmoji\" />"},{"pid":"c73abdfe4e32dcb797e81080ec5ad3090f573795","tid":974776,"uid":53194,"like":1,"dislike":4,"score":-3,"citedBy":1,"replyTime":"2019-01-09T09:31:31.000Z","msg":"jot note 咪係連登jot 啦<img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <br />\n<br />\n教學文就寫好D先POST"},{"pid":"cd0c16a2e4067bfb747338ee7253874ded15520b","tid":974776,"uid":17738,"like":5,"dislike":1,"score":4,"quote":{"pid":"c73abdfe4e32dcb797e81080ec5ad3090f573795","tid":974776,"uid":53194,"like":1,"dislike":4,"score":-3,"citedBy":1,"replyTime":"2019-01-09T09:31:31.000Z","msg":"jot note 咪係連登jot 啦<img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <br />\n<br />\n教學文就寫好D先POST"},"citedBy":1,"replyTime":"2019-01-09T11:00:11.000Z","msg":"軟件台出咩嘢post關你柒事?"},{"pid":"80932074e35de0ec0e2bee511afe71a943df55c9","tid":974776,"uid":53194,"like":3,"dislike":2,"score":1,"quote":{"pid":"cd0c16a2e4067bfb747338ee7253874ded15520b","tid":974776,"uid":17738,"like":5,"dislike":1,"score":4,"quote":{"pid":"c73abdfe4e32dcb797e81080ec5ad3090f573795","tid":974776,"uid":53194,"like":1,"dislike":4,"score":-3,"citedBy":1,"replyTime":"2019-01-09T09:31:31.000Z","msg":"jot note 咪係連登jot 啦<img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <br />\n<br />\n教學文就寫好D先POST"},"citedBy":1,"replyTime":"2019-01-09T11:00:11.000Z","msg":"軟件台出咩嘢post關你柒事?"},"citedBy":1,"replyTime":"2019-01-09T11:22:48.000Z","msg":"屌post 出黎唔comment 得你返屋企寫落記事簿啦<br />\n<br />\n又無條理又無結構，仲叫人去官網睇，你不如直接貼條官網link 出黎啦<br />\n<br />\n我comment 又關你柒事"},{"pid":"0afbceac720a0c9de1cf473368f156173004d3fb","tid":974776,"uid":17738,"like":3,"dislike":2,"score":1,"quote":{"pid":"80932074e35de0ec0e2bee511afe71a943df55c9","tid":974776,"uid":53194,"like":3,"dislike":2,"score":1,"quote":{"pid":"cd0c16a2e4067bfb747338ee7253874ded15520b","tid":974776,"uid":17738,"like":5,"dislike":1,"score":4,"quote":{"pid":"c73abdfe4e32dcb797e81080ec5ad3090f573795","tid":974776,"uid":53194,"like":1,"dislike":4,"score":-3,"citedBy":1,"replyTime":"2019-01-09T09:31:31.000Z","msg":"jot note 咪係連登jot 啦<img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" /> <br />\n<br />\n教學文就寫好D先POST"},"citedBy":1,"replyTime":"2019-01-09T11:00:11.000Z","msg":"軟件台出咩嘢post關你柒事?"},"citedBy":1,"replyTime":"2019-01-09T11:22:48.000Z","msg":"屌post 出黎唔comment 得你返屋企寫落記事簿啦<br />\n<br />\n又無條理又無結構，仲叫人去官網睇，你不如直接貼條官網link 出黎啦<br />\n<br />\n我comment 又關你柒事"},"citedBy":0,"replyTime":"2019-01-09T11:29:51.000Z","msg":"咁負皮上一頁啦，你有啲乜柒寫出嚟呀? <br />\n<br />\n兒登低汁咪有你呢類垃圾用戶，code又冇，淨鳩噏討論文學結構，呢版講文學?"},{"pid":"5255f874ab20c2446a307181fe5a36e8c3a00240","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T14:49:45.000Z","msg":"今次唔WORK"},{"pid":"cacfbbba6830ff9fee551e697f94cda37654d862","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"5255f874ab20c2446a307181fe5a36e8c3a00240","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T14:49:45.000Z","msg":"今次唔WORK"},"citedBy":1,"replyTime":"2019-01-10T14:54:02.000Z","msg":"有乜嘢錯誤訊息? 我自己都係用佢裝，如果copy &amp; patse嘅話 <br />\n<br />\n睇吓 其中 2&gt;&gt; /dev/null &gt;&gt; /dev/null &amp; 係咪分咗2行? 係就整返做一行，連登自動會斷行嘅"},{"pid":"00cb039fe1eb98d0ad7cb50472232f3fd1cb6bf1","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T14:55:32.000Z","msg":"<blockquote>如果copy&amp;paste都覺得煩，copy下列命令執行<br />\n<pre><code data-type=\"\">wget --no-check-certificate -qO install-brook 'https://pastebin.com/raw/jvT0jFeK' &amp;&amp; dos2unix install-brook &amp;&amp; chmod +x install-brook &amp;&amp; ./install-brook</code></pre></blockquote><br />\n我係用呢個方法"},{"pid":"0c306f9ef73d5a240c27e4c8e67ea867d782db9a","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"00cb039fe1eb98d0ad7cb50472232f3fd1cb6bf1","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T14:55:32.000Z","msg":"<blockquote>如果copy&amp;paste都覺得煩，copy下列命令執行<br />\n<pre><code data-type=\"\">wget --no-check-certificate -qO install-brook 'https://pastebin.com/raw/jvT0jFeK' &amp;&amp; dos2unix install-brook &amp;&amp; chmod +x install-brook &amp;&amp; ./install-brook</code></pre></blockquote><br />\n我係用呢個方法"},"citedBy":1,"replyTime":"2019-01-10T14:57:16.000Z","msg":"咁有乜嘢錯誤訊息? 佢會講第幾行唔work嘅"},{"pid":"45fc24c7b215d2450a04791c21fc13cd8ae04f42","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"cacfbbba6830ff9fee551e697f94cda37654d862","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"5255f874ab20c2446a307181fe5a36e8c3a00240","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T14:49:45.000Z","msg":"今次唔WORK"},"citedBy":1,"replyTime":"2019-01-10T14:54:02.000Z","msg":"有乜嘢錯誤訊息? 我自己都係用佢裝，如果copy &amp; patse嘅話 <br />\n<br />\n睇吓 其中 2&gt;&gt; /dev/null &gt;&gt; /dev/null &amp; 係咪分咗2行? 係就整返做一行，連登自動會斷行嘅"},"citedBy":0,"replyTime":"2019-01-10T14:57:25.000Z","msg":"VicF巴可唔可以加句野係script黎check status<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" />"},{"pid":"5a1c523e408e3cd57bb5c629e93bceb82cfa4170","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"0c306f9ef73d5a240c27e4c8e67ea867d782db9a","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"00cb039fe1eb98d0ad7cb50472232f3fd1cb6bf1","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T14:55:32.000Z","msg":"<blockquote>如果copy&amp;paste都覺得煩，copy下列命令執行<br />\n<pre><code data-type=\"\">wget --no-check-certificate -qO install-brook 'https://pastebin.com/raw/jvT0jFeK' &amp;&amp; dos2unix install-brook &amp;&amp; chmod +x install-brook &amp;&amp; ./install-brook</code></pre></blockquote><br />\n我係用呢個方法"},"citedBy":1,"replyTime":"2019-01-10T14:57:16.000Z","msg":"咁有乜嘢錯誤訊息? 佢會講第幾行唔work嘅"},"citedBy":1,"replyTime":"2019-01-10T14:58:15.000Z","msg":"SCRIPT RUN到<br />\n用APP連完會上唔到網"},{"pid":"d6387197d3f38723eacf0553120694ef692eaaa8","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"5a1c523e408e3cd57bb5c629e93bceb82cfa4170","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"0c306f9ef73d5a240c27e4c8e67ea867d782db9a","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"00cb039fe1eb98d0ad7cb50472232f3fd1cb6bf1","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T14:55:32.000Z","msg":"<blockquote>如果copy&amp;paste都覺得煩，copy下列命令執行<br />\n<pre><code data-type=\"\">wget --no-check-certificate -qO install-brook 'https://pastebin.com/raw/jvT0jFeK' &amp;&amp; dos2unix install-brook &amp;&amp; chmod +x install-brook &amp;&amp; ./install-brook</code></pre></blockquote><br />\n我係用呢個方法"},"citedBy":1,"replyTime":"2019-01-10T14:57:16.000Z","msg":"咁有乜嘢錯誤訊息? 佢會講第幾行唔work嘅"},"citedBy":1,"replyTime":"2019-01-10T14:58:15.000Z","msg":"SCRIPT RUN到<br />\n用APP連完會上唔到網"},"citedBy":0,"replyTime":"2019-01-10T15:01:29.000Z","msg":"你遮咗個IP/域名，cap個圖睇睇<br />\n<br />\nStatus 唔使啦，喺命令行執行<br />\n<br />\n<pre><code data-type=\"\">ps w | grep brook | grep -v grep </code></pre><br />\n<br />\n有嘢出就係運行緊"},{"pid":"6008a0f30d2681b572584105b709e4ed01c6bb8b","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2019-01-10T15:03:56.000Z","msg":"輸入文字去client apps，要用英文鍵盤，唔好中文鍵盤打英文，os睇嘅唔係相同文字"},{"pid":"67418374d88e5695474a25ae4bc5808eea854f2b","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T15:07:00.000Z","msg":"由於gen個server port係隨機嘅，24000-24999之間，我自己估呢啲port應該冇乜其他program用啩? 如果咁都撞port，自己改個port，同要諗諗買6合彩 <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"a5a5b7d809839c88f6fd101eb2bf64e4a1cb35af","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"67418374d88e5695474a25ae4bc5808eea854f2b","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T15:07:00.000Z","msg":"由於gen個server port係隨機嘅，24000-24999之間，我自己估呢啲port應該冇乜其他program用啩? 如果咁都撞port，自己改個port，同要諗諗買6合彩 <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T15:08:06.000Z","msg":"唔會撞<br />\nREINSTALL左好多次"},{"pid":"8676c0c6f35b95b7e36526c7d8449cbbc664e696","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"a5a5b7d809839c88f6fd101eb2bf64e4a1cb35af","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"67418374d88e5695474a25ae4bc5808eea854f2b","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T15:07:00.000Z","msg":"由於gen個server port係隨機嘅，24000-24999之間，我自己估呢啲port應該冇乜其他program用啩? 如果咁都撞port，自己改個port，同要諗諗買6合彩 <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T15:08:06.000Z","msg":"唔會撞<br />\nREINSTALL左好多次"},"citedBy":1,"replyTime":"2019-01-10T15:09:32.000Z","msg":"打 ps w | grep brook |grep -v grep 有冇嘢出?"},{"pid":"ec0e7cae23d4a49aba03bbe2dd4043cf1e1fc2ee","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"8676c0c6f35b95b7e36526c7d8449cbbc664e696","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"a5a5b7d809839c88f6fd101eb2bf64e4a1cb35af","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"67418374d88e5695474a25ae4bc5808eea854f2b","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T15:07:00.000Z","msg":"由於gen個server port係隨機嘅，24000-24999之間，我自己估呢啲port應該冇乜其他program用啩? 如果咁都撞port，自己改個port，同要諗諗買6合彩 <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T15:08:06.000Z","msg":"唔會撞<br />\nREINSTALL左好多次"},"citedBy":1,"replyTime":"2019-01-10T15:09:32.000Z","msg":"打 ps w | grep brook |grep -v grep 有冇嘢出?"},"citedBy":2,"replyTime":"2019-01-10T15:12:05.000Z","msg":"<img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" />"},{"pid":"fbb62dc620d435db1e47047560da0bbf1a839927","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"ec0e7cae23d4a49aba03bbe2dd4043cf1e1fc2ee","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"8676c0c6f35b95b7e36526c7d8449cbbc664e696","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"a5a5b7d809839c88f6fd101eb2bf64e4a1cb35af","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T15:08:06.000Z","msg":"唔會撞<br />\nREINSTALL左好多次"},"citedBy":1,"replyTime":"2019-01-10T15:09:32.000Z","msg":"打 ps w | grep brook |grep -v grep 有冇嘢出?"},"citedBy":2,"replyTime":"2019-01-10T15:12:05.000Z","msg":"<img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T15:15:54.000Z","msg":"<img src=\"/assets/faces/normal/wink.gif\" class=\"hkgmoji\" />"},{"pid":"5c5258795363eea93c4e5c2b3f439ad7debe886b","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"ec0e7cae23d4a49aba03bbe2dd4043cf1e1fc2ee","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"8676c0c6f35b95b7e36526c7d8449cbbc664e696","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"a5a5b7d809839c88f6fd101eb2bf64e4a1cb35af","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T15:08:06.000Z","msg":"唔會撞<br />\nREINSTALL左好多次"},"citedBy":1,"replyTime":"2019-01-10T15:09:32.000Z","msg":"打 ps w | grep brook |grep -v grep 有冇嘢出?"},"citedBy":2,"replyTime":"2019-01-10T15:12:05.000Z","msg":"<img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T15:21:14.000Z","msg":"正常應該係運行緊，你個router係乜嘢型號? CPU 係邊款? <br />\n<br />\n<img src=\"/assets/faces/normal/angry.gif\" class=\"hkgmoji\" /><br />\n<br />\n先輸入 /jffs/scripts/brook-init stop 先，然後就咁命令行執行 brook server -l :12345 -p 12345678 <br />\n<br />\n睇吓出乜嘢訊息? 之後㩒Ctrl 同 c stop咗個命令"},{"pid":"a8c02c0d3de5bce3c247fbb6233b14db3a8ed720","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"fbb62dc620d435db1e47047560da0bbf1a839927","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"ec0e7cae23d4a49aba03bbe2dd4043cf1e1fc2ee","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"8676c0c6f35b95b7e36526c7d8449cbbc664e696","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T15:09:32.000Z","msg":"打 ps w | grep brook |grep -v grep 有冇嘢出?"},"citedBy":2,"replyTime":"2019-01-10T15:12:05.000Z","msg":"<img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T15:15:54.000Z","msg":"<img src=\"/assets/faces/normal/wink.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2019-01-10T15:21:42.000Z","msg":"先試咗我嗰啲先"},{"pid":"141f7b92236252e49e1a4fea340e6e22663dec7d","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"5c5258795363eea93c4e5c2b3f439ad7debe886b","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"ec0e7cae23d4a49aba03bbe2dd4043cf1e1fc2ee","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"8676c0c6f35b95b7e36526c7d8449cbbc664e696","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T15:09:32.000Z","msg":"打 ps w | grep brook |grep -v grep 有冇嘢出?"},"citedBy":2,"replyTime":"2019-01-10T15:12:05.000Z","msg":"<img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T15:21:14.000Z","msg":"正常應該係運行緊，你個router係乜嘢型號? CPU 係邊款? <br />\n<br />\n<img src=\"/assets/faces/normal/angry.gif\" class=\"hkgmoji\" /><br />\n<br />\n先輸入 /jffs/scripts/brook-init stop 先，然後就咁命令行執行 brook server -l :12345 -p 12345678 <br />\n<br />\n睇吓出乜嘢訊息? 之後㩒Ctrl 同 c stop咗個命令"},"citedBy":1,"replyTime":"2019-01-10T15:23:16.000Z","msg":"<pre><code data-type=\"\">/opt/bin/brook: line 1: syntax error: unexpected word (expecting &quot;)&quot;)\n</code></pre>"},{"pid":"56bfecb7a5cc365984a5452ecf5c0b2cf75825b2","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T15:24:38.000Z","msg":"有可能部份華碩router要用 brook_arm_7，我個NAS就係用arm 7, 但router要用Arm 5"},{"pid":"ff102a188760e35ded9ecc09cc0efbb65a0d9b0a","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"56bfecb7a5cc365984a5452ecf5c0b2cf75825b2","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T15:24:38.000Z","msg":"有可能部份華碩router要用 brook_arm_7，我個NAS就係用arm 7, 但router要用Arm 5"},"citedBy":1,"replyTime":"2019-01-10T15:26:49.000Z","msg":"<img src=\"/assets/faces/normal/dislike.gif\" class=\"hkgmoji\" />"},{"pid":"c402cc469ec5a14ec44560e1ff4f3e9e810888c0","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"141f7b92236252e49e1a4fea340e6e22663dec7d","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"5c5258795363eea93c4e5c2b3f439ad7debe886b","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"ec0e7cae23d4a49aba03bbe2dd4043cf1e1fc2ee","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2019-01-10T15:12:05.000Z","msg":"<img src=\"/assets/faces/normal/kill2.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T15:21:14.000Z","msg":"正常應該係運行緊，你個router係乜嘢型號? CPU 係邊款? <br />\n<br />\n<img src=\"/assets/faces/normal/angry.gif\" class=\"hkgmoji\" /><br />\n<br />\n先輸入 /jffs/scripts/brook-init stop 先，然後就咁命令行執行 brook server -l :12345 -p 12345678 <br />\n<br />\n睇吓出乜嘢訊息? 之後㩒Ctrl 同 c stop咗個命令"},"citedBy":1,"replyTime":"2019-01-10T15:23:16.000Z","msg":"<pre><code data-type=\"\">/opt/bin/brook: line 1: syntax error: unexpected word (expecting &quot;)&quot;)\n</code></pre>"},"citedBy":1,"replyTime":"2019-01-10T15:33:04.000Z","msg":"冇 ) 喎<br />\n<br />\n<pre><code data-type=\"\">brook server -l :12345 -p 12345678</code></pre><br />\n<br />\n再試吓自己輸入，唔好copy&amp;paste，正常係咁<br />\n<br />\n<img src=\"/assets/faces/normal/wonder.gif\" class=\"hkgmoji\" />"},{"pid":"6269dcff57576ea7594f13984e0cc79918c8e2ce","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"c402cc469ec5a14ec44560e1ff4f3e9e810888c0","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"141f7b92236252e49e1a4fea340e6e22663dec7d","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"5c5258795363eea93c4e5c2b3f439ad7debe886b","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T15:21:14.000Z","msg":"正常應該係運行緊，你個router係乜嘢型號? CPU 係邊款? <br />\n<br />\n<img src=\"/assets/faces/normal/angry.gif\" class=\"hkgmoji\" /><br />\n<br />\n先輸入 /jffs/scripts/brook-init stop 先，然後就咁命令行執行 brook server -l :12345 -p 12345678 <br />\n<br />\n睇吓出乜嘢訊息? 之後㩒Ctrl 同 c stop咗個命令"},"citedBy":1,"replyTime":"2019-01-10T15:23:16.000Z","msg":"<pre><code data-type=\"\">/opt/bin/brook: line 1: syntax error: unexpected word (expecting &quot;)&quot;)\n</code></pre>"},"citedBy":1,"replyTime":"2019-01-10T15:33:04.000Z","msg":"冇 ) 喎<br />\n<br />\n<pre><code data-type=\"\">brook server -l :12345 -p 12345678</code></pre><br />\n<br />\n再試吓自己輸入，唔好copy&amp;paste，正常係咁<br />\n<br />\n<img src=\"/assets/faces/normal/wonder.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T15:39:48.000Z","msg":"我嘅/opt/bin/brook係一堆亂碼"},{"pid":"e5ed9e046c97d5298cc56991ab0fd164fb6f02f3","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"ff102a188760e35ded9ecc09cc0efbb65a0d9b0a","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"56bfecb7a5cc365984a5452ecf5c0b2cf75825b2","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T15:24:38.000Z","msg":"有可能部份華碩router要用 brook_arm_7，我個NAS就係用arm 7, 但router要用Arm 5"},"citedBy":1,"replyTime":"2019-01-10T15:26:49.000Z","msg":"<img src=\"/assets/faces/normal/dislike.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2019-01-10T15:45:46.000Z","msg":"咁可能CPU唔係ARM嚟，google咗係MIPS,剷咗個brook 佢 ，去下載呢個試試<br />\n<br />\n<pre><code data-type=\"\">cd /opt/bin\n\nrm brook\n\nwget &mdash;no-check-certificate -qO brook https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mips </code></pre><br />\n<br />\n 然後就咁係命令列執行<br />\n<br />\n<pre><code data-type=\"\">brook server -l :12345 -p 12345678 </code></pre><br />\n<br />\n然後睇吓係咪好似我上面咁，Ctrl C就kill到"},{"pid":"cc3d39c10faf90c22331ad960a9fb138e3118290","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2019-01-10T15:47:48.000Z","msg":"如果有需要或者改吓script，要用戶揀邊隻CPU，我冇得測試，冇咁多router <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"89932f9ca45bb40261d9e1d40362cd1c72fae4fa","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"6269dcff57576ea7594f13984e0cc79918c8e2ce","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"c402cc469ec5a14ec44560e1ff4f3e9e810888c0","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"141f7b92236252e49e1a4fea340e6e22663dec7d","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T15:23:16.000Z","msg":"<pre><code data-type=\"\">/opt/bin/brook: line 1: syntax error: unexpected word (expecting &quot;)&quot;)\n</code></pre>"},"citedBy":1,"replyTime":"2019-01-10T15:33:04.000Z","msg":"冇 ) 喎<br />\n<br />\n<pre><code data-type=\"\">brook server -l :12345 -p 12345678</code></pre><br />\n<br />\n再試吓自己輸入，唔好copy&amp;paste，正常係咁<br />\n<br />\n<img src=\"/assets/faces/normal/wonder.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T15:39:48.000Z","msg":"我嘅/opt/bin/brook係一堆亂碼"},"citedBy":0,"replyTime":"2019-01-10T15:52:22.000Z","msg":"嗰個唔係shell scrtpt嚟，cat佢當然一堆亂碼，要咁<br />\n<br />\n<img src=\"/assets/faces/normal/good.gif\" class=\"hkgmoji\" />"},{"pid":"3cf604182817138b2b34429253cce7d354800c69","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2019-01-10T15:58:57.000Z","msg":"To do，寫個uninstall 選項, 要google晒merlin 型號router嘅CPU 對應下載<br />\n<br />\n都要得閒先搞，冇opkg麻煩多 <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"82de24f4e99b1752b9d4f470db6e0672e8bb74c2","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T16:10:48.000Z","msg":"都係唔得<img src=\"/assets/faces/normal/dead.gif\" class=\"hkgmoji\" />"},{"pid":"3395de76c4f27e4c81ac29764b075484f00e78ad","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"82de24f4e99b1752b9d4f470db6e0672e8bb74c2","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T16:10:48.000Z","msg":"都係唔得<img src=\"/assets/faces/normal/dead.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T16:17:13.000Z","msg":"喺命令行打 <br />\n<br />\n<pre><code data-type=\"\">uname -a</code></pre><br />\n<br />\n將輸出copy 上嚟，究竟用乜CPU, 同樣剷咗個brook<br />\n<br />\n<img src=\"/assets/faces/normal/bouncy.gif\" class=\"hkgmoji\" />"},{"pid":"9969653349a958813a9c741475c0d0183672d4e2","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"3395de76c4f27e4c81ac29764b075484f00e78ad","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"82de24f4e99b1752b9d4f470db6e0672e8bb74c2","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T16:10:48.000Z","msg":"都係唔得<img src=\"/assets/faces/normal/dead.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T16:17:13.000Z","msg":"喺命令行打 <br />\n<br />\n<pre><code data-type=\"\">uname -a</code></pre><br />\n<br />\n將輸出copy 上嚟，究竟用乜CPU, 同樣剷咗個brook<br />\n<br />\n<img src=\"/assets/faces/normal/bouncy.gif\" class=\"hkgmoji\" />"},"citedBy":2,"replyTime":"2019-01-10T16:20:41.000Z","msg":"<img src=\"/assets/faces/normal/surprise.gif\" class=\"hkgmoji\" />"},{"pid":"9a61383bcb12d1b9ddbfe80010080c9145043085","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2019-01-10T16:21:15.000Z","msg":"唔係RT-AC68U用唔到呢個script，呢樣冇諗嘅，唔記得牙石用幾款CPU，要對應個brook執行檔先得，抱歉<br />\n<br />\n我亦冇咁多型號router試驗"},{"pid":"af1f46ed32c4ee6a02311b38d8c3fd46f26883b0","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"9969653349a958813a9c741475c0d0183672d4e2","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"3395de76c4f27e4c81ac29764b075484f00e78ad","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"82de24f4e99b1752b9d4f470db6e0672e8bb74c2","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T16:10:48.000Z","msg":"都係唔得<img src=\"/assets/faces/normal/dead.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T16:17:13.000Z","msg":"喺命令行打 <br />\n<br />\n<pre><code data-type=\"\">uname -a</code></pre><br />\n<br />\n將輸出copy 上嚟，究竟用乜CPU, 同樣剷咗個brook<br />\n<br />\n<img src=\"/assets/faces/normal/bouncy.gif\" class=\"hkgmoji\" />"},"citedBy":2,"replyTime":"2019-01-10T16:20:41.000Z","msg":"<img src=\"/assets/faces/normal/surprise.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2019-01-10T16:24:04.000Z","msg":"可能要逐個試，唔得就rm,佢有<br />\n<br />\n<a href=\"https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Ftxthinking%2Fbrook%2Freleases%2Fdownload%2Fv20181212%2Fbrook_linux_mipsle&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=a8a80374\" target=\"_blank\">https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle</a><br />\n<br />\n<a href=\"https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mips64\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Ftxthinking%2Fbrook%2Freleases%2Fdownload%2Fv20181212%2Fbrook_linux_mips64&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=0f001fa9\" target=\"_blank\">https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mips64</a><br />\n<br />\n<a href=\"https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mips64le\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Ftxthinking%2Fbrook%2Freleases%2Fdownload%2Fv20181212%2Fbrook_linux_mips64le&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=e756a553\" target=\"_blank\">https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mips64le</a><br />\n<br />\n同頭先下載嗰個，命令用返上面嘅，改下載url"},{"pid":"e8db0e0c08a242a2030766911ac54395414adca6","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"9969653349a958813a9c741475c0d0183672d4e2","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"3395de76c4f27e4c81ac29764b075484f00e78ad","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"82de24f4e99b1752b9d4f470db6e0672e8bb74c2","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T16:10:48.000Z","msg":"都係唔得<img src=\"/assets/faces/normal/dead.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T16:17:13.000Z","msg":"喺命令行打 <br />\n<br />\n<pre><code data-type=\"\">uname -a</code></pre><br />\n<br />\n將輸出copy 上嚟，究竟用乜CPU, 同樣剷咗個brook<br />\n<br />\n<img src=\"/assets/faces/normal/bouncy.gif\" class=\"hkgmoji\" />"},"citedBy":2,"replyTime":"2019-01-10T16:20:41.000Z","msg":"<img src=\"/assets/faces/normal/surprise.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T16:27:31.000Z","msg":"唔好剷住，chmod 755 brook 先，冇改執行"},{"pid":"9e469d408b8319a00348fb2d8522470f2794def5","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"e8db0e0c08a242a2030766911ac54395414adca6","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"9969653349a958813a9c741475c0d0183672d4e2","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"3395de76c4f27e4c81ac29764b075484f00e78ad","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T16:17:13.000Z","msg":"喺命令行打 <br />\n<br />\n<pre><code data-type=\"\">uname -a</code></pre><br />\n<br />\n將輸出copy 上嚟，究竟用乜CPU, 同樣剷咗個brook<br />\n<br />\n<img src=\"/assets/faces/normal/bouncy.gif\" class=\"hkgmoji\" />"},"citedBy":2,"replyTime":"2019-01-10T16:20:41.000Z","msg":"<img src=\"/assets/faces/normal/surprise.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T16:27:31.000Z","msg":"唔好剷住，chmod 755 brook 先，冇改執行"},"citedBy":2,"replyTime":"2019-01-10T16:52:29.000Z","msg":"搞掂<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <br />\n用呢條link得左<br />\n<a href=\"https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Ftxthinking%2Fbrook%2Freleases%2Fdownload%2Fv20181212%2Fbrook_linux_mipsle&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=a8a80374\" target=\"_blank\">https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle</a>"},{"pid":"d1180ff994806d1732a3357aa679141a2e0d66d2","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"9e469d408b8319a00348fb2d8522470f2794def5","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"e8db0e0c08a242a2030766911ac54395414adca6","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"9969653349a958813a9c741475c0d0183672d4e2","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2019-01-10T16:20:41.000Z","msg":"<img src=\"/assets/faces/normal/surprise.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T16:27:31.000Z","msg":"唔好剷住，chmod 755 brook 先，冇改執行"},"citedBy":2,"replyTime":"2019-01-10T16:52:29.000Z","msg":"搞掂<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <br />\n用呢條link得左<br />\n<a href=\"https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Ftxthinking%2Fbrook%2Freleases%2Fdownload%2Fv20181212%2Fbrook_linux_mipsle&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=a8a80374\" target=\"_blank\">https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle</a>"},"citedBy":1,"replyTime":"2019-01-10T16:59:53.000Z","msg":"不過brook仲慢過shadowsocks<img src=\"/assets/faces/normal/ass.gif\" class=\"hkgmoji\" /> <br />\n同shadowsocks比有咩優勢?"},{"pid":"bfa95f5e38033596165a622cc42edc30730cd750","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"9e469d408b8319a00348fb2d8522470f2794def5","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"e8db0e0c08a242a2030766911ac54395414adca6","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"9969653349a958813a9c741475c0d0183672d4e2","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2019-01-10T16:20:41.000Z","msg":"<img src=\"/assets/faces/normal/surprise.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2019-01-10T16:27:31.000Z","msg":"唔好剷住，chmod 755 brook 先，冇改執行"},"citedBy":2,"replyTime":"2019-01-10T16:52:29.000Z","msg":"搞掂<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <br />\n用呢條link得左<br />\n<a href=\"https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Ftxthinking%2Fbrook%2Freleases%2Fdownload%2Fv20181212%2Fbrook_linux_mipsle&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=a8a80374\" target=\"_blank\">https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle</a>"},"citedBy":1,"replyTime":"2019-01-10T17:18:08.000Z","msg":"reboot完ROUTER唔識AUTORUN"},{"pid":"395ce609564f5c68e1d80a96c43a48df95bb16af","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"quote":{"pid":"d1180ff994806d1732a3357aa679141a2e0d66d2","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"9e469d408b8319a00348fb2d8522470f2794def5","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"e8db0e0c08a242a2030766911ac54395414adca6","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T16:27:31.000Z","msg":"唔好剷住，chmod 755 brook 先，冇改執行"},"citedBy":2,"replyTime":"2019-01-10T16:52:29.000Z","msg":"搞掂<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <br />\n用呢條link得左<br />\n<a href=\"https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Ftxthinking%2Fbrook%2Freleases%2Fdownload%2Fv20181212%2Fbrook_linux_mipsle&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=a8a80374\" target=\"_blank\">https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle</a>"},"citedBy":1,"replyTime":"2019-01-10T16:59:53.000Z","msg":"不過brook仲慢過shadowsocks<img src=\"/assets/faces/normal/ass.gif\" class=\"hkgmoji\" /> <br />\n同shadowsocks比有咩優勢?"},"citedBy":0,"replyTime":"2019-01-10T23:33:05.000Z","msg":"電話係慢過，加密方式對ARM個類cpu冇特別處理，冇chacha20咁快，佢用嘅加密係aes-256-cfb<br />\n<br />\n不過佢小眾，據報極難辨別，我噚日上深圳做嘢都係用佢，茶記wifi同贏國嘅電話咭都冇問題，睇gmail個類幾好，睇youtube唔係幾好<br />\n<br />\n<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /> 可以作為備用方式"},{"pid":"d634bca377216fbe63057726bd353d70c1a11ede","tid":974776,"uid":17738,"like":1,"dislike":0,"score":1,"quote":{"pid":"bfa95f5e38033596165a622cc42edc30730cd750","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"9e469d408b8319a00348fb2d8522470f2794def5","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"e8db0e0c08a242a2030766911ac54395414adca6","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T16:27:31.000Z","msg":"唔好剷住，chmod 755 brook 先，冇改執行"},"citedBy":2,"replyTime":"2019-01-10T16:52:29.000Z","msg":"搞掂<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <br />\n用呢條link得左<br />\n<a href=\"https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Ftxthinking%2Fbrook%2Freleases%2Fdownload%2Fv20181212%2Fbrook_linux_mipsle&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=a8a80374\" target=\"_blank\">https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle</a>"},"citedBy":1,"replyTime":"2019-01-10T17:18:08.000Z","msg":"reboot完ROUTER唔識AUTORUN"},"citedBy":2,"replyTime":"2019-01-10T23:39:36.000Z","msg":"我要改過安裝script，安裝script有一個檢查運行嘅邏輯錯誤，同埋加返status 去brook-init<br />\n<br />\n改動scriptq除咗rt-ac68u同ac-66u ，其他型號唔執行，唔記得呢個唔係opkg 軟件倉庫安裝"},{"pid":"1237429f06484edc45ffdabf2307088e384d3c4f","tid":974776,"uid":17738,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2019-01-11T00:11:53.000Z","msg":"Brook係 X86嘅機器運行嘅話，例如X86 CPU嘅NAS，我諗速度就會唔差過shadowsocks<br />\n<br />\n佢嘅強加密方式冇對流動裝置嘅cpu進行特別處理提高效率，即係贏國講嘅「優化」，而chacha20呢類針對非X86 cpu做處理提升效能，加密算法亦冇咁強，耗用系統資源少，最初我係喺windows 10 notebook嘅cygwin運行，X86 cpu，速度唔差嘅"},{"pid":"2655f18eaa5f6c037aa2a7e64910522e642e70f6","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"d634bca377216fbe63057726bd353d70c1a11ede","tid":974776,"uid":17738,"like":1,"dislike":0,"score":1,"quote":{"pid":"bfa95f5e38033596165a622cc42edc30730cd750","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"9e469d408b8319a00348fb2d8522470f2794def5","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2019-01-10T16:52:29.000Z","msg":"搞掂<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <br />\n用呢條link得左<br />\n<a href=\"https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Ftxthinking%2Fbrook%2Freleases%2Fdownload%2Fv20181212%2Fbrook_linux_mipsle&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=a8a80374\" target=\"_blank\">https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle</a>"},"citedBy":1,"replyTime":"2019-01-10T17:18:08.000Z","msg":"reboot完ROUTER唔識AUTORUN"},"citedBy":2,"replyTime":"2019-01-10T23:39:36.000Z","msg":"我要改過安裝script，安裝script有一個檢查運行嘅邏輯錯誤，同埋加返status 去brook-init<br />\n<br />\n改動scriptq除咗rt-ac68u同ac-66u ，其他型號唔執行，唔記得呢個唔係opkg 軟件倉庫安裝"},"citedBy":0,"replyTime":"2019-01-12T17:36:45.000Z","msg":"<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"64125ca2ebea22fce9fb17c02ce734a0fbd10c2a","tid":974776,"uid":95172,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2019-01-12T20:15:52.000Z","msg":"好評<img src=\"/assets/faces/normal/smile.gif\" class=\"hkgmoji\" />"},{"pid":"16f0892a4d8bee7abd534a9dd1ee4ccb84189934","tid":974776,"uid":33059,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-12T20:37:18.000Z","msg":"Brook係大陸用唔到whatsapp架"},{"pid":"3aafc97eb932e5de8b82ef28b74de4d1dbce3214","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"16f0892a4d8bee7abd534a9dd1ee4ccb84189934","tid":974776,"uid":33059,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-12T20:37:18.000Z","msg":"Brook係大陸用唔到whatsapp架"},"citedBy":0,"replyTime":"2019-01-13T04:29:07.000Z","msg":"似乎同brook app on ios12有關<br />\n<a href=\"https://github.com/txthinking/brook/issues/426#issuecomment-442312225\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Ftxthinking%2Fbrook%2Fissues%2F426%23issuecomment-442312225&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=ef220daa\" data-auto-link target=\"_blank\">https://github.com/txthinking/brook/issues/426#issuecomment-442312225</a>"},{"pid":"838dc77dfe65b674b7a0c44735c1f8e1ce8bbd11","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"d634bca377216fbe63057726bd353d70c1a11ede","tid":974776,"uid":17738,"like":1,"dislike":0,"score":1,"quote":{"pid":"bfa95f5e38033596165a622cc42edc30730cd750","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"9e469d408b8319a00348fb2d8522470f2794def5","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2019-01-10T16:52:29.000Z","msg":"搞掂<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /> <br />\n用呢條link得左<br />\n<a href=\"https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fgithub.com%2Ftxthinking%2Fbrook%2Freleases%2Fdownload%2Fv20181212%2Fbrook_linux_mipsle&d=FTypIbPskK5BqgetbecOilKzBYqMCiHg3GgvTcrvEuQ%3D&h=a8a80374\" target=\"_blank\">https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle</a>"},"citedBy":1,"replyTime":"2019-01-10T17:18:08.000Z","msg":"reboot完ROUTER唔識AUTORUN"},"citedBy":2,"replyTime":"2019-01-10T23:39:36.000Z","msg":"我要改過安裝script，安裝script有一個檢查運行嘅邏輯錯誤，同埋加返status 去brook-init<br />\n<br />\n改動scriptq除咗rt-ac68u同ac-66u ，其他型號唔執行，唔記得呢個唔係opkg 軟件倉庫安裝"},"citedBy":1,"replyTime":"2019-01-18T14:20:36.000Z","msg":"<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" />"},{"pid":"d11c509eb96dfdb2920738f20e7487ea502af5cf","tid":974776,"uid":17738,"like":1,"dislike":0,"score":1,"quote":{"pid":"838dc77dfe65b674b7a0c44735c1f8e1ce8bbd11","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"quote":{"pid":"d634bca377216fbe63057726bd353d70c1a11ede","tid":974776,"uid":17738,"like":1,"dislike":0,"score":1,"quote":{"pid":"bfa95f5e38033596165a622cc42edc30730cd750","tid":974776,"uid":13008,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2019-01-10T17:18:08.000Z","msg":"reboot完ROUTER唔識AUTORUN"},"citedBy":2,"replyTime":"2019-01-10T23:39:36.000Z","msg":"我要改過安裝script，安裝script有一個檢查運行嘅邏輯錯誤，同埋加返status 去brook-init<br />\n<br />\n改動scriptq除咗rt-ac68u同ac-66u ，其他型號唔執行，唔記得呢個唔係opkg 軟件倉庫安裝"},"citedBy":1,"replyTime":"2019-01-18T14:20:36.000Z","msg":"<img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2019-01-18T15:10:48.000Z","msg":"其實有啲問題我解決唔到，增加段status嘅function但唔照條件出現預期嘅結果，似係ash開咗個sub shell運行段code當brook仲運行緊，但增加條件檢查router冇問題，code係咁<br />\n<br />\n<pre><code data-type=\"\">#! /bin/sh\n# $PROG: shell script for installing brook server on asus router.\n# $REQUIRE: Asuswrt-merlin installed and entware-ng is installed on /mnt/sda1\n# assume router's DDNS service is active\n# Tested on asus RT-AC68U powered by asuswrt-merlin version 384.8_2\n# No guarantee &amp; responsibility to the author. Use at your own risk.\n\nmyip=$(wget -qO- ifconfig.co)\np=&quot;24$(head -n 30 /dev/urandom | tr -dc &quot;0123456789&quot; | head -c3)&quot;\npw=&quot;$(openssl rand -base64 32 | tr -d '+/0oO' | cut -c3-12)&quot;\nurl=\ndevice=$(uname -a | cut -d&quot; &quot; -f2 | cut -d- -f2)\n\ncase &quot;$device&quot; in\n\tAC68U) url=&quot;https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_arm5&quot; ;;\n\tAC66U) url=&quot;https://github.com/txthinking/brook/releases/download/v20181212/brook_linux_mipsle&quot; ;;\n\t*)     echo &quot;Sorry, this scripts is not supported for your router.&quot; &gt;&amp;2\n\t       exit 1\n\t\t;;\nesac\n\nif cd /opt/bin/ ; then\n\twget --no-check-certificate -O brook &quot;$url&quot;\n\tchmod 755 brook\nelse\n\techo &quot;Cannot change path to /opt/bin/.&quot; &gt;&amp;2\n\techo &quot;Exit install progress...&quot; &gt;&amp;2\n\texit 1\nfi\n\ncd /jffs/scripts/ || {\n\techo &quot;Cannot change path to /jffs/scripts/.&quot; &gt;&amp;2 ;\n\techo &quot;Exit install progress...&quot; &gt;&amp;2 ;\n\texit 1\n}\n\n\ncat &gt;brook-init&lt;&lt;EOF\n#! /bin/sh\n\nARG=\\$1\nRET=0\nport=&quot;$(echo $p)&quot;\npassword=&quot;$(echo $pw)&quot;\n\ndo_start(){\n\t/usr/bin/nohup /opt/bin/brook server -l &quot;:\\${port}&quot; -p &quot;\\$password&quot; 2&gt;&gt; /dev/null &gt;&gt; /dev/null &amp;\n}\n\ndo_stop(){\n        kill \\$(ps w | awk '\\$5 ~ /brook/{print \\$1}' 2&gt; /dev/null\n}\n\ncase &quot;\\$ARG&quot; in\n        start)  do_start ;;\n        stop)   do_stop ;;\n        *)      echo &quot;Usage: \\$(basename \\$0) [start|stop]&quot; &gt;&amp;2\n                exit 1 \n\t\t;;\nesac\n\nexit \\$RET\n\nEOF\n\nif [ -f &quot;firewall-start&quot; ] ; then\n\techo &quot;iptables -I INPUT -p tcp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\n\techo &quot;iptables -I INPUT -p udp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\n\techo &quot;ip6tables -I INPUT -p tcp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\n        echo &quot;ip6tables -I INPUT -p udp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\nelse\n\techo &quot;#! /bin/sh&quot; &gt; firewall-start\n\techo &quot;iptables -I INPUT -p tcp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\n\techo &quot;iptables -I INPUT -p udp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\n\techo &quot;ip6tables -I INPUT -p tcp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\n\techo &quot;ip6tables -I INPUT -p udp --dport $p -j ACCEPT&quot; &gt;&gt; firewall-start\nfi\n\n\nif [ -e brook-init ] ; then\n\tchmod 755 brook-init\n\techo &quot;/jffs/scripts/brook-init start&quot; &gt;&gt; services-start\n\techo &quot;/jffs/scripts/brook-init stop&quot; &gt;&gt; services-stop\nelse\n\techo &quot;Cannot create brook-init system start/stop script.&quot; &gt;&amp;2\n\techo &quot;Exit install progress...&quot; &gt;&amp;2\n\texit 1\nfi\n\n./firewall-start ; sleep 1\n\n./brook-init start ; sleep 1\n\nisrun=$(ps w | awk '$5 ~ /brook/{print $1}')\n\nif [ -n &quot;$isrun&quot; ] ; then \n\techo &quot;Setup is completed.&quot;\n\techo &quot;Brook is running.&quot;\n\techo &quot;Your IP:\t$myip&quot;\n\techo &quot;Server port:\t$p&quot;\n\techo &quot;Password:\t$pw&quot;\nelse\n\techo &quot;Install brook server failed.&quot; &gt;&amp;2\n\texit 1\nfi\n\nexit 0\n</code></pre><br />\n冇用uname -m 檢查CPU型號，直接搵router型號，ac68u亦用唔到arm7<br />\n要打少啲字檢查係咪運行緊，都有折衷辦法，ash都有內建alias<br />\n<br />\n喺admin@RT-AC68U-3558:/tmp/home/root 執行<br />\n<pre><code data-type=\"\">nano .profile</code></pre><br />\n加入<br />\n<pre><code data-type=\"\">alias b-status=&quot;ps w | grep brook | grep -v grep&quot;</code></pre><br />\nsaved之後執行<br />\n<pre><code data-type=\"\">. .profile</code></pre><br />\n<img src=\"https://na.cx/i/YCUzWET.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FYCUzWET.png&h=07cd7450&s={SIZE}\" />"}]}