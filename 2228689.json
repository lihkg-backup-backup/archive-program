{"tid":2228689,"cid":26,"subCid":0,"title":"求救,請問點樣save the multiple choice落database","createTime":"2020-10-03T18:46:22.000Z","updateTime":"2020-10-22T04:20:14.000Z","uid":151116,"like":1,"dislike":3,"uniUserReply":20,"replies":[{"pid":"e71f6cb442d253fc4622e1bb009132c2e90cad5d","tid":2228689,"uid":151116,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-10-03T18:46:22.000Z","msg":"小弟整緊個python flask web application,個database用緊sqlite,咁小弟個from有啲multiple-choice想save落db但係唔知道應該要點set,請問有冇師兄可以指教下"},{"pid":"917dc50e19b950fedc6270d38c9d82748b59fbdc","tid":2228689,"uid":72228,"like":4,"dislike":0,"score":4,"citedBy":1,"replyTime":"2020-10-03T18:47:50.000Z","msg":"每個option as一個boolean value"},{"pid":"088a9c292b44e3997f9de0f942358acaa2fbcd73","tid":2228689,"uid":48286,"like":6,"dislike":0,"score":6,"quote":{"pid":"917dc50e19b950fedc6270d38c9d82748b59fbdc","tid":2228689,"uid":72228,"like":4,"dislike":0,"score":4,"citedBy":1,"replyTime":"2020-10-03T18:47:50.000Z","msg":"每個option as一個boolean value"},"citedBy":0,"replyTime":"2020-10-03T18:49:01.000Z","msg":"點解咁空泛你都識答？<br />\n勁"},{"pid":"e65845c88dd57d928a59b3f7589b48bddc57db3c","tid":2228689,"uid":3852,"like":14,"dislike":0,"score":14,"citedBy":1,"replyTime":"2020-10-03T19:02:37.000Z","msg":"直接stringify佢放落text column算數啦吧<img src=\"/assets/faces/lm2/hoho.gif\" class=\"hkgmoji\" />"},{"pid":"c251dc2fdd2216990f441aa48742e54bcb21ead4","tid":2228689,"uid":19461,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2020-10-03T19:03:19.000Z","msg":"form structure 係咩樣？"},{"pid":"14bdc5f68e22717167b9bcab79e5bbeb0bea7fac","tid":2228689,"uid":101481,"like":3,"dislike":0,"score":3,"citedBy":0,"replyTime":"2020-10-03T19:12:55.000Z","msg":"wtform+sqlalchemy"},{"pid":"5a7967ceaaa7de5299338bd1eb691593e62fb45f","tid":2228689,"uid":72369,"like":3,"dislike":3,"score":0,"citedBy":3,"replyTime":"2020-10-03T20:07:51.000Z","msg":"可以考慮Byte array（101 代表第一and第三係selected）or enum array([1,3] 代表同樣意思）"},{"pid":"b88995b8511307c83e2ec8f39893a07c406b32b1","tid":2228689,"uid":78429,"like":3,"dislike":0,"score":3,"quote":{"pid":"e65845c88dd57d928a59b3f7589b48bddc57db3c","tid":2228689,"uid":3852,"like":14,"dislike":0,"score":14,"citedBy":1,"replyTime":"2020-10-03T19:02:37.000Z","msg":"直接stringify佢放落text column算數啦吧<img src=\"/assets/faces/lm2/hoho.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2020-10-03T21:33:54.000Z","msg":"成個DB塞落一格BLOB<br />\n諗下都興奮<img src=\"/assets/faces/normal/bomb.gif\" class=\"hkgmoji\" />"},{"pid":"37658fed17cd84a8ad5d1897447882479ca7b1a0","tid":2228689,"uid":35860,"like":2,"dislike":0,"score":2,"quote":{"pid":"5a7967ceaaa7de5299338bd1eb691593e62fb45f","tid":2228689,"uid":72369,"like":3,"dislike":3,"score":0,"citedBy":3,"replyTime":"2020-10-03T20:07:51.000Z","msg":"可以考慮Byte array（101 代表第一and第三係selected）or enum array([1,3] 代表同樣意思）"},"citedBy":0,"replyTime":"2020-10-04T06:47:30.000Z","msg":"直接value |= 1 &lt;&lt; option咪得<br />\ndeselect就 value &amp;= !(1 &lt;&lt; option)"},{"pid":"ab9706af346f11a2a9010d9d82fa350dc2a76f2e","tid":2228689,"uid":9248,"like":1,"dislike":8,"score":-7,"citedBy":3,"replyTime":"2020-10-04T08:37:03.000Z","msg":"最正路就 1-to-many<br />\n落晒 foreign key<br />\n<br />\nTable 1: question<br />\nid<br />\nquestion_string<br />\n<br />\nTable 2: question_choice<br />\nid<br />\nquestion_id<br />\nchoice_string<br />\n<br />\nTable 3: selected_question_choice<br />\nid<br />\nuser_id<br />\nquestion_choice_id"},{"pid":"2e04163104a7ca1159c35a57c894f9e81dcdb432","tid":2228689,"uid":328267,"like":3,"dislike":2,"score":1,"citedBy":0,"replyTime":"2020-10-04T12:54:06.000Z","msg":"input a, b, c<br />\n用Number 儲binary<br />\n<br />\n1 = a<br />\n10 = b<br />\n100 = c<br />\n111 = abc"},{"pid":"20d22e4bbb0b6b5b05592c2b7bcce40c3038822c","tid":2228689,"uid":9769,"like":1,"dislike":0,"score":1,"quote":{"pid":"5a7967ceaaa7de5299338bd1eb691593e62fb45f","tid":2228689,"uid":72369,"like":3,"dislike":3,"score":0,"citedBy":3,"replyTime":"2020-10-03T20:07:51.000Z","msg":"可以考慮Byte array（101 代表第一and第三係selected）or enum array([1,3] 代表同樣意思）"},"citedBy":0,"replyTime":"2020-10-05T09:35:36.000Z","msg":"用Bit array, 再專為16進制，00-FF有256個組合，只佔2個Bytes<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"1805c39f57fac66613833561ca1443312a730a47","tid":2228689,"uid":3441,"like":4,"dislike":0,"score":4,"citedBy":0,"replyTime":"2020-10-05T10:02:42.000Z","msg":"唔講清成個scenario<br />\n撚知合理solution係乜 <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"b469da47068023a6d38c986ded1be9e8f7d1d42b","tid":2228689,"uid":38316,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-10-05T11:56:07.000Z","msg":"multiple choice有無限咗最多幾多個Fields？<br />\n十個以內拆開幾個Fields蓄<br />\n空間轉取其他嘢<br />\n唔好煩"},{"pid":"3484dfd74bfdb5c4ae254a826b6d6675e4aff6ec","tid":2228689,"uid":275724,"like":1,"dislike":0,"score":1,"quote":{"pid":"5a7967ceaaa7de5299338bd1eb691593e62fb45f","tid":2228689,"uid":72369,"like":3,"dislike":3,"score":0,"citedBy":3,"replyTime":"2020-10-03T20:07:51.000Z","msg":"可以考慮Byte array（101 代表第一and第三係selected）or enum array([1,3] 代表同樣意思）"},"citedBy":0,"replyTime":"2020-10-05T23:23:37.000Z","msg":"用big int得啦<br />\nbyte array好麻煩"},{"pid":"1da19de0c16384a606e142decc79e5bf967a8794","tid":2228689,"uid":66242,"like":3,"dislike":0,"score":3,"citedBy":1,"replyTime":"2020-10-06T02:43:12.000Z","msg":"bitwise operation<br />\n考驗下手嘅根底 <img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"79a936130352fa37400b303672c6244da0848c22","tid":2228689,"uid":3441,"like":2,"dislike":1,"score":1,"quote":{"pid":"1da19de0c16384a606e142decc79e5bf967a8794","tid":2228689,"uid":66242,"like":3,"dislike":0,"score":3,"citedBy":1,"replyTime":"2020-10-06T02:43:12.000Z","msg":"bitwise operation<br />\n考驗下手嘅根底 <img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2020-10-06T04:17:56.000Z","msg":"bit masking? <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\n以前寫C#定唔知乜language見到啲enum好似咁set"},{"pid":"9ba70ba36f1403472fce0868df3982e0ee7c5f2c","tid":2228689,"uid":279606,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-10-06T04:37:18.000Z","msg":"你需要set data structure<br />\n所以one to many走唔甩"},{"pid":"59f4b0bc180088190a74548f2d72f411aebbd4be","tid":2228689,"uid":323720,"like":0,"dislike":0,"score":0,"quote":{"pid":"ab9706af346f11a2a9010d9d82fa350dc2a76f2e","tid":2228689,"uid":9248,"like":1,"dislike":8,"score":-7,"citedBy":3,"replyTime":"2020-10-04T08:37:03.000Z","msg":"最正路就 1-to-many<br />\n落晒 foreign key<br />\n<br />\nTable 1: question<br />\nid<br />\nquestion_string<br />\n<br />\nTable 2: question_choice<br />\nid<br />\nquestion_id<br />\nchoice_string<br />\n<br />\nTable 3: selected_question_choice<br />\nid<br />\nuser_id<br />\nquestion_choice_id"},"citedBy":0,"replyTime":"2020-10-06T04:50:35.000Z","msg":"如果啲問題答案有機會改就一定要咁啦，如果唔係錯咗都唔知，之後用sql做filter又簡單啲"},{"pid":"72cc85e0fd34c715ca6226ac38c3335aa108d754","tid":2228689,"uid":323720,"like":2,"dislike":0,"score":2,"citedBy":0,"replyTime":"2020-10-06T05:07:37.000Z","msg":"如果hardcode嘅就拆開晒一個個 boolean field儲，儲埋一個field 無乜好處"},{"pid":"4a26a32abbdf2fd22939c847759e62baf1ebf04c","tid":2228689,"uid":9248,"like":6,"dislike":1,"score":5,"quote":{"pid":"ab9706af346f11a2a9010d9d82fa350dc2a76f2e","tid":2228689,"uid":9248,"like":1,"dislike":8,"score":-7,"citedBy":3,"replyTime":"2020-10-04T08:37:03.000Z","msg":"最正路就 1-to-many<br />\n落晒 foreign key<br />\n<br />\nTable 1: question<br />\nid<br />\nquestion_string<br />\n<br />\nTable 2: question_choice<br />\nid<br />\nquestion_id<br />\nchoice_string<br />\n<br />\nTable 3: selected_question_choice<br />\nid<br />\nuser_id<br />\nquestion_choice_id"},"citedBy":1,"replyTime":"2020-10-06T07:12:22.000Z","msg":"點解咁多負評<br />\n呢個明明係最 relational database 嘅做法 <img src=\"/assets/faces/normal/clown.gif\" class=\"hkgmoji\" />"},{"pid":"544a33e4cb053287936827f381bf71f8ce9a2f05","tid":2228689,"uid":3441,"like":9,"dislike":1,"score":8,"quote":{"pid":"4a26a32abbdf2fd22939c847759e62baf1ebf04c","tid":2228689,"uid":9248,"like":6,"dislike":1,"score":5,"quote":{"pid":"ab9706af346f11a2a9010d9d82fa350dc2a76f2e","tid":2228689,"uid":9248,"like":1,"dislike":8,"score":-7,"citedBy":3,"replyTime":"2020-10-04T08:37:03.000Z","msg":"最正路就 1-to-many<br />\n落晒 foreign key<br />\n<br />\nTable 1: question<br />\nid<br />\nquestion_string<br />\n<br />\nTable 2: question_choice<br />\nid<br />\nquestion_id<br />\nchoice_string<br />\n<br />\nTable 3: selected_question_choice<br />\nid<br />\nuser_id<br />\nquestion_choice_id"},"citedBy":1,"replyTime":"2020-10-06T07:12:22.000Z","msg":"點解咁多負評<br />\n呢個明明係最 relational database 嘅做法 <img src=\"/assets/faces/normal/clown.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2020-10-06T07:51:10.000Z","msg":"因為答案太正路 <img src=\"/assets/faces/normal/clown.gif\" class=\"hkgmoji\" />"},{"pid":"fabb770e56fb221a6a73b616b3fcea96ce606f66","tid":2228689,"uid":66242,"like":1,"dislike":1,"score":0,"quote":{"pid":"79a936130352fa37400b303672c6244da0848c22","tid":2228689,"uid":3441,"like":2,"dislike":1,"score":1,"quote":{"pid":"1da19de0c16384a606e142decc79e5bf967a8794","tid":2228689,"uid":66242,"like":3,"dislike":0,"score":3,"citedBy":1,"replyTime":"2020-10-06T02:43:12.000Z","msg":"bitwise operation<br />\n考驗下手嘅根底 <img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2020-10-06T04:17:56.000Z","msg":"bit masking? <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\n以前寫C#定唔知乜language見到啲enum好似咁set"},"citedBy":1,"replyTime":"2020-10-06T08:00:45.000Z","msg":"幾十年前 dram 好鬼貴成千蚊 8mb 386 年代<br />\n係咁做架喇<br />\n其實而家 file system 都仲有 rwxrw-r-- = 764"},{"pid":"79d49e2959d2e72a4ccb9c37162fafae9e43696a","tid":2228689,"uid":279606,"like":0,"dislike":0,"score":0,"quote":{"pid":"fabb770e56fb221a6a73b616b3fcea96ce606f66","tid":2228689,"uid":66242,"like":1,"dislike":1,"score":0,"quote":{"pid":"79a936130352fa37400b303672c6244da0848c22","tid":2228689,"uid":3441,"like":2,"dislike":1,"score":1,"quote":{"pid":"1da19de0c16384a606e142decc79e5bf967a8794","tid":2228689,"uid":66242,"like":3,"dislike":0,"score":3,"citedBy":1,"replyTime":"2020-10-06T02:43:12.000Z","msg":"bitwise operation<br />\n考驗下手嘅根底 <img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2020-10-06T04:17:56.000Z","msg":"bit masking? <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /><br />\n以前寫C#定唔知乜language見到啲enum好似咁set"},"citedBy":1,"replyTime":"2020-10-06T08:00:45.000Z","msg":"幾十年前 dram 好鬼貴成千蚊 8mb 386 年代<br />\n係咁做架喇<br />\n其實而家 file system 都仲有 rwxrw-r-- = 764"},"citedBy":0,"replyTime":"2020-10-06T10:02:29.000Z","msg":"都係咁話 bitset就係一個個用bit嚟represent嘅set 係以前c記憶體虛缺嘅年代的確係可以直接define 但呢家我就會正路用std::set&lt;std::string&gt;算啦<br />\n<br />\n至於你話unix個原理就係呢個<br />\n<pre><code data-type=\"\">typedef struct {\n unsigned int sticky: 1;\n struct {\n   unsigned int read: 1;\n   unsigned int write: 1;\n   unsigned int execute: 1;\n } user, group, guest;\n} unix_acl_entry_t; // total bits = 1 + 3 * 3 = 10, minimum alignment to power of 2 = 16-bit = short </code></pre><br />\n用bit field替代boolean 咁就可以閒咗boolean 8-bit空間比例上極高嘅成本 而且111 max = 7所以就係octet<br />\n<br />\n試想下unix acl基本上周圍都係 所以呢到可以節省嘅資源好可觀"},{"pid":"b1401c86270fd6a303c1746b11d934d55c278f63","tid":2228689,"uid":46033,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-10-09T06:48:43.000Z","msg":"用紙抄低再入返去DB"}]}