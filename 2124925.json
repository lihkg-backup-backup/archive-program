{"tid":2124925,"cid":26,"subCid":0,"title":"JavaScript string問題","createTime":"2020-07-25T19:25:47.000Z","updateTime":"2020-08-02T11:39:28.000Z","uid":71237,"like":5,"dislike":1,"uniUserReply":26,"replies":[{"pid":"8bbe59bf013fc43ac1cb1a23c952ee9f5dfd3a60","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2020-07-25T19:25:47.000Z","msg":"問題：<br />\n我有一段string：<br />\n<pre><code data-type=\"\">XXXXXXXXXX&lt;ref&gt;111111111&lt;/ref&gt;XXXXXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXXXX&lt;ref name=&quot;Test&quot;&gt;33333333&lt;/ref&gt;XXXXXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXXXXX</code></pre><br />\n目的：<br />\n我想寫一個function去extract tag入面的數字，出嚟嘅output應該係：<br />\n<pre><code data-type=\"\">111111111,222 22,33333333</code></pre><br />\n我的寫法：<br />\n<pre><code data-type=\"\">function count_string(input_string){\n  var count = (input_string.match(/&lt;ref&gt;/g) || []).length;\n  return count\n}\nfunction main(input) {\n    var refcount = count_string(input);\n    var ref_array = [];\n\n    var current_position = 0;\n    for (var i = 0; i &lt; refcount;i++) {\n    var start_position = input.indexOf(&quot;&lt;ref&gt;&quot;,current_position);\n    var end_position = input.indexOf(&quot;&lt;/ref&gt;&quot;,start_position)+6;\n    ref_array.push(input.slice(start_position,end_position));\n    current_position = end_position;\n  }\n    var output = ref_array.toString();\n    return output\n}</code></pre><br />\n<br />\n結果係成功出到```<br />\n111111111,222 22 <br />\n<pre><code data-type=\"\">\n我遇到的困難1：\n依度有4個同ref有關嘅tag，可以分為3個cases\nCase 1. &lt;ref&gt;&lt;/ref&gt;\nCase 2. &lt;ref name =&quot;XX&quot;&gt;&lt;/ref&gt;\nCase 3. &lt;ref name =&quot;XX&quot;/&gt;\n如果只考慮Case 1，其實我已經寫好咗，但係我唔識得點樣包括埋Case 2。至於Case 3係irrelevant嘅，因為入面唔會有數字，但係我唔識點樣包括Case 2的時候同時排除Case 3。\n\n我遇到的困難2：\ntag入面可能會出現一些空格，例如```\n &lt;ref name   =   &quot;XX&quot;   &gt;&lt;/ref    &gt;</code></pre><br />\n應該點樣處理依啲exceptional cases？<br />\n<br />\n其實仲有其他問題，不過想搞掂咗依個先。<br />\n如果困難1處理唔到，拆開兩個functions去處理Case 2的情況都應該可行，不過都想問埋Case 3點搞。Thanks"},{"pid":"7b897b52a7a5caf0fe232076eb5ce11b2216cf52","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-25T19:28:03.000Z","msg":"Sorry貼出嚟亂咗"},{"pid":"e40cf472218586756bcabefaaaed4a4312e7cdf8","tid":2124925,"uid":106027,"like":21,"dislike":2,"score":19,"citedBy":0,"replyTime":"2020-07-25T19:29:21.000Z","msg":"試下regular expression"},{"pid":"09400f8ae451218fd7f215a71eb547b8717bfaf8","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"8bbe59bf013fc43ac1cb1a23c952ee9f5dfd3a60","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2020-07-25T19:25:47.000Z","msg":"問題：<br />\n我有一段string：<br />\n<pre><code data-type=\"\">XXXXXXXXXX&lt;ref&gt;111111111&lt;/ref&gt;XXXXXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXXXX&lt;ref name=&quot;Test&quot;&gt;33333333&lt;/ref&gt;XXXXXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXXXXX</code></pre><br />\n目的：<br />\n我想寫一個function去extract tag入面的數字，出嚟嘅output應該係：<br />\n<pre><code data-type=\"\">111111111,222 22,33333333</code></pre><br />\n我的寫法：<br />\n<pre><code data-type=\"\">function count_string(input_string){\n  var count = (input_string.match(/&lt;ref&gt;/g) || []).length;\n  return count\n}\nfunction main(input) {\n    var refcount = count_string(input);\n    var ref_array = [];\n\n    var current_position = 0;\n    for (var i = 0; i &lt; refcount;i++) {\n    var start_position = input.indexOf(&quot;&lt;ref&gt;&quot;,current_position);\n    var end_position = input.indexOf(&quot;&lt;/ref&gt;&quot;,start_position)+6;\n    ref_array.push(input.slice(start_position,end_position));\n    current_position = end_position;\n  }\n    var output = ref_array.toString();\n    return output\n}</code></pre><br />\n<br />\n結果係成功出到```<br />\n111111111,222 22 <br />\n<pre><code data-type=\"\">\n我遇到的困難1：\n依度有4個同ref有關嘅tag，可以分為3個cases\nCase 1. &lt;ref&gt;&lt;/ref&gt;\nCase 2. &lt;ref name =&quot;XX&quot;&gt;&lt;/ref&gt;\nCase 3. &lt;ref name =&quot;XX&quot;/&gt;\n如果只考慮Case 1，其實我已經寫好咗，但係我唔識得點樣包括埋Case 2。至於Case 3係irrelevant嘅，因為入面唔會有數字，但係我唔識點樣包括Case 2的時候同時排除Case 3。\n\n我遇到的困難2：\ntag入面可能會出現一些空格，例如```\n &lt;ref name   =   &quot;XX&quot;   &gt;&lt;/ref    &gt;</code></pre><br />\n應該點樣處理依啲exceptional cases？<br />\n<br />\n其實仲有其他問題，不過想搞掂咗依個先。<br />\n如果困難1處理唔到，拆開兩個functions去處理Case 2的情況都應該可行，不過都想問埋Case 3點搞。Thanks"},"citedBy":0,"replyTime":"2020-07-25T19:32:15.000Z","msg":"講漏咗<br />\nCase 2同Case 3入面&rdquo;&rdquo;包住嘅唔一定係XX<br />\n通常係一段短嘅string (可包括空格)"},{"pid":"eccbe7e1fe903bc76e9c0f62002c6f538ae3c07b","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-25T19:35:27.000Z","msg":"lm"},{"pid":"dc7c755b5c862e53e26c2f9eb77e262ea077465a","tid":2124925,"uid":65049,"like":1,"dislike":1,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:37:10.000Z","msg":"<pre><code data-type=\"\">const numberRe = /[1-9]/g;\nconst numberOccurrences = str =&gt; str.match(numberRe);</code></pre>"},{"pid":"0f603a1b00a516f2c79361512d945778df3eadec","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:37:54.000Z","msg":"咁case 2同case 3有咩決定性既分別？<br />\n<br />\nTab同name都一樣既話，自己都分唔到喎"},{"pid":"8bc51a80621c24d7b935f6e3bd8f45b6a76d277b","tid":2124925,"uid":65049,"like":0,"dislike":0,"score":0,"quote":{"pid":"dc7c755b5c862e53e26c2f9eb77e262ea077465a","tid":2124925,"uid":65049,"like":1,"dislike":1,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:37:10.000Z","msg":"<pre><code data-type=\"\">const numberRe = /[1-9]/g;\nconst numberOccurrences = str =&gt; str.match(numberRe);</code></pre>"},"citedBy":2,"replyTime":"2020-07-25T19:39:25.000Z","msg":"<pre><code data-type=\"\">/[0-9]/g</code></pre><br />\n包埋零"},{"pid":"b8864281e68c06e8f6496a92244596e8d5bfb057","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"0f603a1b00a516f2c79361512d945778df3eadec","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:37:54.000Z","msg":"咁case 2同case 3有咩決定性既分別？<br />\n<br />\nTab同name都一樣既話，自己都分唔到喎"},"citedBy":1,"replyTime":"2020-07-25T19:39:55.000Z","msg":"Case 3喺&rdquo;XX&rdquo;後面有 /"},{"pid":"69144a6922cc84ec99edf81c1853883323738721","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:40:07.000Z","msg":"如果case 3唔會有數字，咁你get哂d tabs落黎，check佢既innerHTML係唔係number 就ok"},{"pid":"92870610f3edcf015837597220686206865c9cb5","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"69144a6922cc84ec99edf81c1853883323738721","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:40:07.000Z","msg":"如果case 3唔會有數字，咁你get哂d tabs落黎，check佢既innerHTML係唔係number 就ok"},"citedBy":0,"replyTime":"2020-07-25T19:42:30.000Z","msg":"會有數字架<br />\n例子入面嘅XXXXXX, 111111, Test只係例子嚟，實際上係任何string"},{"pid":"ee387979017c524c02f7b485f8db6e22c27a4d89","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"quote":{"pid":"b8864281e68c06e8f6496a92244596e8d5bfb057","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"0f603a1b00a516f2c79361512d945778df3eadec","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:37:54.000Z","msg":"咁case 2同case 3有咩決定性既分別？<br />\n<br />\nTab同name都一樣既話，自己都分唔到喎"},"citedBy":1,"replyTime":"2020-07-25T19:39:55.000Z","msg":"Case 3喺&rdquo;XX&rdquo;後面有 /"},"citedBy":1,"replyTime":"2020-07-25T19:42:38.000Z","msg":"其實都好似分唔到🤔<br />\n我記得係得<br />\nClass name <br />\nTab name<br />\nID<br />\n係分到，其他好少用"},{"pid":"38e18ee5f36a94de9c23b6166c9b1f197e369095","tid":2124925,"uid":65049,"like":0,"dislike":1,"score":-1,"quote":{"pid":"8bc51a80621c24d7b935f6e3bd8f45b6a76d277b","tid":2124925,"uid":65049,"like":0,"dislike":0,"score":0,"quote":{"pid":"dc7c755b5c862e53e26c2f9eb77e262ea077465a","tid":2124925,"uid":65049,"like":1,"dislike":1,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:37:10.000Z","msg":"<pre><code data-type=\"\">const numberRe = /[1-9]/g;\nconst numberOccurrences = str =&gt; str.match(numberRe);</code></pre>"},"citedBy":2,"replyTime":"2020-07-25T19:39:25.000Z","msg":"<pre><code data-type=\"\">/[0-9]/g</code></pre><br />\n包埋零"},"citedBy":0,"replyTime":"2020-07-25T19:42:46.000Z","msg":"<pre><code data-type=\"\">/[0-9]+\\s*/g</code></pre><br />\n再包埋你個222 22 whitespace"},{"pid":"c245f71c5decd697500668d24bf1aeef16088523","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"8bc51a80621c24d7b935f6e3bd8f45b6a76d277b","tid":2124925,"uid":65049,"like":0,"dislike":0,"score":0,"quote":{"pid":"dc7c755b5c862e53e26c2f9eb77e262ea077465a","tid":2124925,"uid":65049,"like":1,"dislike":1,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:37:10.000Z","msg":"<pre><code data-type=\"\">const numberRe = /[1-9]/g;\nconst numberOccurrences = str =&gt; str.match(numberRe);</code></pre>"},"citedBy":2,"replyTime":"2020-07-25T19:39:25.000Z","msg":"<pre><code data-type=\"\">/[0-9]/g</code></pre><br />\n包埋零"},"citedBy":0,"replyTime":"2020-07-25T19:44:36.000Z","msg":"Sor我講得唔清楚<br />\n1111111, 222 22, 33333只係例子<br />\n實際上想extract嘅唔一定係數字，而係string"},{"pid":"3596241517dad189bd1b093d341afaa04505d0f5","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-25T19:45:21.000Z","msg":"我而家先睇到 &lt;ref xxx /&gt;本身就close左tab, 你應該get唔到入面既字嫁喎<br />\n<br />\n例如好似&lt;input type=xxx /&gt;<br />\n唔會有&lt;/input&gt; 自然就無innerHTML"},{"pid":"00629918277c997e1fe6580687e97b66ef3c5621","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:45:34.000Z","msg":"有case3 呢種reference方法？<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},{"pid":"8f567f373b3bb2d488089dfb167f5304a2591f5a","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"ee387979017c524c02f7b485f8db6e22c27a4d89","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"quote":{"pid":"b8864281e68c06e8f6496a92244596e8d5bfb057","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"0f603a1b00a516f2c79361512d945778df3eadec","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:37:54.000Z","msg":"咁case 2同case 3有咩決定性既分別？<br />\n<br />\nTab同name都一樣既話，自己都分唔到喎"},"citedBy":1,"replyTime":"2020-07-25T19:39:55.000Z","msg":"Case 3喺&rdquo;XX&rdquo;後面有 /"},"citedBy":1,"replyTime":"2020-07-25T19:42:38.000Z","msg":"其實都好似分唔到🤔<br />\n我記得係得<br />\nClass name <br />\nTab name<br />\nID<br />\n係分到，其他好少用"},"citedBy":1,"replyTime":"2020-07-25T19:48:45.000Z","msg":"Case 2係有兩個tag，一個係start tag一個係closing yah<br />\n&lt;ref name=&ldquo;一些文字&rdquo;&gt;內容&lt;/ref&gt;<br />\n<br />\nCase 3得一個tag<br />\n&lt;ref name=&ldquo;一些文字&rdquo;/&gt;"},{"pid":"e8337ca56f4a64cd2fe02abc77926f9972a7f0df","tid":2124925,"uid":289574,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2020-07-25T19:48:56.000Z","msg":"你應該係用<br />\ngetElementsByTab<br />\n然後拎個innerHTML<br />\n<br />\n再check <br />\n<br />\nif (result) { console.log result"},{"pid":"cf51238a616cc0d85b95f7ad9b17e6d29dacdd77","tid":2124925,"uid":10337,"like":2,"dislike":1,"score":1,"citedBy":0,"replyTime":"2020-07-25T19:48:57.000Z","msg":"<pre><code data-type=\"\">/&lt;ref&gt;(.*)&lt;\\/ref&gt;/</code></pre>"},{"pid":"02adbfbaa2b86b729ac273bd9769832e22d5623e","tid":2124925,"uid":99418,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-25T19:49:23.000Z","msg":"regex capture 數字+空格?"},{"pid":"0543e908a549d23fd5f91e42c7bbce460200a4cb","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"quote":{"pid":"8f567f373b3bb2d488089dfb167f5304a2591f5a","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"ee387979017c524c02f7b485f8db6e22c27a4d89","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"quote":{"pid":"b8864281e68c06e8f6496a92244596e8d5bfb057","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:39:55.000Z","msg":"Case 3喺&rdquo;XX&rdquo;後面有 /"},"citedBy":1,"replyTime":"2020-07-25T19:42:38.000Z","msg":"其實都好似分唔到🤔<br />\n我記得係得<br />\nClass name <br />\nTab name<br />\nID<br />\n係分到，其他好少用"},"citedBy":1,"replyTime":"2020-07-25T19:48:45.000Z","msg":"Case 2係有兩個tag，一個係start tag一個係closing yah<br />\n&lt;ref name=&ldquo;一些文字&rdquo;&gt;內容&lt;/ref&gt;<br />\n<br />\nCase 3得一個tag<br />\n&lt;ref name=&ldquo;一些文字&rdquo;/&gt;"},"citedBy":1,"replyTime":"2020-07-25T19:50:08.000Z","msg":"Case 3你唔會get到任何字，因為佢既innerHTML 永遠只係null, 除非你想拎個name"},{"pid":"7bd8cfea0fa634fa70e5f2adb8b3fd8719059221","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"00629918277c997e1fe6580687e97b66ef3c5621","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:45:34.000Z","msg":"有case3 呢種reference方法？<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2020-07-25T19:50:59.000Z","msg":"依啲係維基百科嘅原始碼嘅tag，唔係html tag。<br />\n我想寫一個JacaScript function去處理維基百科嘅原始碼。"},{"pid":"e0b59fb5e0603399fc9b32427dfee9d9d8f4f2e3","tid":2124925,"uid":10337,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:51:26.000Z","msg":"<blockquote><pre><code data-type=\"\">/&lt;ref&gt;(.*?)&lt;\\/ref&gt;/g</code></pre></blockquote><br />\n咁先啱"},{"pid":"f88f23a6edc49039f21649b3314b01c33a88c1f0","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"0543e908a549d23fd5f91e42c7bbce460200a4cb","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"quote":{"pid":"8f567f373b3bb2d488089dfb167f5304a2591f5a","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"ee387979017c524c02f7b485f8db6e22c27a4d89","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:42:38.000Z","msg":"其實都好似分唔到🤔<br />\n我記得係得<br />\nClass name <br />\nTab name<br />\nID<br />\n係分到，其他好少用"},"citedBy":1,"replyTime":"2020-07-25T19:48:45.000Z","msg":"Case 2係有兩個tag，一個係start tag一個係closing yah<br />\n&lt;ref name=&ldquo;一些文字&rdquo;&gt;內容&lt;/ref&gt;<br />\n<br />\nCase 3得一個tag<br />\n&lt;ref name=&ldquo;一些文字&rdquo;/&gt;"},"citedBy":1,"replyTime":"2020-07-25T19:50:08.000Z","msg":"Case 3你唔會get到任何字，因為佢既innerHTML 永遠只係null, 除非你想拎個name"},"citedBy":2,"replyTime":"2020-07-25T19:52:45.000Z","msg":"&lt;ref&gt;唔係html嘅tag嘅架<br />\n係維基百科嘅tag <br />\n<br />\n我係寫緊JavaScript function去處理維基百科嘅原始碼。"},{"pid":"3417214040522699d3a7426a91a4bf2204fb80e7","tid":2124925,"uid":26711,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-25T19:52:55.000Z","msg":"lm"},{"pid":"2a857605ff4b91aafe83e4df91bee0f48526b6c3","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"e0b59fb5e0603399fc9b32427dfee9d9d8f4f2e3","tid":2124925,"uid":10337,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:51:26.000Z","msg":"<blockquote><pre><code data-type=\"\">/&lt;ref&gt;(.*?)&lt;\\/ref&gt;/g</code></pre></blockquote><br />\n咁先啱"},"citedBy":1,"replyTime":"2020-07-25T19:53:53.000Z","msg":"Thanks<br />\n我聽日試吓<br />\n依個係用嚟處理Case 2嘅情況？"},{"pid":"5b127b91d260358e62432afd3778e907996f2739","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"7bd8cfea0fa634fa70e5f2adb8b3fd8719059221","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"00629918277c997e1fe6580687e97b66ef3c5621","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:45:34.000Z","msg":"有case3 呢種reference方法？<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2020-07-25T19:50:59.000Z","msg":"依啲係維基百科嘅原始碼嘅tag，唔係html tag。<br />\n我想寫一個JacaScript function去處理維基百科嘅原始碼。"},"citedBy":1,"replyTime":"2020-07-25T19:54:27.000Z","msg":"icic<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />case2 整個search &lt;ref position, 之後揾&gt;, 再&lt;/ref&gt; end position?應該case 1都得？<br />\n<br />\n點睇<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},{"pid":"0c5c307a7b3a46ca62a592ae750d179ab7c495b5","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"5b127b91d260358e62432afd3778e907996f2739","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"7bd8cfea0fa634fa70e5f2adb8b3fd8719059221","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"00629918277c997e1fe6580687e97b66ef3c5621","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:45:34.000Z","msg":"有case3 呢種reference方法？<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2020-07-25T19:50:59.000Z","msg":"依啲係維基百科嘅原始碼嘅tag，唔係html tag。<br />\n我想寫一個JacaScript function去處理維基百科嘅原始碼。"},"citedBy":1,"replyTime":"2020-07-25T19:54:27.000Z","msg":"icic<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />case2 整個search &lt;ref position, 之後揾&gt;, 再&lt;/ref&gt; end position?應該case 1都得？<br />\n<br />\n點睇<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},"citedBy":2,"replyTime":"2020-07-25T19:57:22.000Z","msg":"多謝你<br />\n依招應該work<br />\n我聽日試吓"},{"pid":"114ab3a406f9aaae844fe1e02b56c42f7b5d32e4","tid":2124925,"uid":283951,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:57:38.000Z","msg":"case 1, 2, 3個expected output係咪都係要當佢地冇到?"},{"pid":"66d991f269b13ff928a64f6f24e5122208b522ca","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"quote":{"pid":"f88f23a6edc49039f21649b3314b01c33a88c1f0","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"0543e908a549d23fd5f91e42c7bbce460200a4cb","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"quote":{"pid":"8f567f373b3bb2d488089dfb167f5304a2591f5a","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:48:45.000Z","msg":"Case 2係有兩個tag，一個係start tag一個係closing yah<br />\n&lt;ref name=&ldquo;一些文字&rdquo;&gt;內容&lt;/ref&gt;<br />\n<br />\nCase 3得一個tag<br />\n&lt;ref name=&ldquo;一些文字&rdquo;/&gt;"},"citedBy":1,"replyTime":"2020-07-25T19:50:08.000Z","msg":"Case 3你唔會get到任何字，因為佢既innerHTML 永遠只係null, 除非你想拎個name"},"citedBy":2,"replyTime":"2020-07-25T19:52:45.000Z","msg":"&lt;ref&gt;唔係html嘅tag嘅架<br />\n係維基百科嘅tag <br />\n<br />\n我係寫緊JavaScript function去處理維基百科嘅原始碼。"},"citedBy":1,"replyTime":"2020-07-25T19:58:05.000Z","msg":"用string.replace去清走空白<br />\n<br />\nCheck個string有無包含 &ldquo;/&gt; 去分辦case 2同3"},{"pid":"3c2c052b774e7f16664c6b0e7af58cb079401e26","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"0c5c307a7b3a46ca62a592ae750d179ab7c495b5","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"5b127b91d260358e62432afd3778e907996f2739","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"7bd8cfea0fa634fa70e5f2adb8b3fd8719059221","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:50:59.000Z","msg":"依啲係維基百科嘅原始碼嘅tag，唔係html tag。<br />\n我想寫一個JacaScript function去處理維基百科嘅原始碼。"},"citedBy":1,"replyTime":"2020-07-25T19:54:27.000Z","msg":"icic<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />case2 整個search &lt;ref position, 之後揾&gt;, 再&lt;/ref&gt; end position?應該case 1都得？<br />\n<br />\n點睇<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},"citedBy":2,"replyTime":"2020-07-25T19:57:22.000Z","msg":"多謝你<br />\n依招應該work<br />\n我聽日試吓"},"citedBy":0,"replyTime":"2020-07-25T19:58:47.000Z","msg":"不如start position &lt;ref 之後end position 用if else 分/&gt; 同&lt;/ 整個index + 1 -1 <img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><br />\n點睇？"},{"pid":"f52460a0593beb5bff776fc3f0a4bea8cf5332fe","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"f88f23a6edc49039f21649b3314b01c33a88c1f0","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"0543e908a549d23fd5f91e42c7bbce460200a4cb","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"quote":{"pid":"8f567f373b3bb2d488089dfb167f5304a2591f5a","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:48:45.000Z","msg":"Case 2係有兩個tag，一個係start tag一個係closing yah<br />\n&lt;ref name=&ldquo;一些文字&rdquo;&gt;內容&lt;/ref&gt;<br />\n<br />\nCase 3得一個tag<br />\n&lt;ref name=&ldquo;一些文字&rdquo;/&gt;"},"citedBy":1,"replyTime":"2020-07-25T19:50:08.000Z","msg":"Case 3你唔會get到任何字，因為佢既innerHTML 永遠只係null, 除非你想拎個name"},"citedBy":2,"replyTime":"2020-07-25T19:52:45.000Z","msg":"&lt;ref&gt;唔係html嘅tag嘅架<br />\n係維基百科嘅tag <br />\n<br />\n我係寫緊JavaScript function去處理維基百科嘅原始碼。"},"citedBy":1,"replyTime":"2020-07-25T20:00:50.000Z","msg":"outlier ching case 3個reference string係邊？<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},{"pid":"8ed69c9dcd9233e55d1ac608355b1cdd69a6f7e5","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"114ab3a406f9aaae844fe1e02b56c42f7b5d32e4","tid":2124925,"uid":283951,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:57:38.000Z","msg":"case 1, 2, 3個expected output係咪都係要當佢地冇到?"},"citedBy":1,"replyTime":"2020-07-25T20:01:28.000Z","msg":"output只包括&lt;ref&gt;&lt;/ref&gt;依兩個tag入面嘅內容<br />\nCase 3只需要忽略就得，因為case 3只有一個yah"},{"pid":"1e384f3abce455d103372b8cca4fa49a94cd082d","tid":2124925,"uid":271617,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-25T20:01:56.000Z","msg":"<img src=\"/assets/faces/normal/hoho.gif\" class=\"hkgmoji\" />"},{"pid":"e83b9a6949251c9cf31e6cac7935b0ad516fc8bc","tid":2124925,"uid":199877,"like":0,"dislike":0,"score":0,"quote":{"pid":"8ed69c9dcd9233e55d1ac608355b1cdd69a6f7e5","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"114ab3a406f9aaae844fe1e02b56c42f7b5d32e4","tid":2124925,"uid":283951,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:57:38.000Z","msg":"case 1, 2, 3個expected output係咪都係要當佢地冇到?"},"citedBy":1,"replyTime":"2020-07-25T20:01:28.000Z","msg":"output只包括&lt;ref&gt;&lt;/ref&gt;依兩個tag入面嘅內容<br />\nCase 3只需要忽略就得，因為case 3只有一個yah"},"citedBy":0,"replyTime":"2020-07-25T20:02:51.000Z","msg":"try this regex<br />\n<br />\n<code>/&lt;\\s*ref\\s*[^&gt;]*?&gt;([^&gt;]+)&lt;\\s*\\/ref\\s*&gt;/gmi</code>"},{"pid":"fd7a53f116863c25b1724cb3f5fb5c4d7a689ed4","tid":2124925,"uid":199877,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T20:03:37.000Z","msg":"樓主有無多啲test case"},{"pid":"c9e5de7ae52addafbd57a0c61e91018092674298","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"f52460a0593beb5bff776fc3f0a4bea8cf5332fe","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"f88f23a6edc49039f21649b3314b01c33a88c1f0","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"0543e908a549d23fd5f91e42c7bbce460200a4cb","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:50:08.000Z","msg":"Case 3你唔會get到任何字，因為佢既innerHTML 永遠只係null, 除非你想拎個name"},"citedBy":2,"replyTime":"2020-07-25T19:52:45.000Z","msg":"&lt;ref&gt;唔係html嘅tag嘅架<br />\n係維基百科嘅tag <br />\n<br />\n我係寫緊JavaScript function去處理維基百科嘅原始碼。"},"citedBy":1,"replyTime":"2020-07-25T20:00:50.000Z","msg":"outlier ching case 3個reference string係邊？<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2020-07-25T20:03:52.000Z","msg":"Case 3唔會有output架<br />\n一開始例子入面有4個tag (兩個Case 1, 一個Case 2, 一個Case 3)，但output只有11111, 222 22,333333"},{"pid":"03d94d3be4913c548740de799cc21ce4bf8774fa","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"66d991f269b13ff928a64f6f24e5122208b522ca","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"quote":{"pid":"f88f23a6edc49039f21649b3314b01c33a88c1f0","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"0543e908a549d23fd5f91e42c7bbce460200a4cb","tid":2124925,"uid":289574,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:50:08.000Z","msg":"Case 3你唔會get到任何字，因為佢既innerHTML 永遠只係null, 除非你想拎個name"},"citedBy":2,"replyTime":"2020-07-25T19:52:45.000Z","msg":"&lt;ref&gt;唔係html嘅tag嘅架<br />\n係維基百科嘅tag <br />\n<br />\n我係寫緊JavaScript function去處理維基百科嘅原始碼。"},"citedBy":1,"replyTime":"2020-07-25T19:58:05.000Z","msg":"用string.replace去清走空白<br />\n<br />\nCheck個string有無包含 &ldquo;/&gt; 去分辦case 2同3"},"citedBy":0,"replyTime":"2020-07-25T20:04:55.000Z","msg":"用string.replace我驚會整走埋22 222入面個空格"},{"pid":"c8708efdd3e2fd698c570f55d3fe06d2ab4bbf70","tid":2124925,"uid":314,"like":1,"dislike":0,"score":1,"citedBy":1,"replyTime":"2020-07-25T20:08:29.000Z","msg":"可以試下呢個regex<br />\n<a href=\"https://regex101.com/r/Xr0gLJ/1\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fregex101.com%2Fr%2FXr0gLJ%2F1&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=525bca92\" target=\"_blank\">https://regex101.com/r/Xr0gLJ/1</a><br />\nbtw有無多啲case試?"},{"pid":"452cf5d5e00f9791af94fc72b508c5270472124b","tid":2124925,"uid":199877,"like":0,"dislike":0,"score":0,"quote":{"pid":"c8708efdd3e2fd698c570f55d3fe06d2ab4bbf70","tid":2124925,"uid":314,"like":1,"dislike":0,"score":1,"citedBy":1,"replyTime":"2020-07-25T20:08:29.000Z","msg":"可以試下呢個regex<br />\n<a href=\"https://regex101.com/r/Xr0gLJ/1\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fregex101.com%2Fr%2FXr0gLJ%2F1&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=525bca92\" target=\"_blank\">https://regex101.com/r/Xr0gLJ/1</a><br />\nbtw有無多啲case試?"},"citedBy":0,"replyTime":"2020-07-25T20:09:29.000Z","msg":"你呢個無處理到tag入面可能會出現一些空格"},{"pid":"25b70b1502bc2236c019e13a67f15026bd3859f4","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"fd7a53f116863c25b1724cb3f5fb5c4d7a689ed4","tid":2124925,"uid":199877,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T20:03:37.000Z","msg":"樓主有無多啲test case"},"citedBy":2,"replyTime":"2020-07-25T20:09:55.000Z","msg":"&lt;ref name=&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref    &gt;<br />\n&lt;ref   name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref   &gt;<br />\n<br />\n關於Case 2我諗到依6個例子，Expected output都係123 ABC。"},{"pid":"d372d14472b411a0bbac895f6a1ea3e852ebd33b","tid":2124925,"uid":199877,"like":0,"dislike":0,"score":0,"quote":{"pid":"25b70b1502bc2236c019e13a67f15026bd3859f4","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"fd7a53f116863c25b1724cb3f5fb5c4d7a689ed4","tid":2124925,"uid":199877,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T20:03:37.000Z","msg":"樓主有無多啲test case"},"citedBy":2,"replyTime":"2020-07-25T20:09:55.000Z","msg":"&lt;ref name=&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref    &gt;<br />\n&lt;ref   name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref   &gt;<br />\n<br />\n關於Case 2我諗到依6個例子，Expected output都係123 ABC。"},"citedBy":1,"replyTime":"2020-07-25T20:10:38.000Z","msg":"樓主睇睇<br />\n<br />\n<a href=\"https://regex101.com/r/IMgSt5/1\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fregex101.com%2Fr%2FIMgSt5%2F1&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=a124bf09\" data-auto-link target=\"_blank\">https://regex101.com/r/IMgSt5/1</a>"},{"pid":"3ac5a405c05a250931c33c558cbb471fa9000d0c","tid":2124925,"uid":24394,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2020-07-25T20:11:09.000Z","msg":"<a href=\"https://regex101.com/r/JnuzVq/1\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fregex101.com%2Fr%2FJnuzVq%2F1&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=c86b617a\" target=\"_blank\">https://regex101.com/r/JnuzVq/1</a><br />\n<br />\n<a href=\"https://jsfiddle.net/237h0kje/\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fjsfiddle.net%2F237h0kje%2F&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=9d67cc71\" target=\"_blank\">https://jsfiddle.net/237h0kje/</a>"},{"pid":"17cc8598754c0c1079fa12ccd83ebb5db3f955f5","tid":2124925,"uid":10337,"like":0,"dislike":0,"score":0,"quote":{"pid":"2a857605ff4b91aafe83e4df91bee0f48526b6c3","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"e0b59fb5e0603399fc9b32427dfee9d9d8f4f2e3","tid":2124925,"uid":10337,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:51:26.000Z","msg":"<blockquote><pre><code data-type=\"\">/&lt;ref&gt;(.*?)&lt;\\/ref&gt;/g</code></pre></blockquote><br />\n咁先啱"},"citedBy":1,"replyTime":"2020-07-25T19:53:53.000Z","msg":"Thanks<br />\n我聽日試吓<br />\n依個係用嚟處理Case 2嘅情況？"},"citedBy":1,"replyTime":"2020-07-25T20:12:34.000Z","msg":"呢個係拎所有&lt;ref&gt;同&lt;/ref&gt;之間嘅野<br />\n我睇返你個case<br />\n<pre><code data-type=\"\">/&lt;ref[^&gt;]*&gt;(.*?)(&lt;\\/ref&gt;)/g</code></pre><br />\n應該3個case都用到"},{"pid":"d6a93c0c8bc414980ef0496275244d9aaa26d015","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"25b70b1502bc2236c019e13a67f15026bd3859f4","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"fd7a53f116863c25b1724cb3f5fb5c4d7a689ed4","tid":2124925,"uid":199877,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T20:03:37.000Z","msg":"樓主有無多啲test case"},"citedBy":2,"replyTime":"2020-07-25T20:09:55.000Z","msg":"&lt;ref name=&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref    &gt;<br />\n&lt;ref   name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref   &gt;<br />\n<br />\n關於Case 2我諗到依6個例子，Expected output都係123 ABC。"},"citedBy":1,"replyTime":"2020-07-25T20:13:48.000Z","msg":"我明明打咗好多空格，但貼出嚟唔明顯，唯有貼圖<br />\n<img src=\"https://na.cx/i/eyvGqT9.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FeyvGqT9.png&h=858fb51c&s={SIZE}\" />"},{"pid":"4a4c285ed01f7166764d95348637f49e7ee8f783","tid":2124925,"uid":199877,"like":0,"dislike":0,"score":0,"quote":{"pid":"17cc8598754c0c1079fa12ccd83ebb5db3f955f5","tid":2124925,"uid":10337,"like":0,"dislike":0,"score":0,"quote":{"pid":"2a857605ff4b91aafe83e4df91bee0f48526b6c3","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"e0b59fb5e0603399fc9b32427dfee9d9d8f4f2e3","tid":2124925,"uid":10337,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:51:26.000Z","msg":"<blockquote><pre><code data-type=\"\">/&lt;ref&gt;(.*?)&lt;\\/ref&gt;/g</code></pre></blockquote><br />\n咁先啱"},"citedBy":1,"replyTime":"2020-07-25T19:53:53.000Z","msg":"Thanks<br />\n我聽日試吓<br />\n依個係用嚟處理Case 2嘅情況？"},"citedBy":1,"replyTime":"2020-07-25T20:12:34.000Z","msg":"呢個係拎所有&lt;ref&gt;同&lt;/ref&gt;之間嘅野<br />\n我睇返你個case<br />\n<pre><code data-type=\"\">/&lt;ref[^&gt;]*&gt;(.*?)(&lt;\\/ref&gt;)/g</code></pre><br />\n應該3個case都用到"},"citedBy":0,"replyTime":"2020-07-25T20:13:52.000Z","msg":"你regex寫埋啲空格應該work<br />\n但點解兩個group既?"},{"pid":"6ac939b459e45079901d8459c10dd92a34e48b0d","tid":2124925,"uid":283951,"like":0,"dislike":0,"score":0,"quote":{"pid":"d6a93c0c8bc414980ef0496275244d9aaa26d015","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"25b70b1502bc2236c019e13a67f15026bd3859f4","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"fd7a53f116863c25b1724cb3f5fb5c4d7a689ed4","tid":2124925,"uid":199877,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T20:03:37.000Z","msg":"樓主有無多啲test case"},"citedBy":2,"replyTime":"2020-07-25T20:09:55.000Z","msg":"&lt;ref name=&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref    &gt;<br />\n&lt;ref   name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref   &gt;<br />\n<br />\n關於Case 2我諗到依6個例子，Expected output都係123 ABC。"},"citedBy":1,"replyTime":"2020-07-25T20:13:48.000Z","msg":"我明明打咗好多空格，但貼出嚟唔明顯，唯有貼圖<br />\n<img src=\"https://na.cx/i/eyvGqT9.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FeyvGqT9.png&h=858fb51c&s={SIZE}\" />"},"citedBy":1,"replyTime":"2020-07-25T20:15:21.000Z","msg":"會唔會有機會出現(中間d text有箭咀)<br />\n&lt;ref name=&quot;Test XX&quot;&gt;123 &gt; ABC&lt;/ref&gt;"},{"pid":"1df8af06ca236e60495db9c7efbbc325b96f534f","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"d372d14472b411a0bbac895f6a1ea3e852ebd33b","tid":2124925,"uid":199877,"like":0,"dislike":0,"score":0,"quote":{"pid":"25b70b1502bc2236c019e13a67f15026bd3859f4","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"fd7a53f116863c25b1724cb3f5fb5c4d7a689ed4","tid":2124925,"uid":199877,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T20:03:37.000Z","msg":"樓主有無多啲test case"},"citedBy":2,"replyTime":"2020-07-25T20:09:55.000Z","msg":"&lt;ref name=&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref    &gt;<br />\n&lt;ref   name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref   &gt;<br />\n<br />\n關於Case 2我諗到依6個例子，Expected output都係123 ABC。"},"citedBy":1,"replyTime":"2020-07-25T20:10:38.000Z","msg":"樓主睇睇<br />\n<br />\n<a href=\"https://regex101.com/r/IMgSt5/1\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fregex101.com%2Fr%2FIMgSt5%2F1&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=a124bf09\" data-auto-link target=\"_blank\">https://regex101.com/r/IMgSt5/1</a>"},"citedBy":1,"replyTime":"2020-07-25T20:15:26.000Z","msg":"感激不盡 <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /><br />\n我聽日試下"},{"pid":"4b4de17288750e274fb4a5b55962a7b388ebf8b6","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"0c5c307a7b3a46ca62a592ae750d179ab7c495b5","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"5b127b91d260358e62432afd3778e907996f2739","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"7bd8cfea0fa634fa70e5f2adb8b3fd8719059221","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T19:50:59.000Z","msg":"依啲係維基百科嘅原始碼嘅tag，唔係html tag。<br />\n我想寫一個JacaScript function去處理維基百科嘅原始碼。"},"citedBy":1,"replyTime":"2020-07-25T19:54:27.000Z","msg":"icic<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />case2 整個search &lt;ref position, 之後揾&gt;, 再&lt;/ref&gt; end position?應該case 1都得？<br />\n<br />\n點睇<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},"citedBy":2,"replyTime":"2020-07-25T19:57:22.000Z","msg":"多謝你<br />\n依招應該work<br />\n我聽日試吓"},"citedBy":0,"replyTime":"2020-07-25T20:16:55.000Z","msg":"有bug會炒case 3 揾&gt; 要check前面有無/ ,有就skip再揾&lt;ref"},{"pid":"f190342a6875b5e06d04e9e0ef69fc19a3346781","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"6ac939b459e45079901d8459c10dd92a34e48b0d","tid":2124925,"uid":283951,"like":0,"dislike":0,"score":0,"quote":{"pid":"d6a93c0c8bc414980ef0496275244d9aaa26d015","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"25b70b1502bc2236c019e13a67f15026bd3859f4","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2020-07-25T20:09:55.000Z","msg":"&lt;ref name=&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref    &gt;<br />\n&lt;ref   name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref   &gt;<br />\n<br />\n關於Case 2我諗到依6個例子，Expected output都係123 ABC。"},"citedBy":1,"replyTime":"2020-07-25T20:13:48.000Z","msg":"我明明打咗好多空格，但貼出嚟唔明顯，唯有貼圖<br />\n<img src=\"https://na.cx/i/eyvGqT9.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FeyvGqT9.png&h=858fb51c&s={SIZE}\" />"},"citedBy":1,"replyTime":"2020-07-25T20:15:21.000Z","msg":"會唔會有機會出現(中間d text有箭咀)<br />\n&lt;ref name=&quot;Test XX&quot;&gt;123 &gt; ABC&lt;/ref&gt;"},"citedBy":1,"replyTime":"2020-07-25T20:17:30.000Z","msg":"理論上可能存在，但實際上應該唔會出現。<br />\n<img src=\"/assets/faces/normal/fire.gif\" class=\"hkgmoji\" />"},{"pid":"c59044243a84f9556a659e74a5ee882c98e79434","tid":2124925,"uid":10337,"like":1,"dislike":0,"score":1,"quote":{"pid":"8bbe59bf013fc43ac1cb1a23c952ee9f5dfd3a60","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2020-07-25T19:25:47.000Z","msg":"問題：<br />\n我有一段string：<br />\n<pre><code data-type=\"\">XXXXXXXXXX&lt;ref&gt;111111111&lt;/ref&gt;XXXXXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXXXX&lt;ref name=&quot;Test&quot;&gt;33333333&lt;/ref&gt;XXXXXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXXXXX</code></pre><br />\n目的：<br />\n我想寫一個function去extract tag入面的數字，出嚟嘅output應該係：<br />\n<pre><code data-type=\"\">111111111,222 22,33333333</code></pre><br />\n我的寫法：<br />\n<pre><code data-type=\"\">function count_string(input_string){\n  var count = (input_string.match(/&lt;ref&gt;/g) || []).length;\n  return count\n}\nfunction main(input) {\n    var refcount = count_string(input);\n    var ref_array = [];\n\n    var current_position = 0;\n    for (var i = 0; i &lt; refcount;i++) {\n    var start_position = input.indexOf(&quot;&lt;ref&gt;&quot;,current_position);\n    var end_position = input.indexOf(&quot;&lt;/ref&gt;&quot;,start_position)+6;\n    ref_array.push(input.slice(start_position,end_position));\n    current_position = end_position;\n  }\n    var output = ref_array.toString();\n    return output\n}</code></pre><br />\n<br />\n結果係成功出到```<br />\n111111111,222 22 <br />\n<pre><code data-type=\"\">\n我遇到的困難1：\n依度有4個同ref有關嘅tag，可以分為3個cases\nCase 1. &lt;ref&gt;&lt;/ref&gt;\nCase 2. &lt;ref name =&quot;XX&quot;&gt;&lt;/ref&gt;\nCase 3. &lt;ref name =&quot;XX&quot;/&gt;\n如果只考慮Case 1，其實我已經寫好咗，但係我唔識得點樣包括埋Case 2。至於Case 3係irrelevant嘅，因為入面唔會有數字，但係我唔識點樣包括Case 2的時候同時排除Case 3。\n\n我遇到的困難2：\ntag入面可能會出現一些空格，例如```\n &lt;ref name   =   &quot;XX&quot;   &gt;&lt;/ref    &gt;</code></pre><br />\n應該點樣處理依啲exceptional cases？<br />\n<br />\n其實仲有其他問題，不過想搞掂咗依個先。<br />\n如果困難1處理唔到，拆開兩個functions去處理Case 2的情況都應該可行，不過都想問埋Case 3點搞。Thanks"},"citedBy":1,"replyTime":"2020-07-25T20:18:27.000Z","msg":"Handle埋closing tag嘅space<br />\n<pre><code data-type=\"\">/&lt;ref[^&gt;]*&gt;(.*?)&lt;\\/ref[^&gt;]*&gt;/g</code></pre>"},{"pid":"e278f7c01cad9352949f42421a98b1947b6b893b","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"c59044243a84f9556a659e74a5ee882c98e79434","tid":2124925,"uid":10337,"like":1,"dislike":0,"score":1,"quote":{"pid":"8bbe59bf013fc43ac1cb1a23c952ee9f5dfd3a60","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2020-07-25T19:25:47.000Z","msg":"問題：<br />\n我有一段string：<br />\n<pre><code data-type=\"\">XXXXXXXXXX&lt;ref&gt;111111111&lt;/ref&gt;XXXXXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXXXX&lt;ref name=&quot;Test&quot;&gt;33333333&lt;/ref&gt;XXXXXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXXXXX</code></pre><br />\n目的：<br />\n我想寫一個function去extract tag入面的數字，出嚟嘅output應該係：<br />\n<pre><code data-type=\"\">111111111,222 22,33333333</code></pre><br />\n我的寫法：<br />\n<pre><code data-type=\"\">function count_string(input_string){\n  var count = (input_string.match(/&lt;ref&gt;/g) || []).length;\n  return count\n}\nfunction main(input) {\n    var refcount = count_string(input);\n    var ref_array = [];\n\n    var current_position = 0;\n    for (var i = 0; i &lt; refcount;i++) {\n    var start_position = input.indexOf(&quot;&lt;ref&gt;&quot;,current_position);\n    var end_position = input.indexOf(&quot;&lt;/ref&gt;&quot;,start_position)+6;\n    ref_array.push(input.slice(start_position,end_position));\n    current_position = end_position;\n  }\n    var output = ref_array.toString();\n    return output\n}</code></pre><br />\n<br />\n結果係成功出到```<br />\n111111111,222 22 <br />\n<pre><code data-type=\"\">\n我遇到的困難1：\n依度有4個同ref有關嘅tag，可以分為3個cases\nCase 1. &lt;ref&gt;&lt;/ref&gt;\nCase 2. &lt;ref name =&quot;XX&quot;&gt;&lt;/ref&gt;\nCase 3. &lt;ref name =&quot;XX&quot;/&gt;\n如果只考慮Case 1，其實我已經寫好咗，但係我唔識得點樣包括埋Case 2。至於Case 3係irrelevant嘅，因為入面唔會有數字，但係我唔識點樣包括Case 2的時候同時排除Case 3。\n\n我遇到的困難2：\ntag入面可能會出現一些空格，例如```\n &lt;ref name   =   &quot;XX&quot;   &gt;&lt;/ref    &gt;</code></pre><br />\n應該點樣處理依啲exceptional cases？<br />\n<br />\n其實仲有其他問題，不過想搞掂咗依個先。<br />\n如果困難1處理唔到，拆開兩個functions去處理Case 2的情況都應該可行，不過都想問埋Case 3點搞。Thanks"},"citedBy":1,"replyTime":"2020-07-25T20:18:27.000Z","msg":"Handle埋closing tag嘅space<br />\n<pre><code data-type=\"\">/&lt;ref[^&gt;]*&gt;(.*?)&lt;\\/ref[^&gt;]*&gt;/g</code></pre>"},"citedBy":1,"replyTime":"2020-07-25T20:19:14.000Z","msg":"呢啲叫乜，想查嚟學<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},{"pid":"3c73451ce86e9bcd440b3b0063c3d5dabf890a91","tid":2124925,"uid":10337,"like":0,"dislike":0,"score":0,"quote":{"pid":"e278f7c01cad9352949f42421a98b1947b6b893b","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"c59044243a84f9556a659e74a5ee882c98e79434","tid":2124925,"uid":10337,"like":1,"dislike":0,"score":1,"quote":{"pid":"8bbe59bf013fc43ac1cb1a23c952ee9f5dfd3a60","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2020-07-25T19:25:47.000Z","msg":"問題：<br />\n我有一段string：<br />\n<pre><code data-type=\"\">XXXXXXXXXX&lt;ref&gt;111111111&lt;/ref&gt;XXXXXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXXXX&lt;ref name=&quot;Test&quot;&gt;33333333&lt;/ref&gt;XXXXXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXXXXX</code></pre><br />\n目的：<br />\n我想寫一個function去extract tag入面的數字，出嚟嘅output應該係：<br />\n<pre><code data-type=\"\">111111111,222 22,33333333</code></pre><br />\n我的寫法：<br />\n<pre><code data-type=\"\">function count_string(input_string){\n  var count = (input_string.match(/&lt;ref&gt;/g) || []).length;\n  return count\n}\nfunction main(input) {\n    var refcount = count_string(input);\n    var ref_array = [];\n\n    var current_position = 0;\n    for (var i = 0; i &lt; refcount;i++) {\n    var start_position = input.indexOf(&quot;&lt;ref&gt;&quot;,current_position);\n    var end_position = input.indexOf(&quot;&lt;/ref&gt;&quot;,start_position)+6;\n    ref_array.push(input.slice(start_position,end_position));\n    current_position = end_position;\n  }\n    var output = ref_array.toString();\n    return output\n}</code></pre><br />\n<br />\n結果係成功出到```<br />\n111111111,222 22 <br />\n<pre><code data-type=\"\">\n我遇到的困難1：\n依度有4個同ref有關嘅tag，可以分為3個cases\nCase 1. &lt;ref&gt;&lt;/ref&gt;\nCase 2. &lt;ref name =&quot;XX&quot;&gt;&lt;/ref&gt;\nCase 3. &lt;ref name =&quot;XX&quot;/&gt;\n如果只考慮Case 1，其實我已經寫好咗，但係我唔識得點樣包括埋Case 2。至於Case 3係irrelevant嘅，因為入面唔會有數字，但係我唔識點樣包括Case 2的時候同時排除Case 3。\n\n我遇到的困難2：\ntag入面可能會出現一些空格，例如```\n &lt;ref name   =   &quot;XX&quot;   &gt;&lt;/ref    &gt;</code></pre><br />\n應該點樣處理依啲exceptional cases？<br />\n<br />\n其實仲有其他問題，不過想搞掂咗依個先。<br />\n如果困難1處理唔到，拆開兩個functions去處理Case 2的情況都應該可行，不過都想問埋Case 3點搞。Thanks"},"citedBy":1,"replyTime":"2020-07-25T20:18:27.000Z","msg":"Handle埋closing tag嘅space<br />\n<pre><code data-type=\"\">/&lt;ref[^&gt;]*&gt;(.*?)&lt;\\/ref[^&gt;]*&gt;/g</code></pre>"},"citedBy":1,"replyTime":"2020-07-25T20:19:14.000Z","msg":"呢啲叫乜，想查嚟學<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2020-07-25T20:19:40.000Z","msg":"Regular expression / regex"},{"pid":"4f63f7c09946b8b61293948a35ff78c57f0928e6","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"3c73451ce86e9bcd440b3b0063c3d5dabf890a91","tid":2124925,"uid":10337,"like":0,"dislike":0,"score":0,"quote":{"pid":"e278f7c01cad9352949f42421a98b1947b6b893b","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"c59044243a84f9556a659e74a5ee882c98e79434","tid":2124925,"uid":10337,"like":1,"dislike":0,"score":1,"citedBy":1,"replyTime":"2020-07-25T20:18:27.000Z","msg":"Handle埋closing tag嘅space<br />\n<pre><code data-type=\"\">/&lt;ref[^&gt;]*&gt;(.*?)&lt;\\/ref[^&gt;]*&gt;/g</code></pre>"},"citedBy":1,"replyTime":"2020-07-25T20:19:14.000Z","msg":"呢啲叫乜，想查嚟學<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2020-07-25T20:19:40.000Z","msg":"Regular expression / regex"},"citedBy":1,"replyTime":"2020-07-25T20:20:20.000Z","msg":"thx <img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},{"pid":"d782e7e338cadc3da7f1e0e675c52b8c85742c0d","tid":2124925,"uid":71237,"like":2,"dislike":0,"score":2,"citedBy":0,"replyTime":"2020-07-25T20:22:56.000Z","msg":"我訓覺先聽日再試<br />\n多謝咁多位巴打"},{"pid":"b09e9b3e6da06542b4df8b7dfd2145be8e68af5f","tid":2124925,"uid":199877,"like":0,"dislike":0,"score":0,"quote":{"pid":"f190342a6875b5e06d04e9e0ef69fc19a3346781","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"6ac939b459e45079901d8459c10dd92a34e48b0d","tid":2124925,"uid":283951,"like":0,"dislike":0,"score":0,"quote":{"pid":"d6a93c0c8bc414980ef0496275244d9aaa26d015","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T20:13:48.000Z","msg":"我明明打咗好多空格，但貼出嚟唔明顯，唯有貼圖<br />\n<img src=\"https://na.cx/i/eyvGqT9.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FeyvGqT9.png&h=858fb51c&s={SIZE}\" />"},"citedBy":1,"replyTime":"2020-07-25T20:15:21.000Z","msg":"會唔會有機會出現(中間d text有箭咀)<br />\n&lt;ref name=&quot;Test XX&quot;&gt;123 &gt; ABC&lt;/ref&gt;"},"citedBy":1,"replyTime":"2020-07-25T20:17:30.000Z","msg":"理論上可能存在，但實際上應該唔會出現。<br />\n<img src=\"/assets/faces/normal/fire.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2020-07-25T20:23:18.000Z","msg":"理論上會escape左個&lt;"},{"pid":"937188bd31b62acb8dabbc73865bbebf65a7ce00","tid":2124925,"uid":199877,"like":1,"dislike":1,"score":0,"quote":{"pid":"4f63f7c09946b8b61293948a35ff78c57f0928e6","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"3c73451ce86e9bcd440b3b0063c3d5dabf890a91","tid":2124925,"uid":10337,"like":0,"dislike":0,"score":0,"quote":{"pid":"e278f7c01cad9352949f42421a98b1947b6b893b","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T20:19:14.000Z","msg":"呢啲叫乜，想查嚟學<img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2020-07-25T20:19:40.000Z","msg":"Regular expression / regex"},"citedBy":1,"replyTime":"2020-07-25T20:20:20.000Z","msg":"thx <img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2020-07-25T20:24:04.000Z","msg":"基本上玩web scraping係必學regex"},{"pid":"0134a9ddb9228aaeda685741b1f613855728077e","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"937188bd31b62acb8dabbc73865bbebf65a7ce00","tid":2124925,"uid":199877,"like":1,"dislike":1,"score":0,"quote":{"pid":"4f63f7c09946b8b61293948a35ff78c57f0928e6","tid":2124925,"uid":66099,"like":0,"dislike":0,"score":0,"quote":{"pid":"3c73451ce86e9bcd440b3b0063c3d5dabf890a91","tid":2124925,"uid":10337,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T20:19:40.000Z","msg":"Regular expression / regex"},"citedBy":1,"replyTime":"2020-07-25T20:20:20.000Z","msg":"thx <img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/lm2/adore.gif\" class=\"hkgmoji\" />"},"citedBy":1,"replyTime":"2020-07-25T20:24:04.000Z","msg":"基本上玩web scraping係必學regex"},"citedBy":0,"replyTime":"2020-07-25T20:26:41.000Z","msg":"<img src=\"/assets/faces/normal/oh.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/oh.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/oh.gif\" class=\"hkgmoji\" />thx ching! ching 玩web scraping收data?想學，求指點起手"},{"pid":"b8d3d2861939e8586c3f7b03d05f3d0e1587e19c","tid":2124925,"uid":328267,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T20:41:10.000Z","msg":"var str = ''; //text to be proceed<br />\nvar tagStart = '&lt;ref&gt;';<br />\nvar tagEnd = '&lt;/ref&gt;';<br />\nvar resultList = [];<br />\nwhile (str.indexOf(tagStart) ) {<br />\n str = str.subStr(str.indexOf(tagStart) + tagStart.length)<br />\n resultList.push(str.subStr(0, str.indexOf(tagEnd)));<br />\n}<br />\n<br />\n用手機鳩寫，有需要自己再加validation check 嘢"},{"pid":"5d6f556bed401477e166a68a13d611037f2ae397","tid":2124925,"uid":5285,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T21:10:56.000Z","msg":"<code>\nlet regExp = /&lt;ref&gt;(.*?)&lt;\\/ref&gt;|&lt;ref\\s+[a-zA-Z]+\\s*=\\s*&quot;(.*?)&quot;\\s*\\&gt;*?&lt;\\/ref&gt;|&lt;ref\\s+[a-zA-Z]+\\s*=\\s*&quot;(.*?)&quot;\\s*\\/&gt;/g\n\nlet text = `&lt;ref&gt;123123&lt;/ref&gt;&lt;ref     attr     =     &quot;123123&quot;       &gt;&lt;/ref&gt;&lt;ref     attr     =     &quot;123123&quot;       /&gt;`\n</code><br />\n<a href=\"https://regex101.com/r/wUtdQZ/1\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fregex101.com%2Fr%2FwUtdQZ%2F1&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=a11214fc\" target=\"_blank\">https://regex101.com/r/wUtdQZ/1</a><br />\n應該可以match晒 3個case 連埋d space<br />\n拎返matched group就可以拎返中間d 123123 value出黎<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"c57b49740bf86b80a4c8979c27a7379ac6eb02cf","tid":2124925,"uid":5285,"like":0,"dislike":0,"score":0,"quote":{"pid":"5d6f556bed401477e166a68a13d611037f2ae397","tid":2124925,"uid":5285,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T21:10:56.000Z","msg":"<code>\nlet regExp = /&lt;ref&gt;(.*?)&lt;\\/ref&gt;|&lt;ref\\s+[a-zA-Z]+\\s*=\\s*&quot;(.*?)&quot;\\s*\\&gt;*?&lt;\\/ref&gt;|&lt;ref\\s+[a-zA-Z]+\\s*=\\s*&quot;(.*?)&quot;\\s*\\/&gt;/g\n\nlet text = `&lt;ref&gt;123123&lt;/ref&gt;&lt;ref     attr     =     &quot;123123&quot;       &gt;&lt;/ref&gt;&lt;ref     attr     =     &quot;123123&quot;       /&gt;`\n</code><br />\n<a href=\"https://regex101.com/r/wUtdQZ/1\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fregex101.com%2Fr%2FwUtdQZ%2F1&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=a11214fc\" target=\"_blank\">https://regex101.com/r/wUtdQZ/1</a><br />\n應該可以match晒 3個case 連埋d space<br />\n拎返matched group就可以拎返中間d 123123 value出黎<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},"citedBy":0,"replyTime":"2020-07-25T21:14:16.000Z","msg":"<pre><code data-type=\"\">let regExp = /&lt;ref&gt;(.*?)&lt;\\/ref&gt;|&lt;ref\\s+[a-zA-Z]+\\s*=\\s*&quot;(.*?)&quot;\\s*\\&gt;*?&lt;\\/ref&gt;|&lt;ref\\s+[a-zA-Z]+\\s*=\\s*&quot;(.*?)&quot;\\s*\\/&gt;/g \n\nlet text = `&lt;ref&gt;123123&lt;/ref&gt;&lt;ref attr = &quot;123123&quot; &gt;&lt;/ref&gt;&lt;ref attr = &quot;123123&quot; /&gt;`</code></pre>"},{"pid":"9d51b3be9e1c7453ea14a86438b08801816861fc","tid":2124925,"uid":23953,"like":3,"dislike":0,"score":3,"citedBy":1,"replyTime":"2020-07-26T01:38:19.000Z","msg":"You can't parse [X]HTML with regex. Because HTML can't be parsed by regex. Regex is not a tool that can be used to correctly parse HTML. As I have answered in HTML-and-regex questions here so many times before, the use of regex will not allow you to consume HTML. Regular expressions are a tool that is insufficiently sophisticated to understand the constructs employed by HTML. HTML is not a regular language and hence cannot be parsed by regular expressions. Regex queries are not equipped to break down HTML into its meaningful parts. so many times but it is not getting to me. Even enhanced irregular regular expressions as used by Perl are not up to the task of parsing HTML. You will never make me crack. HTML is a language of sufficient complexity that it cannot be parsed by regular expressions. Even Jon Skeet cannot parse HTML using regular expressions. Every time you attempt to parse HTML with regular expressions, the unholy child weeps the blood of virgins, and Russian hackers pwn your webapp. Parsing HTML with regex summons tainted souls into the realm of the living. HTML and regex go together like love, marriage, and ritual infanticide. The &lt;center&gt; cannot hold it is too late. The force of regex and HTML together in the same conceptual space will destroy your mind like so much watery putty. If you parse HTML with regex you are giving in to Them and their blasphemous ways which doom us all to inhuman toil for the One whose Name cannot be expressed in the Basic Multilingual Plane, he comes. HTML-plus-regexp will liquify the n​erves of the sentient whilst you observe, your psyche withering in the onslaught of horror. Rege̿̔̉x-based HTML parsers are the cancer that is killing StackOverflow it is too late it is too late we cannot be saved the trangession of a chi͡ld ensures regex will consume all living tissue (except for HTML which it cannot, as previously prophesied) dear lord help us how can anyone survive this scourge using regex to parse HTML has doomed humanity to an eternity of dread torture and security holes using regex as a tool to process HTML establishes a breach between this world and the dread realm of c͒ͪo͛ͫrrupt entities (like SGML entities, but more corrupt) a mere glimpse of the world of reg​ex parsers for HTML will ins​tantly transport a programmer's consciousness into a world of ceaseless screaming, he comes, the pestilent slithy regex-infection wil​l devour your HT​ML parser, application and existence for all time like Visual Basic only worse he comes he comes do not fi​ght he com̡e̶s, ̕h̵i​s un̨ho͞ly radiańcé destro҉ying all enli̍̈́̂̈́ghtenment, HTML tags lea͠ki̧n͘g fr̶ǫm ̡yo​͟ur eye͢s̸ ̛l̕ik͏e liq​uid pain, the song of re̸gular exp​ression parsing will exti​nguish the voices of mor​tal man from the sp​here I can see it can you see ̲͚̖͔̙î̩́t̲͎̩̱͔́̋̀ it is beautiful t​he final snuffing of the lie​s of Man ALL IS LOŚ͖̩͇̗̪̏̈́T ALL I​S LOST the pon̷y he comes he c̶̮omes he comes the ich​or permeates all MY FACE MY FACE ᵒh god no NO NOO̼O​O N&Theta; stop the an​*̶͑̾̾​̅ͫ͏̙̤g͇̫͛͆̾ͫ̑͆l͖͉̗̩̳̟̍ͫͥͨe̠̅s ͎a̧͈͖r̽̾̈́͒͑e n​ot rè̑ͧ̌aͨl̘̝̙̃ͤ͂̾̆ ZA̡͊͠͝LGΌ ISͮ̂҉̯͈͕̹̘̱ TO͇̹̺ͅƝ̴ȳ̳ TH̘Ë͖́̉ ͠P̯͍̭O̚​N̐Y̡ H̸̡̪̯ͨ͊̽̅̾̎Ȩ̬̩̾͛ͪ̈́̀́͘ ̶̧̨̱̹̭̯ͧ̾ͬC̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝S̨̥̫͎̭ͯ̿̔̀ͅ<br />\n<br />\nHave you tried using an XML parser instead?"},{"pid":"650c971559cb81e9154f4bee588f4d9cdfa94176","tid":2124925,"uid":23953,"like":0,"dislike":0,"score":0,"quote":{"pid":"9d51b3be9e1c7453ea14a86438b08801816861fc","tid":2124925,"uid":23953,"like":3,"dislike":0,"score":3,"citedBy":1,"replyTime":"2020-07-26T01:38:19.000Z","msg":"You can't parse [X]HTML with regex. Because HTML can't be parsed by regex. Regex is not a tool that can be used to correctly parse HTML. As I have answered in HTML-and-regex questions here so many times before, the use of regex will not allow you to consume HTML. Regular expressions are a tool that is insufficiently sophisticated to understand the constructs employed by HTML. HTML is not a regular language and hence cannot be parsed by regular expressions. Regex queries are not equipped to break down HTML into its meaningful parts. so many times but it is not getting to me. Even enhanced irregular regular expressions as used by Perl are not up to the task of parsing HTML. You will never make me crack. HTML is a language of sufficient complexity that it cannot be parsed by regular expressions. Even Jon Skeet cannot parse HTML using regular expressions. Every time you attempt to parse HTML with regular expressions, the unholy child weeps the blood of virgins, and Russian hackers pwn your webapp. Parsing HTML with regex summons tainted souls into the realm of the living. HTML and regex go together like love, marriage, and ritual infanticide. The &lt;center&gt; cannot hold it is too late. The force of regex and HTML together in the same conceptual space will destroy your mind like so much watery putty. If you parse HTML with regex you are giving in to Them and their blasphemous ways which doom us all to inhuman toil for the One whose Name cannot be expressed in the Basic Multilingual Plane, he comes. HTML-plus-regexp will liquify the n​erves of the sentient whilst you observe, your psyche withering in the onslaught of horror. Rege̿̔̉x-based HTML parsers are the cancer that is killing StackOverflow it is too late it is too late we cannot be saved the trangession of a chi͡ld ensures regex will consume all living tissue (except for HTML which it cannot, as previously prophesied) dear lord help us how can anyone survive this scourge using regex to parse HTML has doomed humanity to an eternity of dread torture and security holes using regex as a tool to process HTML establishes a breach between this world and the dread realm of c͒ͪo͛ͫrrupt entities (like SGML entities, but more corrupt) a mere glimpse of the world of reg​ex parsers for HTML will ins​tantly transport a programmer's consciousness into a world of ceaseless screaming, he comes, the pestilent slithy regex-infection wil​l devour your HT​ML parser, application and existence for all time like Visual Basic only worse he comes he comes do not fi​ght he com̡e̶s, ̕h̵i​s un̨ho͞ly radiańcé destro҉ying all enli̍̈́̂̈́ghtenment, HTML tags lea͠ki̧n͘g fr̶ǫm ̡yo​͟ur eye͢s̸ ̛l̕ik͏e liq​uid pain, the song of re̸gular exp​ression parsing will exti​nguish the voices of mor​tal man from the sp​here I can see it can you see ̲͚̖͔̙î̩́t̲͎̩̱͔́̋̀ it is beautiful t​he final snuffing of the lie​s of Man ALL IS LOŚ͖̩͇̗̪̏̈́T ALL I​S LOST the pon̷y he comes he c̶̮omes he comes the ich​or permeates all MY FACE MY FACE ᵒh god no NO NOO̼O​O N&Theta; stop the an​*̶͑̾̾​̅ͫ͏̙̤g͇̫͛͆̾ͫ̑͆l͖͉̗̩̳̟̍ͫͥͨe̠̅s ͎a̧͈͖r̽̾̈́͒͑e n​ot rè̑ͧ̌aͨl̘̝̙̃ͤ͂̾̆ ZA̡͊͠͝LGΌ ISͮ̂҉̯͈͕̹̘̱ TO͇̹̺ͅƝ̴ȳ̳ TH̘Ë͖́̉ ͠P̯͍̭O̚​N̐Y̡ H̸̡̪̯ͨ͊̽̅̾̎Ȩ̬̩̾͛ͪ̈́̀́͘ ̶̧̨̱̹̭̯ͧ̾ͬC̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝S̨̥̫͎̭ͯ̿̔̀ͅ<br />\n<br />\nHave you tried using an XML parser instead?"},"citedBy":0,"replyTime":"2020-07-26T01:47:30.000Z","msg":"<a href=\"https://m.mediawiki.org/wiki/Alternative_parsers\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fm.mediawiki.org%2Fwiki%2FAlternative_parsers&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=231d7bb6\" target=\"_blank\">https://m.mediawiki.org/wiki/Alternative_parsers</a><br />\n有冇試過wiki text parser?"},{"pid":"9189347c2213eebdfe55503ccad8853064e0b9c3","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-26T01:48:10.000Z","msg":"<a href=\"https://docs.python.org/3/library/html.parser.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdocs.python.org%2F3%2Flibrary%2Fhtml.parser.html&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=5c566eac\" data-auto-link target=\"_blank\">https://docs.python.org/3/library/html.parser.html</a><br />\n<br />\nPython 有builtin library 可以用<br />\n我諗其他language 都應該有"},{"pid":"26c8a8127870a94ef58d83c19ee16562f3eeef6c","tid":2124925,"uid":106027,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-26T02:22:03.000Z","msg":"理論上regex parse 唔曬html<br />\n但預知個context係點 好多情況都夠做"},{"pid":"63a78bfbbed6fde64992c308f29d6a47baf58883","tid":2124925,"uid":50526,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-26T03:04:26.000Z","msg":"用 DOMParser<br />\n<code>let xml = `&lt;xyz&gt;XXXXXXXXXX&lt;ref&gt;111111111&lt;/ref&gt;XXXXXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXXXX&lt;ref name=&quot;Test&quot;&gt;33333333&lt;/ref&gt;XXXXXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXXXXX&lt;/xyz&gt;`; // &lt;xyz&gt; is the root element of XML\n\nlet parser = new DOMParser();\nlet doc = parser.parseFromString(xml, &quot;text/xml&quot;);\nlet refTag = doc.querySelectorAll('ref');\n\nfor (let a of refTag) {\n  console.log(a.textContent);\n}\n</code>"},{"pid":"c64d3452ba02a412a194b4ac09518ba39d0bcebc","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"1df8af06ca236e60495db9c7efbbc325b96f534f","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"d372d14472b411a0bbac895f6a1ea3e852ebd33b","tid":2124925,"uid":199877,"like":0,"dislike":0,"score":0,"quote":{"pid":"25b70b1502bc2236c019e13a67f15026bd3859f4","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2020-07-25T20:09:55.000Z","msg":"&lt;ref name=&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =&quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot;&gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref&gt;<br />\n&lt;ref name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref    &gt;<br />\n&lt;ref   name  =  &quot;Test XX&quot; &gt;123 ABC&lt;/ref   &gt;<br />\n<br />\n關於Case 2我諗到依6個例子，Expected output都係123 ABC。"},"citedBy":1,"replyTime":"2020-07-25T20:10:38.000Z","msg":"樓主睇睇<br />\n<br />\n<a href=\"https://regex101.com/r/IMgSt5/1\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fregex101.com%2Fr%2FIMgSt5%2F1&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=a124bf09\" data-auto-link target=\"_blank\">https://regex101.com/r/IMgSt5/1</a>"},"citedBy":1,"replyTime":"2020-07-25T20:15:26.000Z","msg":"感激不盡 <img src=\"/assets/faces/normal/adore.gif\" class=\"hkgmoji\" /><br />\n我聽日試下"},"citedBy":0,"replyTime":"2020-07-26T12:45:40.000Z","msg":"我唔熟regex唔知有冇整錯。巴打條regex應該work，但出嚟結果又唔同。<br />\n<img src=\"https://na.cx/i/AMNhPaL.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FAMNhPaL.png&h=b14f8c0a&s={SIZE}\" /><br />\n<br />\n如果喺Input輸入：XXXXXXXXXX&lt;ref&gt;111111111&lt;/ref&gt;XXXXXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXXXX&lt;ref name=&quot;Test&quot;&gt;33333333&lt;/ref&gt;XXXXXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXXXXX<br />\n<br />\nOutput就係：&lt;ref&gt;111111111&lt;/ref&gt;,111111111 <br />\n但Expected output應該係111111111,222 22,33333333<br />\n<br />\nHTML file<br />\n<a href=\"https://drive.google.com/file/d/1aeal1wXK2HdcSlblFXrkI1l3H3fBTrlS/view?usp=sharing\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdrive.google.com%2Ffile%2Fd%2F1aeal1wXK2HdcSlblFXrkI1l3H3fBTrlS%2Fview%3Fusp%3Dsharing&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=7affb547\" target=\"_blank\">https://drive.google.com/file/d/1aeal1wXK2HdcSlblFXrkI1l3H3fBTrlS/view?usp=sharing</a>"},{"pid":"9359ed07932942e5b8aea4a0eb26c202b8740a33","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-26T14:43:50.000Z","msg":"<pre><code data-type=\"\">function main(){\n    var input = document.getElementsByName(&quot;input&quot;)[0].value;\n    const regex = /&lt;\\s*ref\\s*[^&gt;]*?&gt;([^&lt;]+)&lt;\\s*\\/ref\\s*&gt;/g; \n    var output = [...input.matchAll(regex)].map(groups =&gt; groups[1]).join(&quot;,&quot;);\n    document.getElementsByName(&quot;output&quot;)[0].value = output; \n}</code></pre>"},{"pid":"ab71dee1c1b124beb1404d224c33e1184989742b","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"quote":{"pid":"9359ed07932942e5b8aea4a0eb26c202b8740a33","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-26T14:43:50.000Z","msg":"<pre><code data-type=\"\">function main(){\n    var input = document.getElementsByName(&quot;input&quot;)[0].value;\n    const regex = /&lt;\\s*ref\\s*[^&gt;]*?&gt;([^&lt;]+)&lt;\\s*\\/ref\\s*&gt;/g; \n    var output = [...input.matchAll(regex)].map(groups =&gt; groups[1]).join(&quot;,&quot;);\n    document.getElementsByName(&quot;output&quot;)[0].value = output; \n}</code></pre>"},"citedBy":2,"replyTime":"2020-07-26T14:44:47.000Z","msg":"<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FString%2FmatchAll&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=69bdb883\" data-auto-link target=\"_blank\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll</a>"},{"pid":"923cb1e3b19cb4a42e7b8254da0185ea47fbecde","tid":2124925,"uid":34217,"like":0,"dislike":0,"score":0,"quote":{"pid":"b8d3d2861939e8586c3f7b03d05f3d0e1587e19c","tid":2124925,"uid":328267,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T20:41:10.000Z","msg":"var str = ''; //text to be proceed<br />\nvar tagStart = '&lt;ref&gt;';<br />\nvar tagEnd = '&lt;/ref&gt;';<br />\nvar resultList = [];<br />\nwhile (str.indexOf(tagStart) ) {<br />\n str = str.subStr(str.indexOf(tagStart) + tagStart.length)<br />\n resultList.push(str.subStr(0, str.indexOf(tagEnd)));<br />\n}<br />\n<br />\n用手機鳩寫，有需要自己再加validation check 嘢"},"citedBy":1,"replyTime":"2020-07-26T14:47:44.000Z","msg":"wrong la<br />\n<br />\nvar str = ''; //text to be proceed<br />\n<span class=\"red\">var tagStart = '&lt;ref';</span><br />\nvar tagEnd = '&lt;/ref&gt;';<br />\nvar resultList = [];<br />\nwhile (str.indexOf(tagStart)&gt;0) {<br />\n  str = str.substr(str.indexOf(tagStart) + tagStart.length)<br />\n  <span class=\"red\">str = str.substr(str.indexOf('&gt;') + 1)</span><br />\n  resultList.push(str.substr(0, str.indexOf(tagEnd)));<br />\n}"},{"pid":"bf40d580014dbcef3b2e4381eb752287477c00d2","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"ab71dee1c1b124beb1404d224c33e1184989742b","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"quote":{"pid":"9359ed07932942e5b8aea4a0eb26c202b8740a33","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-26T14:43:50.000Z","msg":"<pre><code data-type=\"\">function main(){\n    var input = document.getElementsByName(&quot;input&quot;)[0].value;\n    const regex = /&lt;\\s*ref\\s*[^&gt;]*?&gt;([^&lt;]+)&lt;\\s*\\/ref\\s*&gt;/g; \n    var output = [...input.matchAll(regex)].map(groups =&gt; groups[1]).join(&quot;,&quot;);\n    document.getElementsByName(&quot;output&quot;)[0].value = output; \n}</code></pre>"},"citedBy":2,"replyTime":"2020-07-26T14:44:47.000Z","msg":"<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FString%2FmatchAll&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=69bdb883\" data-auto-link target=\"_blank\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll</a>"},"citedBy":1,"replyTime":"2020-07-26T14:49:58.000Z","msg":"Thanks，成功咗啦<br />\n多謝各位巴打，而家我可以進入下一步"},{"pid":"447303dc6f386c45296828c8a0c71ba7b6558c32","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"quote":{"pid":"bf40d580014dbcef3b2e4381eb752287477c00d2","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"ab71dee1c1b124beb1404d224c33e1184989742b","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"quote":{"pid":"9359ed07932942e5b8aea4a0eb26c202b8740a33","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-26T14:43:50.000Z","msg":"<pre><code data-type=\"\">function main(){\n    var input = document.getElementsByName(&quot;input&quot;)[0].value;\n    const regex = /&lt;\\s*ref\\s*[^&gt;]*?&gt;([^&lt;]+)&lt;\\s*\\/ref\\s*&gt;/g; \n    var output = [...input.matchAll(regex)].map(groups =&gt; groups[1]).join(&quot;,&quot;);\n    document.getElementsByName(&quot;output&quot;)[0].value = output; \n}</code></pre>"},"citedBy":2,"replyTime":"2020-07-26T14:44:47.000Z","msg":"<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FString%2FmatchAll&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=69bdb883\" data-auto-link target=\"_blank\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll</a>"},"citedBy":1,"replyTime":"2020-07-26T14:49:58.000Z","msg":"Thanks，成功咗啦<br />\n多謝各位巴打，而家我可以進入下一步"},"citedBy":1,"replyTime":"2020-07-26T15:00:39.000Z","msg":"其實你係咪想寫bookmarklet<br />\nbookmarklet 都可以call library"},{"pid":"138f820c80af093b032d4a2d1dff4d5d7557f505","tid":2124925,"uid":328267,"like":0,"dislike":0,"score":0,"quote":{"pid":"923cb1e3b19cb4a42e7b8254da0185ea47fbecde","tid":2124925,"uid":34217,"like":0,"dislike":0,"score":0,"quote":{"pid":"b8d3d2861939e8586c3f7b03d05f3d0e1587e19c","tid":2124925,"uid":328267,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-25T20:41:10.000Z","msg":"var str = ''; //text to be proceed<br />\nvar tagStart = '&lt;ref&gt;';<br />\nvar tagEnd = '&lt;/ref&gt;';<br />\nvar resultList = [];<br />\nwhile (str.indexOf(tagStart) ) {<br />\n str = str.subStr(str.indexOf(tagStart) + tagStart.length)<br />\n resultList.push(str.subStr(0, str.indexOf(tagEnd)));<br />\n}<br />\n<br />\n用手機鳩寫，有需要自己再加validation check 嘢"},"citedBy":1,"replyTime":"2020-07-26T14:47:44.000Z","msg":"wrong la<br />\n<br />\nvar str = ''; //text to be proceed<br />\n<span class=\"red\">var tagStart = '&lt;ref';</span><br />\nvar tagEnd = '&lt;/ref&gt;';<br />\nvar resultList = [];<br />\nwhile (str.indexOf(tagStart)&gt;0) {<br />\n  str = str.substr(str.indexOf(tagStart) + tagStart.length)<br />\n  <span class=\"red\">str = str.substr(str.indexOf('&gt;') + 1)</span><br />\n  resultList.push(str.substr(0, str.indexOf(tagEnd)));<br />\n}"},"citedBy":0,"replyTime":"2020-07-26T15:09:09.000Z","msg":"u2 <br />\n<br />\n&gt;="},{"pid":"33dc4639b8f643df195072f44f688f1d2fb1bce1","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"447303dc6f386c45296828c8a0c71ba7b6558c32","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"quote":{"pid":"bf40d580014dbcef3b2e4381eb752287477c00d2","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"ab71dee1c1b124beb1404d224c33e1184989742b","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":2,"replyTime":"2020-07-26T14:44:47.000Z","msg":"<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FString%2FmatchAll&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=69bdb883\" data-auto-link target=\"_blank\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll</a>"},"citedBy":1,"replyTime":"2020-07-26T14:49:58.000Z","msg":"Thanks，成功咗啦<br />\n多謝各位巴打，而家我可以進入下一步"},"citedBy":1,"replyTime":"2020-07-26T15:00:39.000Z","msg":"其實你係咪想寫bookmarklet<br />\nbookmarklet 都可以call library"},"citedBy":1,"replyTime":"2020-07-26T15:14:01.000Z","msg":"我想寫一個工具去幫維基百科的資料來源補足返需要的參數。<br />\n我而家搞掂咗認&lt;ref&gt;&lt;/ref&gt;同埋喺網址fetch data<br />\n跟住就要諗下點read&lt;ref&gt; tag入面的參數，同埋點樣replace結果落去。<br />\n<br />\nInput：<br />\n選舉主任蔡敏君要求黃之鋒回答多條問題。&lt;ref&gt;<a href=\"https://hk.appledaily.com/local/20200726/V7ZLLPFUYFD2HI7PKKL2SZWU3U/&lt;/ref&gt;公民黨鄭達鴻回覆選舉主任，表示無意尋求外國制裁香港。&lt;ref&gt;{{Cite\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FV7ZLLPFUYFD2HI7PKKL2SZWU3U%2F%3C%2Fref%3E%E5%85%AC%E6%B0%91%E9%BB%A8%E9%84%AD%E9%81%94%E9%B4%BB%E5%9B%9E%E8%A6%86%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB%EF%BC%8C%E8%A1%A8%E7%A4%BA%E7%84%A1%E6%84%8F%E5%B0%8B%E6%B1%82%E5%A4%96%E5%9C%8B%E5%88%B6%E8%A3%81%E9%A6%99%E6%B8%AF%E3%80%82%3Cref%3E%7B%7BCite&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=5db95814\" data-ef-url=\"https://embed.lih.kg/frame?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FV7ZLLPFUYFD2HI7PKKL2SZWU3U%2F%3C%2Fref%3E%E5%85%AC%E6%B0%91%E9%BB%A8%E9%84%AD%E9%81%94%E9%B4%BB%E5%9B%9E%E8%A6%86%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB%EF%BC%8C%E8%A1%A8%E7%A4%BA%E7%84%A1%E6%84%8F%E5%B0%8B%E6%B1%82%E5%A4%96%E5%9C%8B%E5%88%B6%E8%A3%81%E9%A6%99%E6%B8%AF%E3%80%82%3Cref%3E%7B%7BCite&h=c104dbb9\" data-auto-link target=\"_blank\">https://hk.appledaily.com/local/20200726/V7ZLLPFUYFD2HI7PKKL2SZWU3U/&lt;/ref&gt;公民黨鄭達鴻回覆選舉主任，表示無意尋求外國制裁香港。&lt;ref&gt;{{Cite</a> web|url=<a href=\"https://hk.appledaily.com/local/20200726/FKMHUBPMC4FPPZLZ52QGLYRZQU/|title=【立法會選舉】公民黨覆信選舉主任\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FFKMHUBPMC4FPPZLZ52QGLYRZQU%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91%E5%85%AC%E6%B0%91%E9%BB%A8%E8%A6%86%E4%BF%A1%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=48a999e8\" data-ef-url=\"https://embed.lih.kg/frame?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FFKMHUBPMC4FPPZLZ52QGLYRZQU%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91%E5%85%AC%E6%B0%91%E9%BB%A8%E8%A6%86%E4%BF%A1%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB&h=c90714d6\" data-auto-link target=\"_blank\">https://hk.appledaily.com/local/20200726/FKMHUBPMC4FPPZLZ52QGLYRZQU/|title=【立法會選舉】公民黨覆信選舉主任</a> 表明無意尋求外國制裁香港||work=蘋果日報}}&lt;/ref&gt;<br />\n<br />\nExpected output：選舉主任蔡敏君要求黃之鋒回答多條問題。&lt;ref&gt;{{Cite web|url=<a href=\"https://hk.appledaily.com/local/20200726/V7ZLLPFUYFD2HI7PKKL2SZWU3U/|title=【立法會選舉】DQ主任7問黃之鋒\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FV7ZLLPFUYFD2HI7PKKL2SZWU3U%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91DQ%E4%B8%BB%E4%BB%BB7%E5%95%8F%E9%BB%83%E4%B9%8B%E9%8B%92&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=6577085d\" data-ef-url=\"https://embed.lih.kg/frame?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FV7ZLLPFUYFD2HI7PKKL2SZWU3U%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91DQ%E4%B8%BB%E4%BB%BB7%E5%95%8F%E9%BB%83%E4%B9%8B%E9%8B%92&h=4ce7417f\" data-auto-link target=\"_blank\">https://hk.appledaily.com/local/20200726/V7ZLLPFUYFD2HI7PKKL2SZWU3U/|title=【立法會選舉】DQ主任7問黃之鋒</a> 詳列fb帖質疑圖借議員職權游說國際干涉中港|date=2020-07-26|work=蘋果日報 (香港)|accessdate=2020-07-26}}&lt;/ref&gt;公民黨鄭達鴻回覆選舉主任，表示無意尋求外國制裁香港。&lt;ref&gt;{{Cite web|url=<a href=\"https://hk.appledaily.com/local/20200726/FKMHUBPMC4FPPZLZ52QGLYRZQU/|title=【立法會選舉】公民黨覆信選舉主任\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FFKMHUBPMC4FPPZLZ52QGLYRZQU%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91%E5%85%AC%E6%B0%91%E9%BB%A8%E8%A6%86%E4%BF%A1%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=48a999e8\" data-ef-url=\"https://embed.lih.kg/frame?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FFKMHUBPMC4FPPZLZ52QGLYRZQU%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91%E5%85%AC%E6%B0%91%E9%BB%A8%E8%A6%86%E4%BF%A1%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB&h=c90714d6\" data-auto-link target=\"_blank\">https://hk.appledaily.com/local/20200726/FKMHUBPMC4FPPZLZ52QGLYRZQU/|title=【立法會選舉】公民黨覆信選舉主任</a> 表明無意尋求外國制裁香港|date=2020-07-26|work=蘋果日報 (香港)|accessdate=2020-07-26}}&lt;/ref&gt;"},{"pid":"c4d68c4e92c6e6d7475aa1d5bc1f230f048db0de","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"quote":{"pid":"33dc4639b8f643df195072f44f688f1d2fb1bce1","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"447303dc6f386c45296828c8a0c71ba7b6558c32","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"quote":{"pid":"bf40d580014dbcef3b2e4381eb752287477c00d2","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-26T14:49:58.000Z","msg":"Thanks，成功咗啦<br />\n多謝各位巴打，而家我可以進入下一步"},"citedBy":1,"replyTime":"2020-07-26T15:00:39.000Z","msg":"其實你係咪想寫bookmarklet<br />\nbookmarklet 都可以call library"},"citedBy":1,"replyTime":"2020-07-26T15:14:01.000Z","msg":"我想寫一個工具去幫維基百科的資料來源補足返需要的參數。<br />\n我而家搞掂咗認&lt;ref&gt;&lt;/ref&gt;同埋喺網址fetch data<br />\n跟住就要諗下點read&lt;ref&gt; tag入面的參數，同埋點樣replace結果落去。<br />\n<br />\nInput：<br />\n選舉主任蔡敏君要求黃之鋒回答多條問題。&lt;ref&gt;<a href=\"https://hk.appledaily.com/local/20200726/V7ZLLPFUYFD2HI7PKKL2SZWU3U/&lt;/ref&gt;公民黨鄭達鴻回覆選舉主任，表示無意尋求外國制裁香港。&lt;ref&gt;{{Cite\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FV7ZLLPFUYFD2HI7PKKL2SZWU3U%2F%3C%2Fref%3E%E5%85%AC%E6%B0%91%E9%BB%A8%E9%84%AD%E9%81%94%E9%B4%BB%E5%9B%9E%E8%A6%86%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB%EF%BC%8C%E8%A1%A8%E7%A4%BA%E7%84%A1%E6%84%8F%E5%B0%8B%E6%B1%82%E5%A4%96%E5%9C%8B%E5%88%B6%E8%A3%81%E9%A6%99%E6%B8%AF%E3%80%82%3Cref%3E%7B%7BCite&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=5db95814\" data-ef-url=\"https://embed.lih.kg/frame?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FV7ZLLPFUYFD2HI7PKKL2SZWU3U%2F%3C%2Fref%3E%E5%85%AC%E6%B0%91%E9%BB%A8%E9%84%AD%E9%81%94%E9%B4%BB%E5%9B%9E%E8%A6%86%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB%EF%BC%8C%E8%A1%A8%E7%A4%BA%E7%84%A1%E6%84%8F%E5%B0%8B%E6%B1%82%E5%A4%96%E5%9C%8B%E5%88%B6%E8%A3%81%E9%A6%99%E6%B8%AF%E3%80%82%3Cref%3E%7B%7BCite&h=c104dbb9\" data-auto-link target=\"_blank\">https://hk.appledaily.com/local/20200726/V7ZLLPFUYFD2HI7PKKL2SZWU3U/&lt;/ref&gt;公民黨鄭達鴻回覆選舉主任，表示無意尋求外國制裁香港。&lt;ref&gt;{{Cite</a> web|url=<a href=\"https://hk.appledaily.com/local/20200726/FKMHUBPMC4FPPZLZ52QGLYRZQU/|title=【立法會選舉】公民黨覆信選舉主任\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FFKMHUBPMC4FPPZLZ52QGLYRZQU%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91%E5%85%AC%E6%B0%91%E9%BB%A8%E8%A6%86%E4%BF%A1%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=48a999e8\" data-ef-url=\"https://embed.lih.kg/frame?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FFKMHUBPMC4FPPZLZ52QGLYRZQU%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91%E5%85%AC%E6%B0%91%E9%BB%A8%E8%A6%86%E4%BF%A1%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB&h=c90714d6\" data-auto-link target=\"_blank\">https://hk.appledaily.com/local/20200726/FKMHUBPMC4FPPZLZ52QGLYRZQU/|title=【立法會選舉】公民黨覆信選舉主任</a> 表明無意尋求外國制裁香港||work=蘋果日報}}&lt;/ref&gt;<br />\n<br />\nExpected output：選舉主任蔡敏君要求黃之鋒回答多條問題。&lt;ref&gt;{{Cite web|url=<a href=\"https://hk.appledaily.com/local/20200726/V7ZLLPFUYFD2HI7PKKL2SZWU3U/|title=【立法會選舉】DQ主任7問黃之鋒\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FV7ZLLPFUYFD2HI7PKKL2SZWU3U%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91DQ%E4%B8%BB%E4%BB%BB7%E5%95%8F%E9%BB%83%E4%B9%8B%E9%8B%92&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=6577085d\" data-ef-url=\"https://embed.lih.kg/frame?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FV7ZLLPFUYFD2HI7PKKL2SZWU3U%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91DQ%E4%B8%BB%E4%BB%BB7%E5%95%8F%E9%BB%83%E4%B9%8B%E9%8B%92&h=4ce7417f\" data-auto-link target=\"_blank\">https://hk.appledaily.com/local/20200726/V7ZLLPFUYFD2HI7PKKL2SZWU3U/|title=【立法會選舉】DQ主任7問黃之鋒</a> 詳列fb帖質疑圖借議員職權游說國際干涉中港|date=2020-07-26|work=蘋果日報 (香港)|accessdate=2020-07-26}}&lt;/ref&gt;公民黨鄭達鴻回覆選舉主任，表示無意尋求外國制裁香港。&lt;ref&gt;{{Cite web|url=<a href=\"https://hk.appledaily.com/local/20200726/FKMHUBPMC4FPPZLZ52QGLYRZQU/|title=【立法會選舉】公民黨覆信選舉主任\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FFKMHUBPMC4FPPZLZ52QGLYRZQU%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91%E5%85%AC%E6%B0%91%E9%BB%A8%E8%A6%86%E4%BF%A1%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=48a999e8\" data-ef-url=\"https://embed.lih.kg/frame?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FFKMHUBPMC4FPPZLZ52QGLYRZQU%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91%E5%85%AC%E6%B0%91%E9%BB%A8%E8%A6%86%E4%BF%A1%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB&h=c90714d6\" data-auto-link target=\"_blank\">https://hk.appledaily.com/local/20200726/FKMHUBPMC4FPPZLZ52QGLYRZQU/|title=【立法會選舉】公民黨覆信選舉主任</a> 表明無意尋求外國制裁香港|date=2020-07-26|work=蘋果日報 (香港)|accessdate=2020-07-26}}&lt;/ref&gt;"},"citedBy":1,"replyTime":"2020-07-27T00:57:14.000Z","msg":"javascript builtin左個DOMParser 可以用嚟處理HTML parsing<br />\n未必需要自己由零開始寫個parser<br />\n<br />\n但html parser 唔係好support custom self-closing tags，例如&lt;ref /&gt;12345會夾硬interpret 做&lt;ref&gt;12345&lt;/ref&gt;<br />\n所以要事前用regex將堆self closing tags加返個真closing tag<br />\n<br />\n<a href=\"https://pastebin.com/4VQS1iVc\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fpastebin.com%2F4VQS1iVc&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=dc2dc6b9\" data-auto-link target=\"_blank\">https://pastebin.com/4VQS1iVc</a>"},{"pid":"079d8475f83ed807b6a1831b431d59c7d40d4489","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"c4d68c4e92c6e6d7475aa1d5bc1f230f048db0de","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"quote":{"pid":"33dc4639b8f643df195072f44f688f1d2fb1bce1","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"447303dc6f386c45296828c8a0c71ba7b6558c32","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-26T15:00:39.000Z","msg":"其實你係咪想寫bookmarklet<br />\nbookmarklet 都可以call library"},"citedBy":1,"replyTime":"2020-07-26T15:14:01.000Z","msg":"我想寫一個工具去幫維基百科的資料來源補足返需要的參數。<br />\n我而家搞掂咗認&lt;ref&gt;&lt;/ref&gt;同埋喺網址fetch data<br />\n跟住就要諗下點read&lt;ref&gt; tag入面的參數，同埋點樣replace結果落去。<br />\n<br />\nInput：<br />\n選舉主任蔡敏君要求黃之鋒回答多條問題。&lt;ref&gt;<a href=\"https://hk.appledaily.com/local/20200726/V7ZLLPFUYFD2HI7PKKL2SZWU3U/&lt;/ref&gt;公民黨鄭達鴻回覆選舉主任，表示無意尋求外國制裁香港。&lt;ref&gt;{{Cite\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FV7ZLLPFUYFD2HI7PKKL2SZWU3U%2F%3C%2Fref%3E%E5%85%AC%E6%B0%91%E9%BB%A8%E9%84%AD%E9%81%94%E9%B4%BB%E5%9B%9E%E8%A6%86%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB%EF%BC%8C%E8%A1%A8%E7%A4%BA%E7%84%A1%E6%84%8F%E5%B0%8B%E6%B1%82%E5%A4%96%E5%9C%8B%E5%88%B6%E8%A3%81%E9%A6%99%E6%B8%AF%E3%80%82%3Cref%3E%7B%7BCite&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=5db95814\" data-ef-url=\"https://embed.lih.kg/frame?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FV7ZLLPFUYFD2HI7PKKL2SZWU3U%2F%3C%2Fref%3E%E5%85%AC%E6%B0%91%E9%BB%A8%E9%84%AD%E9%81%94%E9%B4%BB%E5%9B%9E%E8%A6%86%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB%EF%BC%8C%E8%A1%A8%E7%A4%BA%E7%84%A1%E6%84%8F%E5%B0%8B%E6%B1%82%E5%A4%96%E5%9C%8B%E5%88%B6%E8%A3%81%E9%A6%99%E6%B8%AF%E3%80%82%3Cref%3E%7B%7BCite&h=c104dbb9\" data-auto-link target=\"_blank\">https://hk.appledaily.com/local/20200726/V7ZLLPFUYFD2HI7PKKL2SZWU3U/&lt;/ref&gt;公民黨鄭達鴻回覆選舉主任，表示無意尋求外國制裁香港。&lt;ref&gt;{{Cite</a> web|url=<a href=\"https://hk.appledaily.com/local/20200726/FKMHUBPMC4FPPZLZ52QGLYRZQU/|title=【立法會選舉】公民黨覆信選舉主任\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FFKMHUBPMC4FPPZLZ52QGLYRZQU%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91%E5%85%AC%E6%B0%91%E9%BB%A8%E8%A6%86%E4%BF%A1%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=48a999e8\" data-ef-url=\"https://embed.lih.kg/frame?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FFKMHUBPMC4FPPZLZ52QGLYRZQU%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91%E5%85%AC%E6%B0%91%E9%BB%A8%E8%A6%86%E4%BF%A1%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB&h=c90714d6\" data-auto-link target=\"_blank\">https://hk.appledaily.com/local/20200726/FKMHUBPMC4FPPZLZ52QGLYRZQU/|title=【立法會選舉】公民黨覆信選舉主任</a> 表明無意尋求外國制裁香港||work=蘋果日報}}&lt;/ref&gt;<br />\n<br />\nExpected output：選舉主任蔡敏君要求黃之鋒回答多條問題。&lt;ref&gt;{{Cite web|url=<a href=\"https://hk.appledaily.com/local/20200726/V7ZLLPFUYFD2HI7PKKL2SZWU3U/|title=【立法會選舉】DQ主任7問黃之鋒\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FV7ZLLPFUYFD2HI7PKKL2SZWU3U%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91DQ%E4%B8%BB%E4%BB%BB7%E5%95%8F%E9%BB%83%E4%B9%8B%E9%8B%92&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=6577085d\" data-ef-url=\"https://embed.lih.kg/frame?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FV7ZLLPFUYFD2HI7PKKL2SZWU3U%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91DQ%E4%B8%BB%E4%BB%BB7%E5%95%8F%E9%BB%83%E4%B9%8B%E9%8B%92&h=4ce7417f\" data-auto-link target=\"_blank\">https://hk.appledaily.com/local/20200726/V7ZLLPFUYFD2HI7PKKL2SZWU3U/|title=【立法會選舉】DQ主任7問黃之鋒</a> 詳列fb帖質疑圖借議員職權游說國際干涉中港|date=2020-07-26|work=蘋果日報 (香港)|accessdate=2020-07-26}}&lt;/ref&gt;公民黨鄭達鴻回覆選舉主任，表示無意尋求外國制裁香港。&lt;ref&gt;{{Cite web|url=<a href=\"https://hk.appledaily.com/local/20200726/FKMHUBPMC4FPPZLZ52QGLYRZQU/|title=【立法會選舉】公民黨覆信選舉主任\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FFKMHUBPMC4FPPZLZ52QGLYRZQU%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91%E5%85%AC%E6%B0%91%E9%BB%A8%E8%A6%86%E4%BF%A1%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=48a999e8\" data-ef-url=\"https://embed.lih.kg/frame?u=https%3A%2F%2Fhk.appledaily.com%2Flocal%2F20200726%2FFKMHUBPMC4FPPZLZ52QGLYRZQU%2F%7Ctitle%3D%E3%80%90%E7%AB%8B%E6%B3%95%E6%9C%83%E9%81%B8%E8%88%89%E3%80%91%E5%85%AC%E6%B0%91%E9%BB%A8%E8%A6%86%E4%BF%A1%E9%81%B8%E8%88%89%E4%B8%BB%E4%BB%BB&h=c90714d6\" data-auto-link target=\"_blank\">https://hk.appledaily.com/local/20200726/FKMHUBPMC4FPPZLZ52QGLYRZQU/|title=【立法會選舉】公民黨覆信選舉主任</a> 表明無意尋求外國制裁香港|date=2020-07-26|work=蘋果日報 (香港)|accessdate=2020-07-26}}&lt;/ref&gt;"},"citedBy":1,"replyTime":"2020-07-27T00:57:14.000Z","msg":"javascript builtin左個DOMParser 可以用嚟處理HTML parsing<br />\n未必需要自己由零開始寫個parser<br />\n<br />\n但html parser 唔係好support custom self-closing tags，例如&lt;ref /&gt;12345會夾硬interpret 做&lt;ref&gt;12345&lt;/ref&gt;<br />\n所以要事前用regex將堆self closing tags加返個真closing tag<br />\n<br />\n<a href=\"https://pastebin.com/4VQS1iVc\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fpastebin.com%2F4VQS1iVc&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=dc2dc6b9\" data-auto-link target=\"_blank\">https://pastebin.com/4VQS1iVc</a>"},"citedBy":0,"replyTime":"2020-07-27T01:50:25.000Z","msg":"但output都係要保留個self closing tags<br />\n不過而家處理啲tag嘅parser已經寫好咗<br />\n我處理埋tag入面啲內容就得"},{"pid":"963e83db2f8069d79206a635943ab79317ce1010","tid":2124925,"uid":280551,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-27T04:29:00.000Z","msg":"string 是否xml?"},{"pid":"540b33b73b5b5a76995d0a8b28413568fba33b06","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"963e83db2f8069d79206a635943ab79317ce1010","tid":2124925,"uid":280551,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-27T04:29:00.000Z","msg":"string 是否xml?"},"citedBy":0,"replyTime":"2020-07-27T04:52:28.000Z","msg":"not exactly"},{"pid":"fa66836fb4264ac47a2ecbcfbe77718d28f80264","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"ab71dee1c1b124beb1404d224c33e1184989742b","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"quote":{"pid":"9359ed07932942e5b8aea4a0eb26c202b8740a33","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-26T14:43:50.000Z","msg":"<pre><code data-type=\"\">function main(){\n    var input = document.getElementsByName(&quot;input&quot;)[0].value;\n    const regex = /&lt;\\s*ref\\s*[^&gt;]*?&gt;([^&lt;]+)&lt;\\s*\\/ref\\s*&gt;/g; \n    var output = [...input.matchAll(regex)].map(groups =&gt; groups[1]).join(&quot;,&quot;);\n    document.getElementsByName(&quot;output&quot;)[0].value = output; \n}</code></pre>"},"citedBy":2,"replyTime":"2020-07-26T14:44:47.000Z","msg":"<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FString%2FmatchAll&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=69bdb883\" data-auto-link target=\"_blank\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll</a>"},"citedBy":1,"replyTime":"2020-07-28T15:55:55.000Z","msg":"唔好意思想問多一樣嘢。<br />\n條regex &lt;ref&gt;嗰度可唔可以整做case insensitive，即係&lt;Ref&gt;都可以認到？<br />\nThanks"},{"pid":"f317b3176ab6bae999a754fd46a75342c382471e","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"quote":{"pid":"fa66836fb4264ac47a2ecbcfbe77718d28f80264","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"ab71dee1c1b124beb1404d224c33e1184989742b","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"quote":{"pid":"9359ed07932942e5b8aea4a0eb26c202b8740a33","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-26T14:43:50.000Z","msg":"<pre><code data-type=\"\">function main(){\n    var input = document.getElementsByName(&quot;input&quot;)[0].value;\n    const regex = /&lt;\\s*ref\\s*[^&gt;]*?&gt;([^&lt;]+)&lt;\\s*\\/ref\\s*&gt;/g; \n    var output = [...input.matchAll(regex)].map(groups =&gt; groups[1]).join(&quot;,&quot;);\n    document.getElementsByName(&quot;output&quot;)[0].value = output; \n}</code></pre>"},"citedBy":2,"replyTime":"2020-07-26T14:44:47.000Z","msg":"<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FString%2FmatchAll&d=jSYRdVihxMCX8m9Ry8wFHZFs2tgc95e9lhkBuxw3Ky4%3D&h=69bdb883\" data-auto-link target=\"_blank\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll</a>"},"citedBy":1,"replyTime":"2020-07-28T15:55:55.000Z","msg":"唔好意思想問多一樣嘢。<br />\n條regex &lt;ref&gt;嗰度可唔可以整做case insensitive，即係&lt;Ref&gt;都可以認到？<br />\nThanks"},"citedBy":0,"replyTime":"2020-07-28T16:13:29.000Z","msg":"<pre><code data-type=\"\"> /&lt;\\s*ref\\s*[^&gt;]*?&gt;([^&lt;]+)&lt;\\s*\\/ref\\s*&gt;/gi</code></pre><br />\n加個case <strong>i</strong>nsensitive flag 就ok"},{"pid":"25ce2e3797f87e0175321385b9f8c2afe1aeaed3","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-28T18:41:22.000Z","msg":"多謝咁多位。想問多一個問題。<br />\n我做到我想要的，但唔知係咪好的寫法。<br />\n<br />\n而家我已經可以用regex去將tag入面的資料放入array。下一步我要將array入面的資料再放入另一個function改啲嘢，最後放返入原本Input個String再Output。想問放返入原來Input個string的步驟係咪應該用replace() method？<br />\n<br />\n雖然tag外面的內容同tag入面的內容理應唔會重覆，但係假設出現依個情況，用replace method咪會出事。我自己諗到的處理方法係喺replace function加多一個&quot;&lt;&quot;做一重保險。<br />\n<br />\nInput：<br />\nXXXXXXXXXX&lt;ref&gt;111111111&lt;/ref&gt;XXXXXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXXXX&lt;ref name=&quot;Test&quot;&gt;33333333&lt;/ref&gt;XXXXXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXXXXX<br />\n<br />\nExpected Output：<br />\nXXXXXXXXXX&lt;ref&gt;111111111Test&lt;/ref&gt;XXXXXXXXXXX&lt;ref&gt;222 22Test&lt;/ref&gt;XXXXXXX&lt;ref name=&quot;Test&quot;&gt;33333333Test&lt;/ref&gt;XXXXXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXXXXX<br />\n<br />\n<img src=\"https://na.cx/i/LbRCnJf.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FLbRCnJf.png&h=203c1a14&s={SIZE}\" />"},{"pid":"d5ab0985914a1afc4788993d13aaa8b6ae36a579","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"25ce2e3797f87e0175321385b9f8c2afe1aeaed3","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-28T18:41:22.000Z","msg":"多謝咁多位。想問多一個問題。<br />\n我做到我想要的，但唔知係咪好的寫法。<br />\n<br />\n而家我已經可以用regex去將tag入面的資料放入array。下一步我要將array入面的資料再放入另一個function改啲嘢，最後放返入原本Input個String再Output。想問放返入原來Input個string的步驟係咪應該用replace() method？<br />\n<br />\n雖然tag外面的內容同tag入面的內容理應唔會重覆，但係假設出現依個情況，用replace method咪會出事。我自己諗到的處理方法係喺replace function加多一個&quot;&lt;&quot;做一重保險。<br />\n<br />\nInput：<br />\nXXXXXXXXXX&lt;ref&gt;111111111&lt;/ref&gt;XXXXXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXXXX&lt;ref name=&quot;Test&quot;&gt;33333333&lt;/ref&gt;XXXXXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXXXXX<br />\n<br />\nExpected Output：<br />\nXXXXXXXXXX&lt;ref&gt;111111111Test&lt;/ref&gt;XXXXXXXXXXX&lt;ref&gt;222 22Test&lt;/ref&gt;XXXXXXX&lt;ref name=&quot;Test&quot;&gt;33333333Test&lt;/ref&gt;XXXXXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXXXXX<br />\n<br />\n<img src=\"https://na.cx/i/LbRCnJf.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FLbRCnJf.png&h=203c1a14&s={SIZE}\" />"},"citedBy":0,"replyTime":"2020-07-28T18:43:51.000Z","msg":"再保險啲應該係<br />\noutput = output.replace(&quot;&gt;&quot;+ref_array[i]+&quot;&lt;&quot;,&quot;&gt;&quot;+blackbox(ref_array[i])+&quot;&lt;&quot;);<br />\n<br />\n而家我做到我想要的效果，但唔知道依個係咪一個好的做法。"},{"pid":"aafcd829520899b2a89a1d7816b93819a1156da3","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-29T00:08:48.000Z","msg":"<blockquote>雖然tag外面的內容同tag入面的內容理應唔會重覆，但係假設出現依個情況</blockquote><br />\n唔係好明，有無例子"},{"pid":"36e5be8e730b90a33fa15bafe9f9389899d81672","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"aafcd829520899b2a89a1d7816b93819a1156da3","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-29T00:08:48.000Z","msg":"<blockquote>雖然tag外面的內容同tag入面的內容理應唔會重覆，但係假設出現依個情況</blockquote><br />\n唔係好明，有無例子"},"citedBy":1,"replyTime":"2020-07-29T00:19:07.000Z","msg":"<img src=\"https://na.cx/i/L2UTHmn.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FL2UTHmn.png&h=add592ea&s={SIZE}\" /><br />\n<br />\nInput：<br />\n&gt;222 22&lt;XXXXX&lt;ref&gt;1111111&lt;/ref&gt;XXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXX&lt;ref name=&quot;Test&quot;&gt;33333333&lt;/ref&gt;XXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXX<br />\n<br />\nOutput：<br />\n&gt;222 22<span class=\"red\">Test</span>&lt;XXXXX&lt;ref&gt;1111111Test&lt;/ref&gt;XXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXX&lt;ref name=&quot;Test&quot;&gt;33333333Test&lt;/ref&gt;XXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXX<br />\n<br />\nExpected Output：<br />\n&gt;222 22&lt;XXXXX&lt;ref&gt;1111111Test&lt;/ref&gt;XXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXX&lt;ref name=&quot;Test&quot;&gt;33333333Test&lt;/ref&gt;XXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXX<br />\n<br />\n前面第一個222 22唔應該加Test，但係Replace的時候連佢都replace埋。"},{"pid":"2228e367e98df9adb40b13c7d8512f5191e791ef","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"quote":{"pid":"36e5be8e730b90a33fa15bafe9f9389899d81672","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"aafcd829520899b2a89a1d7816b93819a1156da3","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-29T00:08:48.000Z","msg":"<blockquote>雖然tag外面的內容同tag入面的內容理應唔會重覆，但係假設出現依個情況</blockquote><br />\n唔係好明，有無例子"},"citedBy":1,"replyTime":"2020-07-29T00:19:07.000Z","msg":"<img src=\"https://na.cx/i/L2UTHmn.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FL2UTHmn.png&h=add592ea&s={SIZE}\" /><br />\n<br />\nInput：<br />\n&gt;222 22&lt;XXXXX&lt;ref&gt;1111111&lt;/ref&gt;XXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXX&lt;ref name=&quot;Test&quot;&gt;33333333&lt;/ref&gt;XXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXX<br />\n<br />\nOutput：<br />\n&gt;222 22<span class=\"red\">Test</span>&lt;XXXXX&lt;ref&gt;1111111Test&lt;/ref&gt;XXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXX&lt;ref name=&quot;Test&quot;&gt;33333333Test&lt;/ref&gt;XXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXX<br />\n<br />\nExpected Output：<br />\n&gt;222 22&lt;XXXXX&lt;ref&gt;1111111Test&lt;/ref&gt;XXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXX&lt;ref name=&quot;Test&quot;&gt;33333333Test&lt;/ref&gt;XXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXX<br />\n<br />\n前面第一個222 22唔應該加Test，但係Replace的時候連佢都replace埋。"},"citedBy":1,"replyTime":"2020-07-29T00:42:30.000Z","msg":"如果一定要沿用個regex based approach，會建議重新諗一諗成個流程:<br />\n1. 用regex認返每一個ref tag <br />\n2. 用regex將每個ref tag replace做一個唔容易同現有內容重覆嘅placeholder<br />\n3. 改ref tag內容<br />\n4. 將placeholder replace做改完嘅ref tag <br />\n但始終regex好難100% cover晒啲exceptional case<br />\n<br />\n個人覺得domparser 係比較可靠嘅方法"},{"pid":"df054be04dc78d7c58cd522b57b43a12ba8e7e60","tid":2124925,"uid":19217,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-29T00:58:54.000Z","msg":"$（&rdquo;ref&rdquo;).text() <br />\n<img src=\"/assets/faces/normal/wonder.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/wonder.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/wonder.gif\" class=\"hkgmoji\" />"},{"pid":"ac1e016c0d402154e04fb79568585b011045f8c5","tid":2124925,"uid":74019,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-29T01:02:02.000Z","msg":"Case 1. &lt;ref&gt;&lt;/ref&gt;<br />\nCase 2. &lt;ref name =&quot;XX&quot;&gt;&lt;/ref&gt;<br />\nCase 3. &lt;ref name =&quot;XX&quot;/&gt;<br />\n<br />\n首先將 <span class=\"red\">/&gt;</span> replace做 <span class=\"green\">&gt;&lt;/ref&gt;</span><br />\n咁case 3 就變成  &lt;ref name =&quot;XX&quot;<span class=\"green\">&gt;&lt;/ref&gt;</span> = case 2<br />\n<br />\n再將 <span class=\"red\">&lt;ref name =&quot;XX&quot;&gt; </span>replace 做 <span class=\"green\">&lt;ref&gt;</span><br />\n(match start <span class=\"red\">&lt;ref</span> 同最近既 <span class=\"red\">&gt;</span> end)<br />\n<br />\n咁case 2,3 就變埋case 1 <br />\n<br />\ntag入面既空格: 將<span class=\"red\">&lt;/ref    &gt;</span> replace做<span class=\"green\">&lt;/ref&gt;</span><br />\n<br />\n咁會唔會易處理d?"},{"pid":"a7e5d0424e3242f791e0bbd1930d30d249ee6d82","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"2228e367e98df9adb40b13c7d8512f5191e791ef","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"quote":{"pid":"36e5be8e730b90a33fa15bafe9f9389899d81672","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"aafcd829520899b2a89a1d7816b93819a1156da3","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-29T00:08:48.000Z","msg":"<blockquote>雖然tag外面的內容同tag入面的內容理應唔會重覆，但係假設出現依個情況</blockquote><br />\n唔係好明，有無例子"},"citedBy":1,"replyTime":"2020-07-29T00:19:07.000Z","msg":"<img src=\"https://na.cx/i/L2UTHmn.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FL2UTHmn.png&h=add592ea&s={SIZE}\" /><br />\n<br />\nInput：<br />\n&gt;222 22&lt;XXXXX&lt;ref&gt;1111111&lt;/ref&gt;XXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXX&lt;ref name=&quot;Test&quot;&gt;33333333&lt;/ref&gt;XXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXX<br />\n<br />\nOutput：<br />\n&gt;222 22<span class=\"red\">Test</span>&lt;XXXXX&lt;ref&gt;1111111Test&lt;/ref&gt;XXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXX&lt;ref name=&quot;Test&quot;&gt;33333333Test&lt;/ref&gt;XXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXX<br />\n<br />\nExpected Output：<br />\n&gt;222 22&lt;XXXXX&lt;ref&gt;1111111Test&lt;/ref&gt;XXXXXXXX&lt;ref&gt;222 22&lt;/ref&gt;XXXXX&lt;ref name=&quot;Test&quot;&gt;33333333Test&lt;/ref&gt;XXXXXX&lt;ref name=&quot;Test&quot;/&gt;XXXXXX<br />\n<br />\n前面第一個222 22唔應該加Test，但係Replace的時候連佢都replace埋。"},"citedBy":1,"replyTime":"2020-07-29T00:42:30.000Z","msg":"如果一定要沿用個regex based approach，會建議重新諗一諗成個流程:<br />\n1. 用regex認返每一個ref tag <br />\n2. 用regex將每個ref tag replace做一個唔容易同現有內容重覆嘅placeholder<br />\n3. 改ref tag內容<br />\n4. 將placeholder replace做改完嘅ref tag <br />\n但始終regex好難100% cover晒啲exceptional case<br />\n<br />\n個人覺得domparser 係比較可靠嘅方法"},"citedBy":0,"replyTime":"2020-07-29T01:03:16.000Z","msg":"<img src=\"/assets/faces/normal/photo.gif\" class=\"hkgmoji\" />"},{"pid":"aa13c51ed466d2b7afe34f4c2f51a60ca06f4703","tid":2124925,"uid":15823,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-29T01:09:05.000Z","msg":"<pre><code data-type=\"\">/&lt;ref[^&gt;]*&gt;([^&lt;]*)&lt;/ref&gt;/g</code></pre>"},{"pid":"1bd6b929bd9b9b5ef84692990928c99905f0a55b","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-29T01:43:27.000Z","msg":"各位巴打可唔可以幫手寫多一條regex？今次簡單啲。<br />\n<br />\nInput：<br />\n{{Cite web| url=XXX|title=YYY |date=2020-07-29|work=ZZZ|accessdate=2020-07-29}}<br />\n<br />\nExpected Output希望係一個array<br />\n入面裝住[ url=XXX, title=YYY ,date=2020-07-29,work=ZZZ,accessdate=2020-07-29]<br />\n<br />\n我自己的寫法係咁：<br />\n<img src=\"https://na.cx/i/iNnaK3M.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FiNnaK3M.png&h=de847026&s={SIZE}\" /><br />\n但係 output係2同埋[&quot;| url=XXX&quot;, &quot;|title=YYY &quot;]<br />\n我連count &quot;|&quot;依個separator都count錯"},{"pid":"dfc2a3f80f5dbb04d003d4da263bb37aa370f06d","tid":2124925,"uid":74019,"like":0,"dislike":0,"score":0,"quote":{"pid":"1bd6b929bd9b9b5ef84692990928c99905f0a55b","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-29T01:43:27.000Z","msg":"各位巴打可唔可以幫手寫多一條regex？今次簡單啲。<br />\n<br />\nInput：<br />\n{{Cite web| url=XXX|title=YYY |date=2020-07-29|work=ZZZ|accessdate=2020-07-29}}<br />\n<br />\nExpected Output希望係一個array<br />\n入面裝住[ url=XXX, title=YYY ,date=2020-07-29,work=ZZZ,accessdate=2020-07-29]<br />\n<br />\n我自己的寫法係咁：<br />\n<img src=\"https://na.cx/i/iNnaK3M.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FiNnaK3M.png&h=de847026&s={SIZE}\" /><br />\n但係 output係2同埋[&quot;| url=XXX&quot;, &quot;|title=YYY &quot;]<br />\n我連count &quot;|&quot;依個separator都count錯"},"citedBy":1,"replyTime":"2020-07-29T02:10:03.000Z","msg":"如果input只係呢個樣，可以直接用split<br />\noutput = input.split(&quot;|&quot;)<br />\n頭尾{{, }}直接replace做empty就得"},{"pid":"617d4075e754b26df4ea833bf5e94e9333ba5b2b","tid":2124925,"uid":154554,"like":0,"dislike":0,"score":0,"quote":{"pid":"dfc2a3f80f5dbb04d003d4da263bb37aa370f06d","tid":2124925,"uid":74019,"like":0,"dislike":0,"score":0,"quote":{"pid":"1bd6b929bd9b9b5ef84692990928c99905f0a55b","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-29T01:43:27.000Z","msg":"各位巴打可唔可以幫手寫多一條regex？今次簡單啲。<br />\n<br />\nInput：<br />\n{{Cite web| url=XXX|title=YYY |date=2020-07-29|work=ZZZ|accessdate=2020-07-29}}<br />\n<br />\nExpected Output希望係一個array<br />\n入面裝住[ url=XXX, title=YYY ,date=2020-07-29,work=ZZZ,accessdate=2020-07-29]<br />\n<br />\n我自己的寫法係咁：<br />\n<img src=\"https://na.cx/i/iNnaK3M.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FiNnaK3M.png&h=de847026&s={SIZE}\" /><br />\n但係 output係2同埋[&quot;| url=XXX&quot;, &quot;|title=YYY &quot;]<br />\n我連count &quot;|&quot;依個separator都count錯"},"citedBy":1,"replyTime":"2020-07-29T02:10:03.000Z","msg":"如果input只係呢個樣，可以直接用split<br />\noutput = input.split(&quot;|&quot;)<br />\n頭尾{{, }}直接replace做empty就得"},"citedBy":1,"replyTime":"2020-07-29T02:15:09.000Z","msg":"<pre><code data-type=\"\">input.replace(/^{+|}+$/g, &ldquo;&rdquo;).split(&ldquo;|&rdquo;).map(e =&gt; e.trim())</code></pre>"},{"pid":"0db944394ec6f6305072a60741c42f4985e2d30a","tid":2124925,"uid":122827,"like":0,"dislike":0,"score":0,"quote":{"pid":"617d4075e754b26df4ea833bf5e94e9333ba5b2b","tid":2124925,"uid":154554,"like":0,"dislike":0,"score":0,"quote":{"pid":"dfc2a3f80f5dbb04d003d4da263bb37aa370f06d","tid":2124925,"uid":74019,"like":0,"dislike":0,"score":0,"quote":{"pid":"1bd6b929bd9b9b5ef84692990928c99905f0a55b","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-29T01:43:27.000Z","msg":"各位巴打可唔可以幫手寫多一條regex？今次簡單啲。<br />\n<br />\nInput：<br />\n{{Cite web| url=XXX|title=YYY |date=2020-07-29|work=ZZZ|accessdate=2020-07-29}}<br />\n<br />\nExpected Output希望係一個array<br />\n入面裝住[ url=XXX, title=YYY ,date=2020-07-29,work=ZZZ,accessdate=2020-07-29]<br />\n<br />\n我自己的寫法係咁：<br />\n<img src=\"https://na.cx/i/iNnaK3M.png\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fna.cx%2Fi%2FiNnaK3M.png&h=de847026&s={SIZE}\" /><br />\n但係 output係2同埋[&quot;| url=XXX&quot;, &quot;|title=YYY &quot;]<br />\n我連count &quot;|&quot;依個separator都count錯"},"citedBy":1,"replyTime":"2020-07-29T02:10:03.000Z","msg":"如果input只係呢個樣，可以直接用split<br />\noutput = input.split(&quot;|&quot;)<br />\n頭尾{{, }}直接replace做empty就得"},"citedBy":1,"replyTime":"2020-07-29T02:15:09.000Z","msg":"<pre><code data-type=\"\">input.replace(/^{+|}+$/g, &ldquo;&rdquo;).split(&ldquo;|&rdquo;).map(e =&gt; e.trim())</code></pre>"},"citedBy":1,"replyTime":"2020-07-29T02:54:07.000Z","msg":"咁樣點睇<br />\n<code>input.match(/[a-z]+=[^|]+/gi).map(e =&gt; e.trim())</code>"},{"pid":"427fcc9f4b58dfaead84b26289bca45b37769eda","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-29T04:19:35.000Z","msg":"我寫咗個程式去一次過fetch好多websites。<br />\n跟住有啲websites用咗Cloudfare，fetch返嚟嘅結果同我講&rdquo;Just a moment&rdquo;。<br />\n<br />\n我諗住喺每次fetch之間加一個sleeps等佢唔好fetch得咁密。sleeps個時間應該set幾耐好？我試過1秒都唔得，想問應該隔幾多秒？"},{"pid":"43d262d3e2829c11d3b4f841f88dd8f0cda1ba9d","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"quote":{"pid":"0db944394ec6f6305072a60741c42f4985e2d30a","tid":2124925,"uid":122827,"like":0,"dislike":0,"score":0,"quote":{"pid":"617d4075e754b26df4ea833bf5e94e9333ba5b2b","tid":2124925,"uid":154554,"like":0,"dislike":0,"score":0,"quote":{"pid":"dfc2a3f80f5dbb04d003d4da263bb37aa370f06d","tid":2124925,"uid":74019,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-29T02:10:03.000Z","msg":"如果input只係呢個樣，可以直接用split<br />\noutput = input.split(&quot;|&quot;)<br />\n頭尾{{, }}直接replace做empty就得"},"citedBy":1,"replyTime":"2020-07-29T02:15:09.000Z","msg":"<pre><code data-type=\"\">input.replace(/^{+|}+$/g, &ldquo;&rdquo;).split(&ldquo;|&rdquo;).map(e =&gt; e.trim())</code></pre>"},"citedBy":1,"replyTime":"2020-07-29T02:54:07.000Z","msg":"咁樣點睇<br />\n<code>input.match(/[a-z]+=[^|]+/gi).map(e =&gt; e.trim())</code>"},"citedBy":0,"replyTime":"2020-07-29T04:23:12.000Z","msg":"Thanks, 我用split搞掂咗啦<br />\n所以唔洗用regex住"},{"pid":"c72604639b96b59f2385f3529ecbe3c87b390855","tid":2124925,"uid":279606,"like":0,"dislike":1,"score":-1,"citedBy":0,"replyTime":"2020-07-29T04:23:27.000Z","msg":"R E G U L A R E X P R E S S I O N"},{"pid":"ea8f4cb1e5edd9e0ce1e869468c59ba375731910","tid":2124925,"uid":15823,"like":0,"dislike":0,"score":0,"quote":{"pid":"427fcc9f4b58dfaead84b26289bca45b37769eda","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-07-29T04:19:35.000Z","msg":"我寫咗個程式去一次過fetch好多websites。<br />\n跟住有啲websites用咗Cloudfare，fetch返嚟嘅結果同我講&rdquo;Just a moment&rdquo;。<br />\n<br />\n我諗住喺每次fetch之間加一個sleeps等佢唔好fetch得咁密。sleeps個時間應該set幾耐好？我試過1秒都唔得，想問應該隔幾多秒？"},"citedBy":0,"replyTime":"2020-07-29T04:57:37.000Z","msg":"試到得<br />\n太密ban 埋你ip fetch 都無得你fetch<br />\n如有需要可以用scrapinghub 之類service 幫你fetch"},{"pid":"d3f4df1a92eb8f5dacb600c44edf3e93687a7f1f","tid":2124925,"uid":5056,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-29T05:34:26.000Z","msg":"最基本不外乎randomize sleep interval<br />\n同埋fake request header user agent"},{"pid":"4567f80b51cb3839eec996a18f82c9f588cc5b36","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2020-07-29T05:48:44.000Z","msg":"多謝大家幫忙，我而家已經寫到我需要的function啦。<br />\n雖然仲會有啲bugs，不過大致上已經無問題。<br />\n<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /><img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"0d09ea87733e9c5b38ff7d49775224b8a58fc6ee","tid":2124925,"uid":71237,"like":0,"dislike":0,"score":0,"citedBy":1,"replyTime":"2020-08-02T04:45:19.000Z","msg":"又有新問題啦。<br />\nInput：[[金融管理局]][[蘋果日報]][[蘋果日報]]<br />\nInput段string真係有[[ ]]包住啲字，唔係array嚟。<br />\n<br />\n<pre><code data-type=\"\">testfunction();\nfunction testfunction(){\nvar input = &quot;[[金融管理局]][[蘋果日報]][[蘋果日報]]&quot;;\n var abc = [&quot;[[蘋果日報]]&quot;,&quot;[[金融管理局]]&quot;,&quot;[[施政報告]]&quot;];\n var output = &quot;&quot;;\n for (var i=0;i&lt;abc.length;i++){\n var countStr = count(input,abc[i]);\n   if (countStr &gt; 0) {\n     output = output + abc[i] + &quot;x&quot; + countStr;\n   }\n }\n console.log(output);\n}\nfunction count(str, value) {\n  var regExp = new RegExp(value, &quot;g&quot;);\n  return (str.match(regExp) || []).length;\n}</code></pre><br />\n<br />\nExpected output：<br />\n[[蘋果日報]]x2[[金融管理局]]x1<br />\nOutput：<br />\n[[蘋果日報]]x2[[金融管理局]]x1[[施政報告]]x2<br />\n<br />\n但如果我將「蘋果日報」「金融管理局」「施政報告」分別改成「aaa」「bbb」「ccc」，output就唔會有問題。<br />\n識得出[[aaa]]x2[[bbb]]x1<br />\n點解同一段code入面放中文唔work，但係放英文就work？"}]}