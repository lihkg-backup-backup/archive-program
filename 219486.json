{"tid":219486,"cid":26,"subCid":0,"title":"[新手mysql求教]點樣做到連接兩個table 做到 pass by reference效果","createTime":"2017-04-27T08:53:03.000Z","updateTime":"2017-05-01T11:37:35.000Z","uid":85543,"like":0,"dislike":2,"uniUserReply":0,"replies":[{"pid":"c4573b577fd7b802be5f9c488221b962166a2d57","tid":219486,"uid":85543,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T08:53:03.000Z","msg":"例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌"},{"pid":"b3f53a73155b0a0b5bdd2f97114e4a69d5339d56","tid":219486,"uid":42119,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T09:00:36.000Z","msg":"咁點解要開多個column<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/clown.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/clown.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/clown.gif\" class=\"hkgmoji\" />"},{"pid":"4fc3908a109316674da3c75b2660780917f6dbca","tid":219486,"uid":73231,"like":0,"dislike":1,"score":-1,"citedBy":0,"replyTime":"2017-04-27T09:01:03.000Z","msg":"<blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?"},{"pid":"68b2bc6a458b772e922c1747b0fefff2eb8f01b9","tid":219486,"uid":13261,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T09:02:16.000Z","msg":"data redundancy<img src=\"/assets/faces/normal/wonder2.gif\" class=\"hkgmoji\" />"},{"pid":"24a663ba2a9f9f623af5d7027e913d91e403e2db","tid":219486,"uid":85543,"like":0,"dislike":1,"score":-1,"citedBy":0,"replyTime":"2017-04-27T09:07:46.000Z","msg":"<blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n<br />\n情境:<br />\n我有兩個table<br />\n一個table 員工個人資料 有name<br />\n一個table 員工崗位資料 有em_name<br />\n咁個員工轉名 table a (name)<br />\ntable b 的em_name都要轉<br />\n咁如果想咁 咁可以點?"},{"pid":"4b670590f5248019540271f6200961029eab9da1","tid":219486,"uid":73231,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T09:10:57.000Z","msg":"<blockquote><blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n<br />\n情境:<br />\n我有兩個table<br />\n一個table 員工個人資料 有name<br />\n一個table 員工崗位資料 有em_name<br />\n咁個員工轉名 table a (name)<br />\ntable b 的em_name都要轉<br />\n咁如果想咁 咁可以點?</blockquote><br />\n<br />\n一個TABLE 咪得囉.<br />\n再唔係用EMPLOYEE_ID LINK 兩個TABLES....<br />\n有冇schema 望望?"},{"pid":"11c0aff75d28dc8c0ffa4bea18053e52a4f13c5e","tid":219486,"uid":85543,"like":0,"dislike":1,"score":-1,"citedBy":0,"replyTime":"2017-04-27T09:17:10.000Z","msg":"<blockquote><blockquote><blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n<br />\n情境:<br />\n我有兩個table<br />\n一個table 員工個人資料 有name<br />\n一個table 員工崗位資料 有em_name<br />\n咁個員工轉名 table a (name)<br />\ntable b 的em_name都要轉<br />\n咁如果想咁 咁可以點?</blockquote><br />\n<br />\n一個TABLE 咪得囉.<br />\n再唔係用EMPLOYEE_ID LINK 兩個TABLES....<br />\n有冇schema 望望?</blockquote><br />\n<br />\n的確係兩個table都有employee ID code<br />\n一個叫ID<br />\n一個叫EM_ID<br />\n咁點link?<br />\n小弟唔熟RelationalDB<br />\n係咪要set foreign key primary key 落index?"},{"pid":"029a827dcb444cf803454dc71c5f4f5d33b278be","tid":219486,"uid":73231,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T09:24:05.000Z","msg":"<blockquote><blockquote><blockquote><blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n<br />\n情境:<br />\n我有兩個table<br />\n一個table 員工個人資料 有name<br />\n一個table 員工崗位資料 有em_name<br />\n咁個員工轉名 table a (name)<br />\ntable b 的em_name都要轉<br />\n咁如果想咁 咁可以點?</blockquote><br />\n<br />\n一個TABLE 咪得囉.<br />\n再唔係用EMPLOYEE_ID LINK 兩個TABLES....<br />\n有冇schema 望望?</blockquote><br />\n<br />\n的確係兩個table都有employee ID code<br />\n一個叫ID<br />\n一個叫EM_ID<br />\n咁點link?<br />\n小弟唔熟RelationalDB<br />\n係咪要set foreign key primary key 落index?</blockquote><br />\n係。不過你唔熟同聽你語氣，你都係畀錢人幫你搞罷啦<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"888ad54c7af57ba79e814be9f89a1f60cba86df1","tid":219486,"uid":85543,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T09:31:46.000Z","msg":"<blockquote><blockquote><blockquote><blockquote><blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n<br />\n情境:<br />\n我有兩個table<br />\n一個table 員工個人資料 有name<br />\n一個table 員工崗位資料 有em_name<br />\n咁個員工轉名 table a (name)<br />\ntable b 的em_name都要轉<br />\n咁如果想咁 咁可以點?</blockquote><br />\n<br />\n一個TABLE 咪得囉.<br />\n再唔係用EMPLOYEE_ID LINK 兩個TABLES....<br />\n有冇schema 望望?</blockquote><br />\n<br />\n的確係兩個table都有employee ID code<br />\n一個叫ID<br />\n一個叫EM_ID<br />\n咁點link?<br />\n小弟唔熟RelationalDB<br />\n係咪要set foreign key primary key 落index?</blockquote><br />\n係。不過你唔熟同聽你語氣，你都係畀錢人幫你搞罷啦<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /></blockquote><br />\n好啦<img src=\"/assets/faces/lomoji/22.png\" class=\"hkgmoji\" /> <br />\n但唔該晒<img src=\"/assets/faces/lomoji/05.png\" class=\"hkgmoji\" />"},{"pid":"4f4d050d47b419c373108cf26c82368ee61d67e6","tid":219486,"uid":68589,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T15:51:03.000Z","msg":"已經violate左normalization"},{"pid":"30620d211f68f19232fe32aeb731358f49c32fb8","tid":219486,"uid":55249,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T15:53:37.000Z","msg":"點解唔放返id入另一個table 整fk"},{"pid":"429c9c2d42462eca0b1c88494ce9444ab8993381","tid":219486,"uid":23953,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T15:59:57.000Z","msg":"1 table 2 view 點睇？"},{"pid":"424ea6298ba4f1ca6da0cf8ee2000bc0f1aa1c51","tid":219486,"uid":10009,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T16:00:01.000Z","msg":"<blockquote>已經violate左normalization</blockquote><br />\nDenormalization 係HR系統好常見。"},{"pid":"4d02a5fd92d7865065c2a76e9359ed3c669aadb9","tid":219486,"uid":10009,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T16:04:36.000Z","msg":"<blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n我都認為trigger 係比較好做法<br />\n<br />\nHR 太多record / back log, 特別係payroll 多到痴左線，可以求奇搵到oracle 套peoplesoft拆黎望下<br />\n人名呢d極少會改，denormalize 咗佢 可能performance 仲好"},{"pid":"bd3b411eb30c8c9545ede1aad12b44b596fe50fa","tid":219486,"uid":23953,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T16:40:03.000Z","msg":"<blockquote><blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n我都認為trigger 係比較好做法<br />\n<br />\nHR 太多record / back log, 特別係payroll 多到痴左線，可以求奇搵到oracle 套peoplesoft拆黎望下<br />\n人名呢d極少會改，denormalize 咗佢 可能performance 仲好</blockquote><br />\ntrigger 用完點 maintain? 巴打想人寫完就辭工咁<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"46dcafa7da54ffe3fdad25f750eac82c8c9b5816","tid":219486,"uid":48679,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T16:42:12.000Z","msg":"<blockquote><blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n我都認為trigger 係比較好做法<br />\n<br />\nHR 太多record / back log, 特別係payroll 多到痴左線，可以求奇搵到oracle 套peoplesoft拆黎望下<br />\n人名呢d極少會改，denormalize 咗佢 可能performance 仲好</blockquote><br />\n咁點解唔用nosql 呢？"},{"pid":"d8554bcb04ffed9e053c4e9ac821e5793c54a392","tid":219486,"uid":10009,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T17:05:47.000Z","msg":"<blockquote><blockquote><blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n我都認為trigger 係比較好做法<br />\n<br />\nHR 太多record / back log, 特別係payroll 多到痴左線，可以求奇搵到oracle 套peoplesoft拆黎望下<br />\n人名呢d極少會改，denormalize 咗佢 可能performance 仲好</blockquote><br />\ntrigger 用完點 maintain? 巴打想人寫完就辭工咁<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /></blockquote><br />\n唔明你問咩"},{"pid":"a2255a5eec7235277bc2640e721fc90fe7bbe0c4","tid":219486,"uid":10009,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T17:06:49.000Z","msg":"<blockquote><blockquote><blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n我都認為trigger 係比較好做法<br />\n<br />\nHR 太多record / back log, 特別係payroll 多到痴左線，可以求奇搵到oracle 套peoplesoft拆黎望下<br />\n人名呢d極少會改，denormalize 咗佢 可能performance 仲好</blockquote><br />\n咁點解唔用nosql 呢？</blockquote><br />\n商業考慮。 <br />\n<br />\n同埋呢啲都寫咗好多年，嗰時都未興起nosql <br />\n一係就砍掉重練。"},{"pid":"098e845e03883f70386fb7c114b6449a64204689","tid":219486,"uid":36291,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T17:29:56.000Z","msg":"name同em name如果係相同既<br />\n可以刪左em name佢<br />\n直接整個fk落去em id個table到"},{"pid":"825ae20296a96e81b675cfb7003109f4e73364d9","tid":219486,"uid":79869,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T18:06:08.000Z","msg":"keep integrity constraints正路都係用foreign keys吧<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"5d2b28fd712140855e46e7f732cd7bdfd3d9a75f","tid":219486,"uid":23953,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T18:38:58.000Z","msg":"<blockquote><blockquote><blockquote><blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n我都認為trigger 係比較好做法<br />\n<br />\nHR 太多record / back log, 特別係payroll 多到痴左線，可以求奇搵到oracle 套peoplesoft拆黎望下<br />\n人名呢d極少會改，denormalize 咗佢 可能performance 仲好</blockquote><br />\ntrigger 用完點 maintain? 巴打想人寫完就辭工咁<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /></blockquote><br />\n唔明你問咩</blockquote><br />\n係multitier architecture入面，database好多時係只負責儲data，而Application tier 例如Jboss, node, ETL會有business logic<br />\n加trigger我覺得會隱藏左一啲business logic係入面，令個multitier architecture變得太模糊"},{"pid":"5b4d0ea869e23fddfbb432dfa622ea1b14abaea3","tid":219486,"uid":107436,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T20:29:45.000Z","msg":"Name 同 em name 如果係同某一個人(id)有關既就應該係同一個table. 同埋乜野叫em name? Employment? 咁樣命名會好混亂, position就position, title 就title. <br />\n<br />\n如果你話一個id有multiple em name, 咁你無可避免要update兩邊， 因為id to em name 係 1 to many, <br />\n<br />\n如果你話唔係relational, 咁就用excel (transaction只map employee id) 啦， db只會更亂"},{"pid":"a980e52f886edd2e710754cc74538b4ccfced733","tid":219486,"uid":73231,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T20:54:51.000Z","msg":"<blockquote><blockquote><blockquote><blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n我都認為trigger 係比較好做法<br />\n<br />\nHR 太多record / back log, 特別係payroll 多到痴左線，可以求奇搵到oracle 套peoplesoft拆黎望下<br />\n人名呢d極少會改，denormalize 咗佢 可能performance 仲好</blockquote><br />\ntrigger 用完點 maintain? 巴打想人寫完就辭工咁<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /></blockquote><br />\n唔明你問咩</blockquote><br />\nTrigger typically not good for concurrency<br />\nLocking. Rollback. And of course the maintainability nightmare. It should be pretty much your last resort.  Just like go to statements. There are cases they seem useful, but usually you can do away with it through better design."},{"pid":"e053d775520121cf0a039252acfc5fdbe0944a4b","tid":219486,"uid":73231,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T21:04:04.000Z","msg":"<blockquote><blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n我都認為trigger 係比較好做法<br />\n<br />\nHR 太多record / back log, 特別係payroll 多到痴左線，可以求奇搵到oracle 套peoplesoft拆黎望下<br />\n人名呢d極少會改，denormalize 咗佢 可能performance 仲好</blockquote><br />\n<br />\n<br />\nVery few production databases are truly 3nf. Many have some sort of denormalization for performance reasons. <br />\n<br />\n其實做類似 ERP 姓同名都應該分開<img src=\"/assets/faces/normal/clown.gif\" class=\"hkgmoji\" /> <br />\n就算用 trigger 都要有 relationship. 如果 1 to 1 mapping 可能唔需要分兩個 tables. <br />\n<br />\nFor performance 就好難講嘅<br />\n成日用可以考分開operational database (optimized for transactions and integrity) and data warehouse (optimized for query performance)<br />\n中間整個ETL<br />\nHeck, 你整個 flat table 都得<br />\n<br />\n你可以唔跟 rules 但要 challenge 自己有冇好理據有冇better alternative 先<br />\nBest practices are not the be all and end all, but they usually exist for good reasons"},{"pid":"7d0d2e72136447d6512d046f6aa27e208912e326","tid":219486,"uid":83582,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-04-27T21:14:50.000Z","msg":"<blockquote><blockquote><blockquote><blockquote><blockquote>例如:<br />\ntable a 有個column叫name<br />\ntable b 有個column叫em_name<br />\n<br />\n我想更新name時，em_name會自已更新<br />\n反之亦然<br />\n<br />\n有咩方法<img src=\"/assets/faces/normal/bouncer.gif\" class=\"hkgmoji\" /> <br />\n新手mysql，勿屌</blockquote><br />\n<br />\nYou can either use a trigger (which is not a best practice) <br />\n<br />\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F5.5%2Fen%2Ftrigger-syntax.html&d=pZTDRaRh7CFw%2FURiZY0DNZnkJiu3DM%2BvEze6mtExKRo%3D&h=a625d63b\" target=\"_blank\">https://dev.mysql.com/doc/refman/5.5/en/trigger-syntax.html</a><br />\n<br />\n其實聽落個DB DESIGN 應該有問題... 因為你做正常O既 relational DB 你應該唔需要咁做...<br />\nNAME EM_NAME 分別都係 UNIQUE KEY?<br />\nconcurrency 又可能有問題...<br />\n<br />\n係咪真係唔可以用relationship 去表達?</blockquote><br />\n<br />\n情境:<br />\n我有兩個table<br />\n一個table 員工個人資料 有name<br />\n一個table 員工崗位資料 有em_name<br />\n咁個員工轉名 table a (name)<br />\ntable b 的em_name都要轉<br />\n咁如果想咁 咁可以點?</blockquote><br />\n<br />\n一個TABLE 咪得囉.<br />\n再唔係用EMPLOYEE_ID LINK 兩個TABLES....<br />\n有冇schema 望望?</blockquote><br />\n<br />\n的確係兩個table都有employee ID code<br />\n一個叫ID<br />\n一個叫EM_ID<br />\n咁點link?<br />\n小弟唔熟RelationalDB<br />\n係咪要set foreign key primary key 落index?</blockquote><br />\n<br />\nselect data時join埋兩個table:<br />\n<br />\nSELECT * FROM a, b WHERE (a.ID = b.EM_ID)"}]}