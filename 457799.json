{"tid":457799,"cid":26,"subCid":0,"title":"簡單sql處理登入pw問題?","createTime":"2017-11-04T08:37:27.000Z","updateTime":"2017-11-09T15:28:30.000Z","uid":107567,"like":3,"dislike":0,"uniUserReply":18,"replies":[{"pid":"1449674a27ca182f5f8000674521da8199c47210","tid":457799,"uid":107567,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-04T08:37:27.000Z","msg":"我係正確入名同pw都唔得<br />\n其實我只要在select from果句刪左後面pw, 名係正確就登入到<br />\n但做肯定要pw<br />\n<br />\n到底pw果面有咩要執<br />\n<br />\n<br />\n<br />\n<img src=\"https://holland.pk/14bhwv6t\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fholland.pk%2F14bhwv6t&h=3309dcd0&s={SIZE}\" />"},{"pid":"27cf99f3feab2e5b29eb6ae056f0191558d0b85a","tid":457799,"uid":8179,"like":11,"dislike":1,"score":10,"citedBy":0,"replyTime":"2017-11-04T08:44:12.000Z","msg":"用AND 唔係&amp;"},{"pid":"09024e24d10fdb81c61e2744f2edead8e5f211ba","tid":457799,"uid":36478,"like":0,"dislike":3,"score":-3,"citedBy":0,"replyTime":"2017-11-04T08:45:22.000Z","msg":"你係咪漏咗加密嗰句?"},{"pid":"95597fcad3640785e2f84fd0c0b6b153a73201be","tid":457799,"uid":36478,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-04T08:45:49.000Z","msg":"<blockquote>用AND 唔係&amp;</blockquote><br />\n係喎<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"ed3dfa2babfc804b6e2d37523ecb32cdfb623380","tid":457799,"uid":32549,"like":2,"dislike":1,"score":1,"citedBy":0,"replyTime":"2017-11-04T08:55:23.000Z","msg":"果然係簡單版。"},{"pid":"259d0ff0266d86f0214a7bc692f28b13c12bf966","tid":457799,"uid":28563,"like":6,"dislike":0,"score":6,"citedBy":0,"replyTime":"2017-11-04T09:02:12.000Z","msg":"<blockquote>果然係簡單版。</blockquote><br />\nusername填admin' OR 1 = 1 OR '<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"95452aced4bd6888f7c8dc4bec8d61be6c5f5724","tid":457799,"uid":64694,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-04T09:06:10.000Z","msg":"<blockquote><blockquote>果然係簡單版。</blockquote><br />\nusername填admin' OR 1 = 1 OR '<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /></blockquote><br />\nSql injection<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"26727e36d9ce599c5d0ddf89b5dc67f46116c158","tid":457799,"uid":67527,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2017-11-04T09:07:24.000Z","msg":"<blockquote><blockquote>果然係簡單版。</blockquote><br />\nusername填admin' OR 1 = 1 OR '<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /></blockquote><br />\n宜家mysqli好似會block，永遠evaluate做TRUE嘅statement喺query入面會唔行<br />\n<br />\n不過樓主完全冇理sql injection，而且仲用md5<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" />"},{"pid":"504b598d6587187840e9fee52a5debb25558a19a","tid":457799,"uid":53194,"like":2,"dislike":0,"score":2,"citedBy":0,"replyTime":"2017-11-04T09:17:05.000Z","msg":"<blockquote><blockquote><blockquote>果然係簡單版。</blockquote><br />\nusername填admin' OR 1 = 1 OR '<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /></blockquote><br />\n宜家mysqli好似會block，永遠evaluate做TRUE嘅statement喺query入面會唔行<br />\n<br />\n不過樓主完全冇理sql injection，而且仲用md5<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /></blockquote><br />\n<br />\n初學我覺得ok 既，由淺入深，俾心機呀"},{"pid":"d8fce79ec6465e01dcbba6a0d83d3c5a42a768ef","tid":457799,"uid":64694,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2017-11-04T09:30:35.000Z","msg":"<blockquote><blockquote><blockquote><blockquote>果然係簡單版。</blockquote><br />\nusername填admin' OR 1 = 1 OR '<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /></blockquote><br />\n宜家mysqli好似會block，永遠evaluate做TRUE嘅statement喺query入面會唔行<br />\n<br />\n不過樓主完全冇理sql injection，而且仲用md5<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /></blockquote><br />\n<br />\n初學我覺得ok 既，由淺入深，俾心機呀</blockquote><br />\n其實就係初學先要注意依D野, 如果唔係就一路覺得自己依個方法啱, 之後一路錯落去<br />\n<br />\nBTW, 要prevent SQL injection, 可以用PDO (Parameterized Query)<br />\n<br />\n參考:<br />\n<a href=\"https://zh.wikipedia.org/wiki/%E5%8F%83%E6%95%B8%E5%8C%96%E6%9F%A5%E8%A9%A2\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%258F%2583%25E6%2595%25B8%25E5%258C%2596%25E6%259F%25A5%25E8%25A9%25A2&d=R%2F%2BmfF0kYNTsCQBSFggLuZUc5Mn1qk%2F8nAzLhrzJJK4%3D&h=2a46631f\" target=\"_blank\">https://zh.wikipedia.org/wiki/%E5%8F%83%E6%95%B8%E5%8C%96%E6%9F%A5%E8%A9%A2</a><br />\n<a href=\"https://www.owasp.org/index.php/Query_Parameterization_Cheat_Sheet\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.owasp.org%2Findex.php%2FQuery_Parameterization_Cheat_Sheet&d=R%2F%2BmfF0kYNTsCQBSFggLuZUc5Mn1qk%2F8nAzLhrzJJK4%3D&h=eba26786\" target=\"_blank\">https://www.owasp.org/index.php/Query_Parameterization_Cheat_Sheet</a>"},{"pid":"a1dadf3e222331592d32f6528b184947df1724ff","tid":457799,"uid":64694,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2017-11-04T10:18:25.000Z","msg":"<blockquote><blockquote><blockquote><blockquote><blockquote>果然係簡單版。</blockquote><br />\nusername填admin' OR 1 = 1 OR '<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /></blockquote><br />\n宜家mysqli好似會block，永遠evaluate做TRUE嘅statement喺query入面會唔行<br />\n<br />\n不過樓主完全冇理sql injection，而且仲用md5<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /></blockquote><br />\n<br />\n初學我覺得ok 既，由淺入深，俾心機呀</blockquote><br />\n其實就係初學先要注意依D野, 如果唔係就一路覺得自己依個方法啱, 之後一路錯落去<br />\n<br />\nBTW, 要prevent SQL injection, 可以用PDO (Parameterized Query)<br />\n<br />\n參考:<br />\n<a href=\"https://zh.wikipedia.org/wiki/%E5%8F%83%E6%95%B8%E5%8C%96%E6%9F%A5%E8%A9%A2\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%258F%2583%25E6%2595%25B8%25E5%258C%2596%25E6%259F%25A5%25E8%25A9%25A2&d=R%2F%2BmfF0kYNTsCQBSFggLuZUc5Mn1qk%2F8nAzLhrzJJK4%3D&h=2a46631f\" target=\"_blank\">https://zh.wikipedia.org/wiki/%E5%8F%83%E6%95%B8%E5%8C%96%E6%9F%A5%E8%A9%A2</a><br />\n<a href=\"https://www.owasp.org/index.php/Query_Parameterization_Cheat_Sheet\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.owasp.org%2Findex.php%2FQuery_Parameterization_Cheat_Sheet&d=R%2F%2BmfF0kYNTsCQBSFggLuZUc5Mn1qk%2F8nAzLhrzJJK4%3D&h=eba26786\" target=\"_blank\">https://www.owasp.org/index.php/Query_Parameterization_Cheat_Sheet</a></blockquote><br />\n同埋依家MD5已經唔安全, 因為用彩虹表好易會破解到, 同埋如果連加鹽都無既話, 就會更加易破解到, 所以依家for password encryption, 會用BCrypt或者PBKDF2, 其中一個原因, 佢地係慢既hash function黎, 正因為佢地慢, 所以難以做到暴力破解或者整彩虹表, MD5同SHA256果類係屬於快既hash function, 所以唔鼓勵用黎做encryption, 當然慢既hash function代價係會用多左computing power<img src=\"/assets/faces/normal/smile.gif\" class=\"hkgmoji\" />"},{"pid":"79a59ad11f819ecc3b4685f4c7a77a84cef3a713","tid":457799,"uid":28563,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-04T11:27:01.000Z","msg":"<blockquote><blockquote><blockquote>果然係簡單版。</blockquote><br />\nusername填admin' OR 1 = 1 OR '<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /></blockquote><br />\n宜家mysqli好似會block，永遠evaluate做TRUE嘅statement喺query入面會唔行<br />\n<br />\n不過樓主完全冇理sql injection，而且仲用md5<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /></blockquote><br />\nRAND() &gt; 0.01<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"22dd942ee9a4668af4c327a3c7ae2de07ff8d57c","tid":457799,"uid":131100,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-04T14:36:14.000Z","msg":"<blockquote><blockquote><blockquote><blockquote><blockquote>果然係簡單版。</blockquote><br />\nusername填admin' OR 1 = 1 OR '<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /></blockquote><br />\n宜家mysqli好似會block，永遠evaluate做TRUE嘅statement喺query入面會唔行<br />\n<br />\n不過樓主完全冇理sql injection，而且仲用md5<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /></blockquote><br />\n<br />\n初學我覺得ok 既，由淺入深，俾心機呀</blockquote><br />\n其實就係初學先要注意依D野, 如果唔係就一路覺得自己依個方法啱, 之後一路錯落去<br />\n<br />\nBTW, 要prevent SQL injection, 可以用PDO (Parameterized Query)<br />\n<br />\n參考:<br />\n<a href=\"https://zh.wikipedia.org/wiki/%E5%8F%83%E6%95%B8%E5%8C%96%E6%9F%A5%E8%A9%A2\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%258F%2583%25E6%2595%25B8%25E5%258C%2596%25E6%259F%25A5%25E8%25A9%25A2&d=R%2F%2BmfF0kYNTsCQBSFggLuZUc5Mn1qk%2F8nAzLhrzJJK4%3D&h=2a46631f\" target=\"_blank\">https://zh.wikipedia.org/wiki/%E5%8F%83%E6%95%B8%E5%8C%96%E6%9F%A5%E8%A9%A2</a><br />\n<a href=\"https://www.owasp.org/index.php/Query_Parameterization_Cheat_Sheet\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.owasp.org%2Findex.php%2FQuery_Parameterization_Cheat_Sheet&d=R%2F%2BmfF0kYNTsCQBSFggLuZUc5Mn1qk%2F8nAzLhrzJJK4%3D&h=eba26786\" target=\"_blank\">https://www.owasp.org/index.php/Query_Parameterization_Cheat_Sheet</a></blockquote><br />\n<br />\n<br />\n<a href=\"https://www.w3schools.com/php/php_mysql_prepared_statements.asp\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.w3schools.com%2Fphp%2Fphp_mysql_prepared_statements.asp&d=R%2F%2BmfF0kYNTsCQBSFggLuZUc5Mn1qk%2F8nAzLhrzJJK4%3D&h=8fcbca6e\" data-auto-link target=\"_blank\">https://www.w3schools.com/php/php_mysql_prepared_statements.asp</a>"},{"pid":"f5afbaa0a22ba5b5f105e4e5e785a1052b538542","tid":457799,"uid":147668,"like":5,"dislike":0,"score":5,"citedBy":0,"replyTime":"2017-11-04T15:08:47.000Z","msg":"新出 password function<br />\n鹽都唔洗搞<br />\n<br />\npassword_hash"},{"pid":"763b9360f75053178931af2ae49d54e5cd4f248f","tid":457799,"uid":73231,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-04T15:37:33.000Z","msg":"呢方面 C# parameterized sql command 真係乾手淨腳好多<img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" />"},{"pid":"5bcff364aace9c36e99fedc0fc92ffea779fca1c","tid":457799,"uid":23953,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-04T16:27:44.000Z","msg":"人地要交功課，講咁多sql injection, rainbow table 有咩用<img src=\"/assets/faces/big/369.gif\" class=\"hkgmoji\" />"},{"pid":"bd6244a9ad2fb3ae9d52bd30425800824bcba99a","tid":457799,"uid":73231,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-04T16:42:23.000Z","msg":"<blockquote><blockquote><blockquote><blockquote><blockquote><blockquote>果然係簡單版。</blockquote><br />\nusername填admin' OR 1 = 1 OR '<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /></blockquote><br />\n宜家mysqli好似會block，永遠evaluate做TRUE嘅statement喺query入面會唔行<br />\n<br />\n不過樓主完全冇理sql injection，而且仲用md5<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /></blockquote><br />\n<br />\n初學我覺得ok 既，由淺入深，俾心機呀</blockquote><br />\n其實就係初學先要注意依D野, 如果唔係就一路覺得自己依個方法啱, 之後一路錯落去<br />\n<br />\nBTW, 要prevent SQL injection, 可以用PDO (Parameterized Query)<br />\n<br />\n參考:<br />\n<a href=\"https://zh.wikipedia.org/wiki/%E5%8F%83%E6%95%B8%E5%8C%96%E6%9F%A5%E8%A9%A2\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%258F%2583%25E6%2595%25B8%25E5%258C%2596%25E6%259F%25A5%25E8%25A9%25A2&d=R%2F%2BmfF0kYNTsCQBSFggLuZUc5Mn1qk%2F8nAzLhrzJJK4%3D&h=2a46631f\" target=\"_blank\">https://zh.wikipedia.org/wiki/%E5%8F%83%E6%95%B8%E5%8C%96%E6%9F%A5%E8%A9%A2</a><br />\n<a href=\"https://www.owasp.org/index.php/Query_Parameterization_Cheat_Sheet\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.owasp.org%2Findex.php%2FQuery_Parameterization_Cheat_Sheet&d=R%2F%2BmfF0kYNTsCQBSFggLuZUc5Mn1qk%2F8nAzLhrzJJK4%3D&h=eba26786\" target=\"_blank\">https://www.owasp.org/index.php/Query_Parameterization_Cheat_Sheet</a></blockquote><br />\n<br />\n<br />\n<a href=\"https://www.w3schools.com/php/php_mysql_prepared_statements.asp\" data-sr-url=\"https://r.lihkg.com/link?u=https%3A%2F%2Fwww.w3schools.com%2Fphp%2Fphp_mysql_prepared_statements.asp&d=R%2F%2BmfF0kYNTsCQBSFggLuZUc5Mn1qk%2F8nAzLhrzJJK4%3D&h=8fcbca6e\" target=\"_blank\">https://www.w3schools.com/php/php_mysql_prepared_statements.asp</a></blockquote><br />\n<br />\nreal_real_really_real_escape_2 <img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" />"},{"pid":"2a953dff1ab414c364d05f65d8a734c278347a3d","tid":457799,"uid":100353,"like":6,"dislike":0,"score":6,"citedBy":0,"replyTime":"2017-11-04T16:49:43.000Z","msg":"MD5 + php +sql 出左好多回憶<img src=\"/assets/faces/normal/cry.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/cry.gif\" class=\"hkgmoji\" />"},{"pid":"8688be982639470d55d49a8db8e03fb818299bcf","tid":457799,"uid":73231,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-04T17:10:10.000Z","msg":"<blockquote>MD5 + php +sql 出左好多回憶<img src=\"/assets/faces/normal/cry.gif\" class=\"hkgmoji\" /> <img src=\"/assets/faces/normal/cry.gif\" class=\"hkgmoji\" /></blockquote><br />\n係<br />\n差啲想放棄<br />\nUntil I found c#"},{"pid":"74ead775954271eacba5f3c2d282475ee556d84b","tid":457799,"uid":64694,"like":1,"dislike":0,"score":1,"citedBy":0,"replyTime":"2017-11-05T04:59:26.000Z","msg":"<blockquote>新出 password function<br />\n鹽都唔洗搞<br />\n<br />\npassword_hash</blockquote><br />\nYes, 其實都係BCrypt黎, 只係包裝成一個function"},{"pid":"a676825d8e8ab2594643b941c536e2b319897085","tid":457799,"uid":153427,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-05T07:56:01.000Z","msg":"<blockquote>我係正確入名同pw都唔得<br />\n其實我只要在select from果句刪左後面pw, 名係正確就登入到<br />\n但做肯定要pw<br />\n<br />\n到底pw果面有咩要執<br />\n<br />\n<br />\n<br />\n<img src=\"https://holland.pk/14bhwv6t\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fholland.pk%2F14bhwv6t&h=3309dcd0&s={SIZE}\" /></blockquote><br />\n你淨係需要fetch password出黎做hash_equal(), 其他野可以唔理住<br />\n<a href=\"http://php.net/manual/en/function.hash-equals.php\" data-sr-url=\"https://r.lihkg.com/link?u=http%3A%2F%2Fphp.net%2Fmanual%2Fen%2Ffunction.hash-equals.php&d=R%2F%2BmfF0kYNTsCQBSFggLuZUc5Mn1qk%2F8nAzLhrzJJK4%3D&h=80844e9a\" data-auto-link target=\"_blank\">http://php.net/manual/en/function.hash-equals.php</a><br />\n<em>select password from users where username = ?</em>"},{"pid":"7aaac9d428a5a89fbe7fec455416e9673430d2f5","tid":457799,"uid":153427,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-05T07:58:25.000Z","msg":"<blockquote>呢方面 C# parameterized sql command 真係乾手淨腳好多<img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" /></blockquote><br />\nphp都可以開一個method<br />\nauthUser($username, $password)<br />\nfetchPassword(user $username), <br />\nwrap曬佢"},{"pid":"ec20b4c2d4f08cf281bd6d050b62f9054600e175","tid":457799,"uid":73231,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-05T09:25:51.000Z","msg":"<blockquote><blockquote>呢方面 C# parameterized sql command 真係乾手淨腳好多<img src=\"/assets/faces/normal/angel.gif\" class=\"hkgmoji\" /></blockquote><br />\nphp都可以開一個method<br />\nauthUser($username, $password)<br />\nfetchPassword(user $username), <br />\nwrap曬佢</blockquote><br />\n但你個method 入邊咪一樣要自己記得去 escape 啲 special characters"},{"pid":"fb8161bebd8d9d919b6c5a9ab936271c92b38cee","tid":457799,"uid":79869,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-08T06:47:59.000Z","msg":"<blockquote><blockquote><blockquote>果然係簡單版。</blockquote><br />\nusername填admin' OR 1 = 1 OR '<img src=\"/assets/faces/normal/agree.gif\" class=\"hkgmoji\" /></blockquote><br />\n宜家mysqli好似會block，永遠evaluate做TRUE嘅statement喺query入面會唔行<br />\n<br />\n不過樓主完全冇理sql injection，而且仲用md5<img src=\"/assets/faces/normal/sosad.gif\" class=\"hkgmoji\" /></blockquote><br />\n唔好誤導，依家唔會再叫人用mysqli，一用就用PDO"},{"pid":"318b94804136a50d74188dee5ff18238130c2101","tid":457799,"uid":79869,"like":0,"dislike":0,"score":0,"citedBy":0,"replyTime":"2017-11-08T06:50:16.000Z","msg":"<blockquote>我係正確入名同pw都唔得<br />\n其實我只要在select from果句刪左後面pw, 名係正確就登入到<br />\n但做肯定要pw<br />\n<br />\n到底pw果面有咩要執<br />\n<br />\n<br />\n<br />\n<img src=\"https://holland.pk/14bhwv6t\" data-thumbnail-src=\"https://i.lih.kg/thumbnail?u=https%3A%2F%2Fholland.pk%2F14bhwv6t&h=3309dcd0&s={SIZE}\" /></blockquote><br />\n邊個教你用mysqli咁脫節"}]}